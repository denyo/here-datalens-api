/*!
 * HERE (c) 2017.
 * All rights reserved.
 * Data Lens JavaScript API
 * http://datalens.here.com
 * v2.3.0-40
 */
!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports={ObjectLayer:n(43),Provider:n(7),QueryProvider:n(47),QueryTileProvider:n(48),SpatialTileProvider:n(58),RawDataProvider:n(50),Service:n(8),RasterLayer:n(20),HeatmapLayer:n(35),SpatialLayer:n(56)};var r=n(2)();r.datalens=t.exports},function(t,e,n){(function(e,r){"use strict";function i(){try{var t=j;return j=null,t.apply(this,arguments)}catch(t){return C.e=t,C}}function o(t){return j=t,i}function a(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function s(t){return"function"==typeof t||"object"==typeof t&&null!==t}function u(t){return a(t)?new Error(g(t)):t}function c(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=t[n];return i[n]=e,i}function l(t,e,n){if(!P.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function f(t,e,n){if(a(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return P.defineProperty(t,e,r),t}function h(t){throw t}function p(t){try{if("function"==typeof t){var e=P.names(t.prototype),n=P.isES5&&e.length>1,r=e.length>0&&!(1===e.length&&"constructor"===e[0]),i=F.test(t+"")&&P.names(t).length>0;if(n||r||i)return!0}return!1}catch(t){return!1}}function d(t){function e(){}e.prototype=t;for(var n=8;n--;)new e;return t}function v(t){return L.test(t)}function y(t,e,n){for(var r=new Array(t),i=0;i<t;++i)r[i]=e+i+n;return r}function g(t){try{return t+""}catch(t){return"[no string representation]"}}function m(t){return null!==t&&"object"==typeof t&&"string"==typeof t.message&&"string"==typeof t.name}function _(t){try{f(t,"isOperational",!0)}catch(t){}}function b(t){return null!=t&&(t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0)}function w(t){return m(t)&&P.propertyIsWritable(t,"stack")}function x(t){return{}.toString.call(t)}function T(t,e,n){for(var r=P.names(t),i=0;i<r.length;++i){var o=r[i];if(n(o))try{P.defineProperty(e,o,P.getDescriptor(t,o))}catch(t){}}}function E(t){return B?r.env[t]:void 0}function S(){if("function"==typeof Promise)try{var t=new Promise(function(){});if("[object Promise]"==={}.toString.call(t))return Promise}catch(t){}}function M(t,e){return t.bind(e)}var P=n(4),k="undefined"==typeof navigator,C={e:{}},j,R="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:void 0!==this?this:null,O=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},A=function(){var t=[Array.prototype,Object.prototype,Function.prototype],e=function(e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1};if(P.isES5){var n=Object.getOwnPropertyNames;return function(t){for(var r=[],i=Object.create(null);null!=t&&!e(t);){var o;try{o=n(t)}catch(t){return r}for(var a=0;a<o.length;++a){var s=o[a];if(!i[s]){i[s]=!0;var u=Object.getOwnPropertyDescriptor(t,s);null!=u&&null==u.get&&null==u.set&&r.push(s)}}t=P.getPrototypeOf(t)}return r}}var r={}.hasOwnProperty;return function(n){if(e(n))return[];var i=[];t:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<t.length;++a)if(r.call(t[a],o))continue t;i.push(o)}return i}}(),F=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,D=function(){return"stack"in new Error?function(t){return w(t)?t:new Error(g(t))}:function(t){if(w(t))return t;try{throw new Error(g(t))}catch(t){return t}}}(),I=function(t){return P.isArray(t)?t:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var N="function"==typeof Array.from?function(t){return Array.from(t)}:function(t){for(var e,n=[],r=t[Symbol.iterator]();!(e=r.next()).done;)n.push(e.value);return n};I=function(t){return P.isArray(t)?t:null!=t&&"function"==typeof t[Symbol.iterator]?N(t):null}}var U="undefined"!=typeof r&&"[object process]"===x(r).toLowerCase(),B="undefined"!=typeof r&&"undefined"!=typeof r.env,q={isClass:p,isIdentifier:v,inheritedDataKeys:A,getDataPropertyOrDefault:l,thrower:h,isArray:P.isArray,asArray:I,notEnumerableProp:f,isPrimitive:a,isObject:s,isError:m,canEvaluate:k,errorObj:C,tryCatch:o,inherits:O,withAppended:c,maybeWrapAsError:u,toFastProperties:d,filledRange:y,toString:g,canAttachTrace:w,ensureErrorObject:D,originatesFromRejection:b,markAsOriginatingFromRejection:_,classString:x,copyDescriptors:T,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:U,hasEnvVariables:B,env:E,global:R,getNativePromise:S,domainBind:M};q.isRecentNode=q.isNode&&function(){var t=r.versions.node.split(".").map(Number);return 0===t[0]&&t[1]>10||t[0]>0}(),q.isNode&&q.toFastProperties(r);try{throw new Error}catch(t){q.lastLineError=t}t.exports=q}).call(e,function(){return this}(),n(5))},function(t,e){"use strict";t.exports=function(){var t=window.H;if(!t)throw new Error("HERE Maps API core libraries where not loaded");return t}},function(t,e,n){"use strict";function r(t,e){function n(r){return this instanceof n?(f(this,"message","string"==typeof r?r:e),f(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return l(n,Error),n}function i(t){return this instanceof i?(f(this,"name","OperationalError"),f(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(f(this,"message",t.message),f(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(t)}var o,a,s=n(4),u=s.freeze,c=n(1),l=c.inherits,f=c.notEnumerableProp,h=r("Warning","warning"),p=r("CancellationError","cancellation error"),d=r("TimeoutError","timeout error"),v=r("AggregateError","aggregate error");try{o=TypeError,a=RangeError}catch(t){o=r("TypeError","type error"),a=r("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),g=0;g<y.length;++g)"function"==typeof Array.prototype[y[g]]&&(v.prototype[y[g]]=Array.prototype[y[g]]);s.defineProperty(v.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),v.prototype.isOperational=!0;var m=0;v.prototype.toString=function(){var t=Array(4*m+1).join(" "),e="\n"+t+"AggregateError of:\n";m++,t=Array(4*m+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return m--,e},l(i,Error);var _=Error.__BluebirdErrorTypes__;_||(_=u({CancellationError:p,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:v}),s.defineProperty(Error,"__BluebirdErrorTypes__",{value:_,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:o,RangeError:a,CancellationError:_.CancellationError,OperationalError:_.OperationalError,TimeoutError:_.TimeoutError,AggregateError:_.AggregateError,Warning:h}},function(t,e){var n=function(){"use strict";return void 0===this}();if(n)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,i={}.toString,o={}.constructor.prototype,a=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e},s=function(t,e){return{value:t[e]}},u=function(t,e,n){return t[e]=n.value,t},c=function(t){return t},l=function(t){try{return Object(t).constructor.prototype}catch(t){return o}},f=function(t){try{return"[object Array]"===i.call(t)}catch(t){return!1}};t.exports={isArray:f,keys:a,names:a,defineProperty:u,getDescriptor:s,freeze:c,getPrototypeOf:l,isES5:n,propertyIsWritable:function(){return!0}}}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?d=p.concat(d):y=-1,d.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=d.length;e;){for(p=d,d=[];++y<e;)p&&p[y].run();y=-1,e=d.length}p=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,d=[],v=!1,y=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||v||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(63);r.config({cancellation:!0}),t.exports=r},function(t,e,n){"use strict";var r=n(2)(),i=function(t,e){this.data_=t,r.map.provider.Provider.prototype.constructor.call(this,e)};i.prototype=Object.create(r.map.provider.Provider.prototype),i.prototype.constructor=i,i.prototype.setData=function(t){this.data_=t,this.dispatchEvent("update")},i.prototype.getData=function(){return this.data_},t.exports=i},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){var n=t.format(t);if(e&&e.length){var r=e[g(n)%e.length];t.host=r+"."+t.host,n=t.format(t)}return n}function o(t){if(t.access_token&&t.password_)throw new Error("\n          Service: only one of access_token or password\n          can be set in the options\n            ");return t.access_token?"Bearer "+t.access_token:t.password_?"Basic "+window.btoa(":"+t.password_):null}function a(t){if(!t)throw new Error("\n                Service:  your Service instance must be passed as a first\n                parameter of H.service.Platform#configure()\n        ")}function s(t){if("string"!=typeof t||0===t.length)throw new TypeError("Service:  queryId must be a non-empty string")}function u(t){try{return JSON.parse(t)}catch(e){throw new Error("\n          Service:  Cannot convert the string into JSON: "+t+"\n          ")}}function c(t,e){var n=this;return e instanceof y&&this.options_.access_token&&this.options_.refresh_token&&e.code===v.UNAUTHORIZED&&e.msg===b?this.request("POST",w.refreshToken,{},{access_token:this.options_.access_token,refresh_token:this.options_.refresh_token}).then(function(e){return n.options_.access_token=e.access_token,n.options_.refresh_token=e.refresh_token,n.request.apply(n,r(t))}):m.reject(e)}function l(t){var e=t.url,n=t.method,r=t.headers,i=t.body,o=String(r["content-type"]),a=void 0;if(o.match("application/json")?a=u(i):e.match(".pbf")&&o.match("application/octet-stream")&&(a=new Uint8Array(i)),t.statusCode===v.OK){if(!a)throw new Error("Service: unsupported content-type "+o+" when "+n+" "+e);return a}throw new y(t.statusCode,a||{msg:String(i)})}var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=n(113),p=n(102),d=n(53),v=n(13),y=n(52),g=n(29),m=n(6),_={subDomain:"datalens",version:"v1",access_token:null,refresh_token:null,domainSharding:["aa","bb","cc","dd"],baseUrl:null,password_:null,xhr_:null},b="token expired",w={queries:"queries",data:"data",layers:"layers",stats:"stats",refreshToken:"sign_in/refresh"},x="cit.datalens.api.here.com",T=function(t){this.url_=null,this.options_={},this.cache_={},f(this.options_,_,t)};T.prototype.request=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments[4],u=arguments[5],v=void 0,y=void 0,g=o(this.options_),m=void 0;return a(this.url_,t,e),v=p(this.url_),f(v.query,n),v.pathname=v.pathname+"/"+e,m={useXDR:!0,withCredentials:!0,url:"GET"===t?i(v,this.options_.domainSharding):h.format(v),method:t},e.match(/.pbf$/)&&(m.responseType="arraybuffer"),r&&(m.body=JSON.stringify(r)),g&&(m.headers={Authorization:g}),this.options_.xhr_&&(m.xhr=new this.options_.xhr_),y=d.request(m,this.cache_).then(l).catch(c.bind(this,[].slice.call(arguments,0,4))),s&&(y=y.then(s,u)),y},T.prototype.fetchQueryData=function(t,e,n,r){return s(t,T.prototype.fetchQueryData,0),this.request("GET",w.queries+"/"+t+"/"+w.data,e,null,n,r)},T.prototype.fetchQueryStats=function(t,e,n,r){if(s(t,T.prototype.fetchQueryStats,0),!e||!e.stats)throw new Error("\n            Service: statsQuery JSON must contain a stats key\n        ");return this.request("POST",w.queries+"/"+t+"/"+w.stats,{},e,n,r)},T.prototype.fetchLayer=function(t,e,n,r){return this.request("GET",w.layers+"/"+t,e,null,n,r)},T.prototype.fetchLayerTile=function(t,e,n,r,i,o,a){return this.request("GET",w.layers+"/"+t+"/"+r+"/"+e+"/"+n+".pbf",i,null,o,a)},T.prototype.setTokens=function(t,e){switch(arguments.length){case 2:this.options_.refresh_token=e,this.options_.access_token=t;break;case 1:this.options_.access_token=t;break;default:throw new Error("Service: accessToken must be specified")}},T.prototype.configure=function(t,e,n,r,i){return this.options_.baseUrl?this.url_=h.parse(this.options_.baseUrl.toString(),!0):(this.url_=h.parse(i.toString(),!0),r?this.url_.host=x:this.url_.host=this.options_.subDomain+"."+this.url_.host),this.url_.pathname=this.options_.version,this.url_.search=null,this.url_.query.app_id=t,this.url_.query.app_code=e,delete this.url_.query.xnlp,this},t.exports=T},function(t,e,n){"use strict";function r(t){if(!(t instanceof h.map.AbstractMarker))throw new Error("Layer: You can set icon only for Markers")}function i(t){if(!(t instanceof h.map.Icon))throw new Error("Layer: icon is not instance of H.map.Icon")}function o(t){if(!(t instanceof h.map.Spatial))throw new Error("Layer: You can set style only for Spatials")}function a(t,e){for(var n in e)switch(n){case"icon":r(t),i(e.icon),t.setIcon(e.icon);break;case"zIndex":t.setZIndex(e.zIndex);break;case"style":o(t),t.setStyle(e.style);break;case"arrows":o(t),t.setArrows(e.arrows);break;default:throw new Error("ObjectLayer: unknown style property "+n)}}function s(t){var e={};for(var n in t)e[n]=d.scaleQuantile().domain(t[n]).range(t[n]);return e}function u(){return{}}function c(t,e){return new h.map.Group({min:e-.5,max:e+.5,objects:t,data:{zoom:e}})}function l(t){for(var e in t.clusterProvidersByZoom_)t.clusterProvidersByZoom_[e].dispose();t.clusterProvidersByZoom_={}}var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=n(2)(),p=n(39),d=n(12),v=n(10).bind(null,"ObjectLayer"),y="DEFAULT_STATE",g=function t(e,n){this.options_={},f(this.options_,m,n),this.styleCache_=null,this.dataDomainsScale_=null,this.options_.dataDomains&&(this.dataDomainsScale_=s(this.options_.dataDomains),this.styleCache_=new t.StyleCache(this.options_.styleCacheSize)),this.dataProvider_=e,this.onProviderUpdate_=this.onProviderUpdate_.bind(this),this.dataProvider_.addEventListener("update",this.onProviderUpdate_),this.clusterProvidersByZoom_={},this.objectProvider_=new t.ObjectProvider(e,this.onDataRequest_.bind(this)),h.map.layer.Layer.call(this,this.options_)};g.prototype=Object.create(h.map.layer.Layer.prototype),g.prototype.constructor=g,g.prototype.getProvider=function(){return this.objectProvider_},g.prototype.onProviderUpdate_=function(){this.objectProvider_.dispatchEvent("update")},g.prototype.getMapObjectFromData_=function(t,e){var n=this.options_.rowToMapObject,r=n(e,t);if(!(r instanceof h.map.Object))throw new TypeError("ObjectLayer: rowToMapObject should return H.map.Object\n            if you want to filter/aggregate objects,\n            use dataToRows callback");return r.setData(e),this.applyStyleToObject(t,r,y),r},g.prototype.getClusterProvider_=function(t){var e=this.options_.clustering.options,n=this.clusterProvidersByZoom_[t],r=void 0;if(!n){r="function"==typeof e?e(t):e;var i=this.getMapObjectFromData_.bind(this,t);n=new h.clustering.Provider([],{min:t,max:t,clusteringOptions:r,theme:{getClusterPresentation:i,getNoisePresentation:i}}),this.clusterProvidersByZoom_[t]=n,n.setParentEventTarget(this.objectProvider_)}return n},g.prototype.onDataRequest_=function(t,e,n,r){var i=Math.floor(e);if(this.options_.clustering){var o=this.getClusterProvider_(i);return o.requestMarkers(t,e,n,r)}return h.map.provider.LocalObjectProvider.prototype.requestMarkers.call(this.objectProvider_,t,e,n,r)},g.prototype.getDataForProvider_=function(t,e){var n=this,r=this.options_,i=r.dataToRows,o=r.clustering,a=i(e);if(!Array.isArray(a))throw new TypeError("ObjectLayer: dataToRows must return Array");if(!a.length)return null;if(o)return a.map(function(e){var n=o.rowToDataPoint(e,t);if(!(n instanceof h.clustering.DataPoint))throw new Error("ObjectLayer: rowToDataPoint should return\n                    H.clustering.DataPoint");return n.data=e,n});var s=a.map(function(e){return n.getMapObjectFromData_(t,e)});return c(s,t)},g.prototype.applyStyleToObject=function(t,e,n){var r=e.getData(),i=this.options_.rowToStyle;if(!this.dataDomainsScale_)return a(e,i(r,t,n));var o=[n,t],s=[];for(var u in this.dataDomainsScale_){var c=this.dataDomainsScale_[u](r[u]);o.push(c),s[u]=c}var l=o.join();this.styleCache_.get(l)||this.styleCache_.add(l,this.options_.rowToStyle(s,t,n),1),a(e,this.styleCache_.get(l))},g.prototype.redraw=function(){this.styleCache_&&this.styleCache_.removeAll(),this.options_.clustering?(l(this),this.objectProvider_.dispatchEvent("update")):this.objectProvider_.getRootGroup().removeAll()},g.prototype.dispose=function(){l(this),this.objectProvider_.dispose(),this.styleCache_&&this.styleCache_.removeAll(),this.dataProvider_.removeEventListener("update",this.onProviderUpdate_)},g.DEFAULT_STATE=y,g.ObjectProvider=p,g.defaultDataToRows=v,g.defaultRowToStyle=u,g.StyleCache=h.util.Cache;var m={rowToMapObject:null,dataToRows:function(){return g.defaultDataToRows.apply(g,arguments)},dataDomains:null,rowToStyle:function(){return g.defaultRowToStyle.apply(g,arguments)},styleCacheSize:2048};t.exports=g},function(t,e){"use strict";t.exports=function(t,e){if(e&&Array.isArray(e))return e;if(e&&Array.isArray(e.rows)&&Array.isArray(e.columns)){for(var n=[],r=e.rows.length,i=e.columns.length,o=0;o<r;o++){for(var a=e.rows[o],s={},u=0;u<i;u++)s[e.columns[u]]=a[u];n.push(s)}return n}throw new TypeError(t+".defaultDataToRows: data must have rows and columns;\n              if not, you must define a custom options.dataToRows callback")}},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function n(){}function r(t){var e;return t=(t+"").trim().toLowerCase(),(e=A.exec(t))?(e=parseInt(e[1],16),new u(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=F.exec(t))?i(parseInt(e[1],16)):(e=L.exec(t))?new u(e[1],e[2],e[3],1):(e=D.exec(t))?new u(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=I.exec(t))?o(e[1],e[2],e[3],e[4]):(e=N.exec(t))?o(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=U.exec(t))?c(e[1],e[2]/100,e[3]/100,1):(e=B.exec(t))?c(e[1],e[2]/100,e[3]/100,e[4]):q.hasOwnProperty(t)?i(q[t]):"transparent"===t?new u(NaN,NaN,NaN,0):null}function i(t){return new u(t>>16&255,t>>8&255,255&t,1)}function o(t,e,n,r){return r<=0&&(t=e=n=NaN),new u(t,e,n,r)}function a(t){return t instanceof n||(t=r(t)),t?(t=t.rgb(),new u(t.r,t.g,t.b,t.opacity)):new u}function s(t,e,n,r){return 1===arguments.length?a(t):new u(t,e,n,null==r?1:r)}function u(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function c(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new h(t,e,n,r)}function l(t){if(t instanceof h)return new h(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=r(t)),!t)return new h;if(t instanceof h)return t;t=t.rgb();var e=t.r/255,i=t.g/255,o=t.b/255,a=Math.min(e,i,o),s=Math.max(e,i,o),u=NaN,c=s-a,l=(s+a)/2;return c?(u=e===s?(i-o)/c+6*(i<o):i===s?(o-e)/c+2:(e-i)/c+4,c/=l<.5?s+a:2-s-a,u*=60):c=l>0&&l<1?0:u,new h(u,c,l,t.opacity)}function f(t,e,n,r){return 1===arguments.length?l(t):new h(t,e,n,null==r?1:r)}function h(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function p(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function d(t){if(t instanceof y)return new y(t.l,t.a,t.b,t.opacity);if(t instanceof T){var e=t.h*z;return new y(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof u||(t=a(t));var n=b(t.r),r=b(t.g),i=b(t.b),o=g((.4124564*n+.3575761*r+.1804375*i)/H),s=g((.2126729*n+.7151522*r+.072175*i)/X),c=g((.0193339*n+.119192*r+.9503041*i)/G);return new y(116*s-16,500*(o-s),200*(s-c),t.opacity)}function v(t,e,n,r){return 1===arguments.length?d(t):new y(t,e,n,null==r?1:r)}function y(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function g(t){return t>J?Math.pow(t,1/3):t/Q+W}function m(t){return t>$?t*t*t:Q*(t-W)}function _(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function b(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function w(t){if(t instanceof T)return new T(t.h,t.c,t.l,t.opacity);t instanceof y||(t=d(t));var e=Math.atan2(t.b,t.a)*Y;return new T(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function x(t,e,n,r){return 1===arguments.length?w(t):new T(t,e,n,null==r?1:r)}function T(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function E(t){if(t instanceof M)return new M(t.h,t.s,t.l,t.opacity);t instanceof u||(t=a(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(ot*r+rt*e-it*n)/(ot+rt-it),o=r-i,s=(nt*(n-i)-tt*o)/et,c=Math.sqrt(s*s+o*o)/(nt*i*(1-i)),l=c?Math.atan2(s,o)*Y-120:NaN;return new M(l<0?l+360:l,c,i,t.opacity)}function S(t,e,n,r){return 1===arguments.length?E(t):new M(t,e,n,null==r?1:r)}function M(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}var P=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},k=.7,C=1/k,j="\\s*([+-]?\\d+)\\s*",R="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",O="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A=/^#([0-9a-f]{3})$/,F=/^#([0-9a-f]{6})$/,L=new RegExp("^rgb\\("+[j,j,j]+"\\)$"),D=new RegExp("^rgb\\("+[O,O,O]+"\\)$"),I=new RegExp("^rgba\\("+[j,j,j,R]+"\\)$"),N=new RegExp("^rgba\\("+[O,O,O,R]+"\\)$"),U=new RegExp("^hsl\\("+[R,O,O]+"\\)$"),B=new RegExp("^hsla\\("+[R,O,O,R]+"\\)$"),q={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P(n,r,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),P(u,s,e(n,{brighter:function(t){return t=null==t?C:Math.pow(C,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?k:Math.pow(k,t),new u(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),P(h,f,e(n,{brighter:function(t){return t=null==t?C:Math.pow(C,t),new h(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?k:Math.pow(k,t),new h(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new u(p(t>=240?t-240:t+120,i,r),p(t,i,r),p(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var z=Math.PI/180,Y=180/Math.PI,V=18,H=.95047,X=1,G=1.08883,W=4/29,$=6/29,Q=3*$*$,J=$*$*$;P(y,v,e(n,{brighter:function(t){return new y(this.l+V*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new y(this.l-V*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=X*m(t),e=H*m(e),n=G*m(n),new u(_(3.2404542*e-1.5371385*t-.4985314*n),_(-.969266*e+1.8760108*t+.041556*n),_(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),P(T,x,e(n,{brighter:function(t){return new T(this.h,this.c,this.l+V*(null==t?1:t),this.opacity)},darker:function(t){return new T(this.h,this.c,this.l-V*(null==t?1:t),this.opacity)},rgb:function(){return d(this).rgb()}}));var Z=-.14861,K=1.78277,tt=-.29227,et=-.90649,nt=1.97294,rt=nt*et,it=nt*K,ot=K*tt-et*Z;P(M,S,e(n,{brighter:function(t){return t=null==t?C:Math.pow(C,t),new M(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?k:Math.pow(k,t),new M(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*z,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new u(255*(e+n*(Z*r+K*i)),255*(e+n*(tt*r+et*i)),255*(e+n*(nt*r)),this.opacity)}})),t.color=r,t.rgb=s,t.hsl=f,t.lab=v,t.hcl=x,t.cubehelix=S,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,r){r(e,n(91),n(92),n(94),n(93),n(27),n(95),n(11))}(this,function(t,e,n,r,i,o,a,s){"use strict";function u(t){function e(e){var n=e+"",a=r.get(n);if(!a){if(o!==Y)return o;r.set(n,a=i.push(e))}return t[(a-1)%t.length]}var r=n.map(),i=[],o=Y;return t=null==t?[]:z.call(t),e.domain=function(t){if(!arguments.length)return i.slice();i=[],r=n.map();for(var o,a,s=-1,u=t.length;++s<u;)r.has(a=(o=t[s])+"")||r.set(a,i.push(o));return e},e.range=function(n){return arguments.length?(t=z.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(o=t,e):o},e.copy=function(){return u().domain(i).range(t).unknown(o)},e}function c(){function t(){var t=o().length,i=s[1]<s[0],u=s[i-0],c=s[1-i];n=(c-u)/Math.max(1,t-f+2*h),l&&(n=Math.floor(n)),u+=(c-u-n*(t-f))*p,r=n*(1-f),l&&(u=Math.round(u),r=Math.round(r));var d=e.range(t).map(function(t){return u+n*t});return a(i?d.reverse():d)}var n,r,i=u().unknown(void 0),o=i.domain,a=i.range,s=[0,1],l=!1,f=0,h=0,p=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(o(e),t()):o()},i.range=function(e){return arguments.length?(s=[+e[0],+e[1]],t()):s.slice()},i.rangeRound=function(e){return s=[+e[0],+e[1]],l=!0,t()},i.bandwidth=function(){return r},i.step=function(){return n},i.round=function(e){return arguments.length?(l=!!e,t()):l},i.padding=function(e){return arguments.length?(f=h=Math.max(0,Math.min(1,e)),t()):f},i.paddingInner=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),t()):f},i.paddingOuter=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},i.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),t()):p},i.copy=function(){return c().domain(o()).range(s).round(l).paddingInner(f).paddingOuter(h).align(p)},t()}function l(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return l(e())},t}function f(){return l(c().paddingInner(1))}function h(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:V(e)}function p(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}function d(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}function v(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function y(t,n,r,i){var o=Math.min(t.length,n.length)-1,a=new Array(o),s=new Array(o),u=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<o;)a[u]=r(t[u],t[u+1]),s[u]=i(n[u],n[u+1]);return function(n){var r=e.bisect(t,n,1,o)-1;return s[r](a[r](n))}}function g(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function m(t,e){function n(){return o=Math.min(u.length,c.length)>2?y:v,a=s=null,i}function i(e){return(a||(a=o(u,c,f?p(t):t,l)))(+e)}var o,a,s,u=X,c=X,l=r.interpolate,f=!1;return i.invert=function(t){return(s||(s=o(c,u,h,f?d(e):e)))(+t)},i.domain=function(t){return arguments.length?(u=q.call(t,H),n()):u.slice()},i.range=function(t){return arguments.length?(c=z.call(t),n()):c.slice()},i.rangeRound=function(t){return c=z.call(t),l=r.interpolateRound,n()},i.clamp=function(t){
return arguments.length?(f=!!t,n()):f},i.interpolate=function(t){return arguments.length?(l=t,n()):l},n()}function _(t){var n=t.domain;return t.ticks=function(t){var r=n();return e.ticks(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,e){return G(n(),t,e)},t.nice=function(r){null==r&&(r=10);var i,o=n(),a=0,s=o.length-1,u=o[a],c=o[s];return c<u&&(i=u,u=c,c=i,i=a,a=s,s=i),i=e.tickIncrement(u,c,r),i>0?(u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i,i=e.tickIncrement(u,c,r)):i<0&&(u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i,i=e.tickIncrement(u,c,r)),i>0?(o[a]=Math.floor(u/i)*i,o[s]=Math.ceil(c/i)*i,n(o)):i<0&&(o[a]=Math.ceil(u*i)/i,o[s]=Math.floor(c*i)/i,n(o)),t},t}function b(){var t=m(h,r.interpolateNumber);return t.copy=function(){return g(t,b())},_(t)}function w(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=q.call(n,H),t):e.slice()},t.copy=function(){return w().domain(e)},_(t)}function x(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:V(e)}function T(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function E(t){return isFinite(t)?+("1e"+t):t<0?0:t}function S(t){return 10===t?E:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function M(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function P(t){return function(e){return-t(-e)}}function k(){function t(){return a=M(o),s=S(o),r()[0]<0&&(a=P(a),s=P(s)),n}var n=m(x,T).domain([1,10]),r=n.domain,o=10,a=M(10),s=S(10);return n.base=function(e){return arguments.length?(o=+e,t()):o},n.domain=function(e){return arguments.length?(r(e),t()):r()},n.ticks=function(t){var n,i=r(),u=i[0],c=i[i.length-1];(n=c<u)&&(p=u,u=c,c=p);var l,f,h,p=a(u),d=a(c),v=null==t?10:+t,y=[];if(!(o%1)&&d-p<v){if(p=Math.round(p)-1,d=Math.round(d)+1,u>0){for(;p<d;++p)for(f=1,l=s(p);f<o;++f)if(h=l*f,!(h<u)){if(h>c)break;y.push(h)}}else for(;p<d;++p)for(f=o-1,l=s(p);f>=1;--f)if(h=l*f,!(h<u)){if(h>c)break;y.push(h)}}else y=e.ticks(p,d,Math.min(d-p,v)).map(s);return n?y.reverse():y},n.tickFormat=function(t,e){if(null==e&&(e=10===o?".0e":","),"function"!=typeof e&&(e=i.format(e)),t===1/0)return e;null==t&&(t=10);var r=Math.max(1,o*t/n.ticks().length);return function(t){var n=t/s(Math.round(a(t)));return n*o<o-.5&&(n*=o),n<=r?e(t):""}},n.nice=function(){return r(W(r(),{floor:function(t){return s(Math.floor(a(t)))},ceil:function(t){return s(Math.ceil(a(t)))}}))},n.copy=function(){return g(n,k().base(o))},n}function C(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function j(){function t(t,e){return(e=C(e,n)-(t=C(t,n)))?function(r){return(C(r,n)-t)/e}:V(e)}function e(t,e){return e=C(e,n)-(t=C(t,n)),function(r){return C(t+e*r,1/n)}}var n=1,r=m(t,e),i=r.domain;return r.exponent=function(t){return arguments.length?(n=+t,i(i())):n},r.copy=function(){return g(r,j().exponent(n))},_(r)}function R(){return j().exponent(.5)}function O(){function t(){var t=0,a=Math.max(1,i.length);for(o=new Array(a-1);++t<a;)o[t-1]=e.quantile(r,t/a);return n}function n(t){if(!isNaN(t=+t))return i[e.bisect(o,t)]}var r=[],i=[],o=[];return n.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[e>0?o[e-1]:r[0],e<o.length?o[e]:r[r.length-1]]},n.domain=function(n){if(!arguments.length)return r.slice();r=[];for(var i,o=0,a=n.length;o<a;++o)i=n[o],null==i||isNaN(i=+i)||r.push(i);return r.sort(e.ascending),t()},n.range=function(e){return arguments.length?(i=z.call(e),t()):i.slice()},n.quantiles=function(){return o.slice()},n.copy=function(){return O().domain(r).range(i)},n}function A(){function t(t){if(t<=t)return s[e.bisect(a,t,0,o)]}function n(){var e=-1;for(a=new Array(o);++e<o;)a[e]=((e+1)*i-(e-o)*r)/(o+1);return t}var r=0,i=1,o=1,a=[.5],s=[0,1];return t.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],n()):[r,i]},t.range=function(t){return arguments.length?(o=(s=z.call(t)).length-1,n()):s.slice()},t.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[r,a[0]]:e>=o?[a[o-1],i]:[a[e-1],a[e]]},t.copy=function(){return A().domain([r,i]).range(s)},_(t)}function F(){function t(t){if(t<=t)return r[e.bisect(n,t,0,i)]}var n=[.5],r=[0,1],i=1;return t.domain=function(e){return arguments.length?(n=z.call(e),i=Math.min(n.length,r.length-1),t):n.slice()},t.range=function(e){return arguments.length?(r=z.call(e),i=Math.min(n.length,r.length-1),t):r.slice()},t.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},t.copy=function(){return F().domain(n).range(r)},t}function L(t){return new Date(t)}function D(t){return t instanceof Date?+t:+new Date(+t)}function I(t,n,i,o,a,s,u,c,l){function f(e){return(u(e)<e?_:s(e)<e?b:a(e)<e?w:o(e)<e?x:n(e)<e?i(e)<e?T:E:t(e)<e?S:M)(e)}function p(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var a=Math.abs(i-r)/n,s=e.bisector(function(t){return t[2]}).right(P,a);s===P.length?(o=e.tickStep(r/et,i/et,n),n=t):s?(s=P[a/P[s-1][2]<P[s][2]/a?s-1:s],o=s[1],n=s[0]):(o=e.tickStep(r,i,n),n=c)}return null==o?n:n.every(o)}var d=m(h,r.interpolateNumber),v=d.invert,y=d.domain,_=l(".%L"),b=l(":%S"),w=l("%I:%M"),x=l("%I %p"),T=l("%a %d"),E=l("%b %d"),S=l("%B"),M=l("%Y"),P=[[u,1,$],[u,5,5*$],[u,15,15*$],[u,30,30*$],[s,1,Q],[s,5,5*Q],[s,15,15*Q],[s,30,30*Q],[a,1,J],[a,3,3*J],[a,6,6*J],[a,12,12*J],[o,1,Z],[o,2,2*Z],[i,1,K],[n,1,tt],[n,3,3*tt],[t,1,et]];return d.invert=function(t){return new Date(v(t))},d.domain=function(t){return arguments.length?y(q.call(t,D)):y().map(L)},d.ticks=function(t,e){var n,r=y(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=p(t,i,o,e),n=n?n.range(i,o+1):[],a?n.reverse():n},d.tickFormat=function(t,e){return null==e?f:l(e)},d.nice=function(t,e){var n=y();return(t=p(t,n[0],n[n.length-1],e))?y(W(n,t)):d},d.copy=function(){return g(d,I(t,n,i,o,a,s,u,c,l))},d}function N(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function U(t){function e(e){var o=(e-n)/(r-n);return t(i?Math.max(0,Math.min(1,o)):o)}var n=0,r=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return U(t).domain([n,r]).clamp(i)},_(e)}var B=Array.prototype,q=B.map,z=B.slice,Y={name:"implicit"},V=function(t){return function(){return t}},H=function(t){return+t},X=[0,1],G=function(t,n,r){var o,a=t[0],s=t[t.length-1],u=e.tickStep(a,s,null==n?10:n);switch(r=i.formatSpecifier(null==r?",f":r),r.type){case"s":var c=Math.max(Math.abs(a),Math.abs(s));return null!=r.precision||isNaN(o=i.precisionPrefix(u,c))||(r.precision=o),i.formatPrefix(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=i.precisionRound(u,Math.max(Math.abs(a),Math.abs(s))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=i.precisionFixed(u))||(r.precision=o-2*("%"===r.type))}return i.format(r)},W=function(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t},$=1e3,Q=60*$,J=60*Q,Z=24*J,K=7*Z,tt=30*Z,et=365*Z,nt=function(){return I(o.timeYear,o.timeMonth,o.timeWeek,o.timeDay,o.timeHour,o.timeMinute,o.timeSecond,o.timeMillisecond,a.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},rt=function(){return I(o.utcYear,o.utcMonth,o.utcWeek,o.utcDay,o.utcHour,o.utcMinute,o.utcSecond,o.utcMillisecond,a.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},it=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},ot=it("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),at=it("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),st=it("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),ut=it("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),ct=r.interpolateCubehelixLong(s.cubehelix(300,.5,0),s.cubehelix(-240,.5,1)),lt=r.interpolateCubehelixLong(s.cubehelix(-100,.75,.35),s.cubehelix(80,1.5,.8)),ft=r.interpolateCubehelixLong(s.cubehelix(260,.75,.35),s.cubehelix(80,1.5,.8)),ht=s.cubehelix(),pt=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ht.h=360*t-100,ht.s=1.5-1.5*e,ht.l=.8-.9*e,ht+""},dt=N(it("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),vt=N(it("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),yt=N(it("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),gt=N(it("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));t.scaleBand=c,t.scalePoint=f,t.scaleIdentity=w,t.scaleLinear=b,t.scaleLog=k,t.scaleOrdinal=u,t.scaleImplicit=Y,t.scalePow=j,t.scaleSqrt=R,t.scaleQuantile=O,t.scaleQuantize=A,t.scaleThreshold=F,t.scaleTime=nt,t.scaleUtc=rt,t.schemeCategory10=ot,t.schemeCategory20b=at,t.schemeCategory20c=st,t.schemeCategory20=ut,t.interpolateCubehelixDefault=ct,t.interpolateRainbow=pt,t.interpolateWarm=lt,t.interpolateCool=ft,t.interpolateViridis=dt,t.interpolateMagma=vt,t.interpolateInferno=yt,t.interpolatePlasma=gt,t.scaleSequential=U,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e){t.exports={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",429:"Too Many Requests",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not Supported",507:"Insufficient Storage",CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_MANY_REQUESTS:429,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,INSUFFICIENT_STORAGE:507}},function(t,e){"use strict";var n=function t(e){this.size_=e;var n=t.stores_;n[e]||(n[e]=[]),this.store_=n[e]};n.prototype.pop=function(){var t=this.store_.pop();return t?t.getContext("2d").clearRect(0,0,this.size_,this.size_):(t=window.document.createElement("canvas"),t.width=this.size_,t.height=this.size_),t},n.prototype.push=function(t){if(t.width!==this.size_||t.height!==this.size_)throw new Error("CanvasPool: canvas size is incorrect");this.store_.push(t)},n.stores_={},t.exports=n},function(t,e){"use strict";t.exports={SUM:"SUM",AVERAGE:"AVERAGE"}},function(t,e){"use strict";t.exports={DB:"DB",LINEAR:"LINEAR",LOG:"LOG"}},function(t,e,n){"use strict";function r(t){var e=t.gl,n=t.options,r=n.alphaTextureSize,i=n.alphaScale,o=document.createElement("canvas");o.width=r,o.height=1;for(var a=o.getContext("2d"),s=1;s<=r;s++)a.fillStyle="rgba(0, 0, 0, "+i(s/r)+")",a.fillRect(s,0,1,1);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,o)}function i(t){var e=t.gl,n=t.options,r=n.colorTextureSize,i=document.createElement("canvas");i.width=r,i.height=1;for(var o=i.getContext("2d"),a=1;a<=r;a++){var s=n.colorScale(a/r);o.fillStyle=s,o.fillRect(a,0,1,1)}e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,i)}function o(t){var e=t.gl,n=t.program,r=e.getAttribLocation(n,"a_position"),i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i);var o=[-1,1,-1,-1,1,-1,-1,1,1,1,1,-1];e.bufferData(e.ARRAY_BUFFER,new Float32Array(o),e.STATIC_DRAW),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0)}function a(t,e,n){var r=t.gl,i=t.program;r.activeTexture(r["TEXTURE"+e]),r.bindTexture(r.TEXTURE_2D,r.createTexture()),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.uniform1i(r.getUniformLocation(i,n),e)}function s(t,e,n){var r=t.program,i=t.gl;i.uniform1iv(i.getUniformLocation(r,e),n)}var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=n(36),l=n(34),f=n(32),h={dataTextureSize:512,interpolateAlpha:!0,interpolateColor:!0,downsampling:1},p=function t(e){var n=u({},h,e,{colorTextureSize:t.colorTextureSize,alphaTextureSize:t.alphaTextureSize}),s=n.tileSize,c=n.dataTextureSize,l=n.downsampling,f=s/l;this.options=n;var p=document.createElement("canvas");p.width=f,p.height=f,this.canvas=p;var d=p.getContext("webgl",{premultipliedAlpha:!1});d||(d=p.getContext("experimental-webgl")),d.getExtension("OES_texture_float"),this.gl=d;var v=d.getParameter(d.MAX_FRAGMENT_UNIFORM_VECTORS);n.dataSpriteDimension=v>=1024?16:8;var y=t.createProgram_(d,t.vertex_(n),t.fragment_(n));d.useProgram(y),this.program=y,o(this),this.dataTypedArray=new Float32Array(c*c*4),a(this,0,"u_data"),a(this,1,"u_color"),i(this),a(this,2,"u_alpha"),r(this)};p.prototype.dispose=function(){this.gl.getExtension("WEBGL_lose_context").loseContext()},p.prototype.draw=function(t){for(var e=this.gl,n=this.dataTypedArray,r=this.options,i=r.dataTextureSize,o=r.tileSize,a=r.dataSpriteDimension,u=r.buffer,c=i/a,l=[],f=0;f<a*a;f++)l.push(0);for(var h=0;h<t.length;h++){var p=t[h];if(p.x>=-u&&p.x<o+u&&p.y>=-u&&p.y<o+u){var d=Math.floor((p.x+u)/((o+2*u)/a)),v=Math.floor((p.y+u)/((o+2*u)/a)),y=d+a*v;if(l[y]>=c*c)throw new Error("Heatmap: Sprite Overflow");var g=l[y],m=d*c+g%c,_=v*c+Math.floor(g/c),b=4*(_*i+m);n[b]=p.x,n[b+1]=p.y,n[b+2]=p.count,n[b+3]=p.value,l[y]++}}e.activeTexture(e.TEXTURE0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,i,i,0,e.RGBA,e.FLOAT,n),s(this,"u_data_sprite_counts",l),e.drawArrays(e.TRIANGLES,0,6)},p.createProgram_=f,p.vertex_=c,p.fragment_=l,p.colorTextureSize=256,p.alphaTextureSize=256,t.exports=p},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=Math.round(e*(t[0]*n-r)),a=Math.round(e*(t[1]*n-i));return[o,a]}function i(t,e,n){1==t?e.id=n.readVarint():2==t?o(n,e):3==t?e.type=n.readVarint():4==t&&a(n,e)}function o(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e.keys[t.readVarint()],i=e.values[t.readVarint()];e.properties[r]=i}}function a(t,e){for(var n=t.readVarint()+t.pos,r=1,i=0,o=0,a=0,s=[],u=void 0;t.pos<n;){if(!i){var c=t.readVarint();r=7&c,i=c>>3}i--,1===r||2===r?(o+=t.readSVarint(),a+=t.readSVarint(),1===r&&(u&&s.push(u),u=[]),u.push([o,a])):7===r&&u&&u.push(u[0])}u&&s.push(u),e.geometry=s}var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(45),c=function(){this.type=0,this.properties={}};c.prototype.loadGeoJSON=function(t){this.source=t,this.id=t.id||null,this.properties=t.properties},c.prototype.loadPbf=function(t,e,n,r,o){var a={keys:r,values:o,properties:{}};t.readFields(i,a,e),this.extent=n,this.id=a.id,this.type=a.type,this.properties=a.properties,this.geometry=a.geometry},c.prototype.clone=function(){var t=new c;return s(t,this),t.geometry=this.geometry.slice(0),t},c.prototype.project=function(t){var e=this.source.geometry,n=e.type,r=e.coordinates;if("Point"===n)this.type=1,this.geometry=[u.projectPoint(r)];else if("MultiPoint"===n)this.type=1,this.geometry=u.project(r);else if("LineString"===n)this.type=2,this.geometry=[u.project(r,t)];else if("MultiLineString"===n||"Polygon"===n){this.type="Polygon"===n?3:2,this.geometry=[];for(var i=0,o=r.length;i<o;i++){var a=u.project(r[i],t);"Polygon"===n&&(a.outer=0===i),this.geometry.push(a)}}else{if("MultiPolygon"!==n)throw new Error("RawDataProvider: Input data is not a valid GeoJSON object.");this.type=3,this.geometry=[];for(var s=0,c=r.length;s<c;s++)for(var l=0,f=r[s].length;l<f;l++){var h=u.project(r[s][l],t);h.outer=0===l,this.geometry.push(h)}}},c.prototype.calcBBox=function(){if(this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0),1===this.type)for(var t=0,e=this.geometry.length;t<e;t++){var n=this.geometry[t];this.minX=Math.min(n[0],this.minX),this.minY=Math.min(n[1],this.minY),this.maxX=Math.max(n[0],this.maxX),this.maxY=Math.max(n[1],this.maxY)}else for(var r=0,i=this.geometry.length;r<i;r++)for(var o=0,a=this.geometry[r].length;o<a;o++){var s=this.geometry[r][o];this.minX=Math.min(s[0],this.minX),this.minY=Math.min(s[1],this.minY),this.maxX=Math.max(s[0],this.maxX),this.maxY=Math.max(s[1],this.maxY)}},c.prototype.clip=function(t,e,n,r){var i=this.type;if(1!==i){var o=3===i,a=u.clip(this.geometry,t,n,0,o);a=u.clip(a,e,r,1,o),this.geometry=a}},c.prototype.simplify=function(t){var e=this.type;1!==e&&(this.geometry=u.simplify(e,this.geometry,t))},c.prototype.transform=function(t,e,n,i){var o=this.type,a=this.geometry,s=1<<t;if(1===o)for(var u=0,c=a.length;u<c;u++)a[u]=r(a[u],i,s,e,n);else for(var l=0,f=a.length;l<f;l++)for(var h=a[l],p=0,d=h.length;p<d;p++)h[p]=r(h[p],i,s,e,n)},c.prototype.toGeoJSON=function(t,e,n){function r(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n[1]+a)/i;t[e]=[360*(n[0]+o)/i-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var i=this.extent*Math.pow(2,n),o=this.extent*t,a=this.extent*e,s=this.geometry,c=["Unknown","Point","LineString","Polygon"],l=c[this.type];switch(this.type){case 1:for(var f=[],h=0;h<s.length;h++)f[h]=s[h][0];s=f,r(s);break;case 2:for(var p=0;p<s.length;p++)r(s[p]);break;case 3:s=u.classifyRings(s);for(var d=0;d<s.length;d++)for(var v=0;v<s[d].length;v++)r(s[d][v])}1===s.length?s=s[0]:l="Multi"+l;var y={type:"Feature",geometry:{type:l,coordinates:s},properties:this.properties};return"id"in this&&(y.id=this.id),y},t.exports=c},function(t,e,n){"use strict";function r(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e.features.push(n.pos):3===t?e.keys.push(n.readString()):4===t&&e.values.push(i(n))}function i(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}var o=n(18),a=function(t){this.version=1,this.name=t||null,this.extent=4096,this.features=[]};a.prototype.loadPbf=function(t,e){var n={keys:[],values:[],features:[]};t.readFields(r,n,e),this.version=n.version,this.name=n.name,this.extent=n.extent;for(var i=t.pos,a=0,s=n.features.length;a<s;a++){t.pos=n.features[a];var u=new o;u.loadPbf(t,t.readVarint()+t.pos,n.extent,n.keys,n.values),this.features.push(u)}t.pos=i},a.prototype.addFeature=function(t){this.features.push(t)},t.exports=a},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(2)(),a=n(49),s=n(10),u=function t(e,n){var a=i({},c,n);if(!(e instanceof o.map.provider.TileProvider))throw new TypeError("RasterLayer: the provider must be TileProvider");if(["function","number"].indexOf(r(a.buffer))<0)throw new TypeError("RasterLayer: buffer must be a number or a function");if("function"!=typeof a.rowToTilePoint)throw new TypeError("RasterLayer: rowToTilePoint must be a function");if("function"!=typeof a.dataToRows)throw new TypeError("RasterLayer: dataToRows must be a function");if("function"!=typeof a.renderTile)throw new TypeError("RasterLayer: renderTile must be a function");this.tileProvider_=new t.TileProvider_(e,a),o.map.layer.TileLayer.call(this,this.tileProvider_,a)};u.prototype=Object.create(o.map.layer.TileLayer.prototype),u.prototype.constructor=u,u.prototype.dispose=function(){this.tileProvider_.dispose(),o.map.layer.TileLayer.prototype.dispose.call(this)},u.prototype.redraw=function(){this.tileProvider_.reload()},u.TileProvider_=a,u.defaultDataToRows=s.bind(null,"RasterLayer"),u.defaultRenderTile=function(t,e){for(var n=e.getContext("2d"),r=2*window.devicePixelRatio,i=0;i<t.length;i++){var o=t[i];n.fillRect(o.x,o.y,r,r)}};var c={dataToRows:u.defaultDataToRows,renderTile:u.defaultRenderTile,buffer:0};t.exports=u},function(t,e,n){"use strict";var r=n(2)(),i={},o=function(t,e,n){var o=i[t];return o?(o.updatePosition_(e),o):(r.map.Marker.prototype.constructor.call(this,e,n),i[t]=this,void this.updatePosition_(e))};o.prototype=Object.create(r.map.Marker.prototype),o.prototype.constructor=o,o.prototype.updatePosition_=function(t){this.startPos_=this.getPosition(),this.endPos_=t},t.exports=o},function(t,e,n){"use strict";function r(t,e){var n=s[e];void 0===n&&(n=a,s[e]=n,a++),t.colorCode=n}var i=n(2)(),o=n(24),a=1,s={},u=function(t){i.map.Object.call(this,t);var e=t.id,n=t.provider,o=t.feature,a=t.tileKey;this.feature_=o,this.id=e,r(this,e),this.tileKey=a,this.setParentEventTarget(n)};u.prototype=Object.create(i.map.Object.prototype),u.prototype.constructor=u,u.prototype.getFeature=function(){return this.feature_.toGeoJSON()},u.prototype.render=function(t){var e=this.feature_.type;switch(e){case 1:o.drawPoint(t,this.feature_.geometry);break;case 2:o.drawLine(t,this.feature_.geometry);break;case 3:o.drawPolygon(t,this.feature_.geometry);break;default:throw new Error("SpatialLayer: unsupported geometry type "+e)}},t.exports=u},function(t,e){"use strict";t.exports=function(){return{lineJoin:"round",lineCap:"round",strokeColor:"rgba(160, 163, 167, 1)",lineWidth:1,fillColor:"rgba(160, 163, 167, 1)"}}},function(t,e){"use strict";function n(t,e){t.beginPath();for(var n=0;n<e.length;n++){var r=e[n],i=r[r.length-1];t.moveTo(i[0],i[1]);for(var o=0;o<r.length;o++){var a=r[o];t.lineTo(a[0],a[1])}}t.closePath(),t.stroke(),t.fill()}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];t.beginPath(),t.moveTo(r[0][0],r[0][1]);for(var i=0;i<r.length;i++){var o=r[i];i>0&&t.lineTo(o[0],o[1])}t.stroke()}}function i(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=0;r<e.length;r++){var i=e[r];t.beginPath(),t.arc(i[0],i[1],n,0,2*Math.PI,!1),t.stroke(),t.fill()}}function o(t){var e=t;e>>>=0;var n=255&e,r=(65280&e)>>>8,i=(16711680&e)>>>16;return"rgb("+[i,r,n].join(",")+")"}function a(t){return(t[0]<<16)+(t[1]<<8)+t[2]}function s(t){for(var e=void 0,n=0;n<t.length;n+=4)if(0!==t[n]||0!==t[n+1]||0!==t[n+2]||0!==t[n+3]){if(255!==t[n+3])return!0;if(e){if(t[n]!==e[0]||t[n+1]!==e[1]||t[n+2]!==e[2])return!0}else e=[t[n],t[n+1],t[n+2]]}return!1}t.exports={drawPolygon:n,drawLine:r,drawPoint:i,intToRGB:o,RGBToInt:a,isAntialiased:s}},function(t,e,n){"use strict";t.exports=function(t){function e(e,n,s){return function(u){var c=s._boundValue();t:for(var l=0;l<e.length;++l){var f=e[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return o(n).call(c,u)}else if("function"==typeof f){var h=o(f).call(c,u);if(h===a)return h;if(h)return o(n).call(c,u)}else if(r.isObject(u)){for(var p=i(f),d=0;d<p.length;++d){var v=p[d];if(f[v]!=u[v])continue t}return o(n).call(c,u)}}return t}}var r=n(1),i=n(4).keys,o=r.tryCatch,a=r.errorObj;return e}},function(t,e,n){"use strict";function r(t){return t instanceof Error&&l.getPrototypeOf(t)===Error.prototype}function i(t){var e;if(r(t)){e=new c(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var n=l.keys(t),i=0;i<n.length;++i){var o=n[i];f.test(o)||(e[o]=t[o])}return e}return a.markAsOriginatingFromRejection(t),t}function o(t,e){return function(n,r){if(null!==t){if(n){var o=i(s(n));t._attachExtraTrace(o),t._reject(o)}else if(e){for(var a=arguments.length,u=new Array(Math.max(a-1,0)),c=1;c<a;++c)u[c-1]=arguments[c];t._fulfill(u)}else t._fulfill(r);t=null}}}var a=n(1),s=a.maybeWrapAsError,u=n(3),c=u.OperationalError,l=n(4),f=/^(?:name|message|stack|cause)$/;t.exports=o},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t,n,r,a){function s(e){return t(e=new Date(+e)),e}return s.floor=s,s.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(e,r,i){var o=[];if(e=s.ceil(e),i=null==i?1:Math.floor(i),!(e<r&&i>0))return o;do o.push(new Date(+e));while(n(e,i),t(e),e<r);return o},s.filter=function(r){return e(function(e){if(e>=e)for(;t(e),!r(e);)e.setTime(e-1)},function(t,e){if(t>=t)if(e<0)for(;++e<=0;)for(;n(t,-1),!r(t););else for(;--e>=0;)for(;n(t,1),!r(t););})},r&&(s.count=function(e,n){return i.setTime(+e),o.setTime(+n),t(i),t(o),Math.floor(r(i,o))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t===0}:function(e){return s.count(0,e)%t===0}):s:null}),s}function n(t){return e(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),
e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*c)/h})}function r(t){return e(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/h})}var i=new Date,o=new Date,a=e(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?e(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var s=a.range,u=1e3,c=6e4,l=36e5,f=864e5,h=6048e5,p=e(function(t){t.setTime(Math.floor(t/u)*u)},function(t,e){t.setTime(+t+e*u)},function(t,e){return(e-t)/u},function(t){return t.getUTCSeconds()}),d=p.range,v=e(function(t){t.setTime(Math.floor(t/c)*c)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getMinutes()}),y=v.range,g=e(function(t){var e=t.getTimezoneOffset()*c%l;e<0&&(e+=l),t.setTime(Math.floor((+t-e)/l)*l+e)},function(t,e){t.setTime(+t+e*l)},function(t,e){return(e-t)/l},function(t){return t.getHours()}),m=g.range,_=e(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*c)/f},function(t){return t.getDate()-1}),b=_.range,w=n(0),x=n(1),T=n(2),E=n(3),S=n(4),M=n(5),P=n(6),k=w.range,C=x.range,j=T.range,R=E.range,O=S.range,A=M.range,F=P.range,L=e(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),D=L.range,I=e(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});I.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var N=I.range,U=e(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getUTCMinutes()}),B=U.range,q=e(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*l)},function(t,e){return(e-t)/l},function(t){return t.getUTCHours()}),z=q.range,Y=e(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/f},function(t){return t.getUTCDate()-1}),V=Y.range,H=r(0),X=r(1),G=r(2),W=r(3),$=r(4),Q=r(5),J=r(6),Z=H.range,K=X.range,tt=G.range,et=W.range,nt=$.range,rt=Q.range,it=J.range,ot=e(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),at=ot.range,st=e(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});st.every=function(t){return isFinite(t=Math.floor(t))&&t>0?e(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ut=st.range;t.timeInterval=e,t.timeMillisecond=a,t.timeMilliseconds=s,t.utcMillisecond=a,t.utcMilliseconds=s,t.timeSecond=p,t.timeSeconds=d,t.utcSecond=p,t.utcSeconds=d,t.timeMinute=v,t.timeMinutes=y,t.timeHour=g,t.timeHours=m,t.timeDay=_,t.timeDays=b,t.timeWeek=w,t.timeWeeks=k,t.timeSunday=w,t.timeSundays=k,t.timeMonday=x,t.timeMondays=C,t.timeTuesday=T,t.timeTuesdays=j,t.timeWednesday=E,t.timeWednesdays=R,t.timeThursday=S,t.timeThursdays=O,t.timeFriday=M,t.timeFridays=A,t.timeSaturday=P,t.timeSaturdays=F,t.timeMonth=L,t.timeMonths=D,t.timeYear=I,t.timeYears=N,t.utcMinute=U,t.utcMinutes=B,t.utcHour=q,t.utcHours=z,t.utcDay=Y,t.utcDays=V,t.utcWeek=H,t.utcWeeks=Z,t.utcSunday=H,t.utcSundays=Z,t.utcMonday=X,t.utcMondays=K,t.utcTuesday=G,t.utcTuesdays=tt,t.utcWednesday=W,t.utcWednesdays=et,t.utcThursday=$,t.utcThursdays=nt,t.utcFriday=Q,t.utcFridays=rt,t.utcSaturday=J,t.utcSaturdays=it,t.utcMonth=ot,t.utcMonths=at,t.utcYear=st,t.utcYears=ut,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e){function n(t){var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}t.exports=n;var r=Object.prototype.toString},function(t,e){"use strict";function n(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){return Math.pow(2,Math.log2(t.value/e.value)/(t.zoom-e.zoom))-1}function i(t,e){var n=e.length,r=e[0],i=e[n-2],o=0;return t>r.zoom&&(o=t>=i.zoom?n-2:e.findIndex(function(n,r){return t>=e[r].zoom&&t<e[r+1].zoom})),[e[o],e[o+1]]}function o(t,e){return Math.min(t.max,Math.max(t.min,e))}function a(t,e){return function(n){var r=e.value,i=e.zoom,a=e.zoomIncrementFactor,s=n-i,u=r*Math.pow(2,Math.log2(1+a)*s);return o(t,u)}}function s(t){var e=new Array(2),n=new Array(2);t.forEach(function(t,r){e[r]=u(t.zoom,t.value),n[r]=t.zoom});var r=(e[1]-e[0])/(n[1]-n[0]),i=e[0]-n[0]*r;return{m:r,b:i}}function u(t,e){var n=1/Math.pow(2,2*t);return e/n}function c(t,e){return function(t){var n=e.m*t+e.b,r=n>0?n/Math.pow(2,2*t):0;return[0,Math.max(0,r)]}}function l(t,e,o){switch(o){case"bandwidth":return function(o){var s=i(o,e);return a(t,{value:s[0].value,zoom:s[0].zoom,zoomIncrementFactor:r.apply(void 0,n(s))})(o)};case"domain":return function(n){var r=i(n,e),o=c(t,s(r))(n);return o}}}function f(t,e){return d(t,e),function(){return e}}function h(t,e,n){if(0===Object.keys(e).length)throw new Error(b+"empty Object passed");if(void 0===e.zoom)throw new Error(b+"zoom missing from input property Object");if(void 0===e.value)throw new Error(b+"value missing from input property Object");switch(v(t,e.zoom),n){case"bandwidth":return d(t,e.value),a(t,{value:e.value,zoom:e.zoom,zoomIncrementFactor:void 0===e.zoomIncrementFactor?m:e.zoomIncrementFactor});case"domain":return c(t,{m:0,b:u(e.zoom,e.value)})}}function p(t,e,n){if(e.length<1)throw new Error(b+"empty array");if(1===e.length)return h(t,e[0],n);if(2===e.length&&"domain"===n&&e.every(function(t){return"number"==typeof t}))return function(){return e};e.every(function(e){if(null===e)throw new Error(b+"unhandled array member null");if(void 0===e.zoom||void 0===e.value)throw new Error(b+"unhandled array members, needs zoom and value per item");switch(n){case"bandwidth":return v(t,e.zoom)&&d(t,e.value);case"domain":return v(t,e.zoom)}});var r=e.slice(0).sort(function(t,e){return t.zoom-e.zoom});return l(t,r,n)}function d(t,e){if(e<t.min)throw new Error(b+("invalid value "+e+" < "+t.min));if(e>t.max)throw new Error(b+("invalid value "+e+" > "+t.max));return!0}function v(t,e){if(e<t.minZoom)throw new Error(b+("invalid zoom "+e+" < "+t.minZoom));return!0}function y(t,e,n){switch(n){case"bandwidth":return f(t,e);case"domain":return function(){return[0,e]}}}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m=1,_=0,b="HeatmapLayer.options.InputObjectEvaluator: ",w=function(t,e){this.min=t,this.max=e,this.minZoom=_};w.prototype.evaluateInput=function(t,e){if(["domain","bandwidth"].indexOf(e)<0)throw new Error(b+("unhandled "+e+" input")+("undefined"==typeof t?"undefined":g(t)));switch("undefined"==typeof t?"undefined":g(t)){case"function":return t;case"number":return y(this,t,e);case"object":return Array.isArray(t)?p(this,t,e):h(this,t,e);default:throw new Error(b+("unhandled "+e+" input")+("undefined"==typeof t?"undefined":g(t)))}},t.exports=w},function(t,e){"use strict";function n(t){return t.split("\n").map(function(t,e){return String(10001+e).slice(1)+":"+t}).join("\n")}function r(t,e,r){var i=t.createShader(r);t.shaderSource(i,e),t.compileShader(i);var o=t.getShaderParameter(i,t.COMPILE_STATUS);if(o)return i;var a=t.getShaderInfoLog(i);throw t.deleteShader(i),new Error("HeatmapLayer: "+(r===t.VERTEX_SHADER?"vertex":"fragment")+" shader was not compiled\n        \n"+a+"\n"+n(e))}t.exports=function(t,e,n){var i=r(t,e,t.VERTEX_SHADER),o=r(t,n,t.FRAGMENT_SHADER),a=t.createProgram();t.attachShader(a,i),t.attachShader(a,o),t.linkProgram(a);var s=t.getProgramParameter(a,t.LINK_STATUS);if(s)return a;var u=t.getProgramInfoLog(a);throw t.deleteProgram(a),new Error("HeatmapLayer: program was not linked\n"+u)}},function(t,e,n){"use strict";var r=n(12),i=n(11),o=n(17),a=o.colorTextureSize,s=1/a,u=2/a,c=r.scaleLinear().domain([0,s,u,1]).range([0,0,1,1]);t.exports=function(t){var e=i.color(r.interpolateViridis(t));return e.opacity=c(t),String(e)}},function(t,e,n){"use strict";var r=n(15),i=r.SUM,o=r.AVERAGE,a=n(16),s=a.DB,u=a.LOG;t.exports=function(t){var e=t.dataTextureSize,n=t.dataSpriteDimension,r=t.tileSize,a=t.bandwidth,c=t.buffer,l=t.colorTextureSize,f=t.alphaTextureSize,h=t.interpolateAlpha,p=t.interpolateColor,d=t.aggregation,v=t.inputScale,y=t.valueRange,g=t.countRange,m=(1/l).toFixed(5),_=(1/f).toFixed(5),b=e/n,w=Math.pow(n,2),x=((r+2*c)/n).toFixed(5),T=a,E=T*T,S=1/(2*Math.PI*E),M=-1/(2*E),P=d===i&&0===g[0]&&0===g[1];return"\n    precision lowp float;\n    uniform sampler2D u_data; //texture with data\n    uniform sampler2D u_color; //texture with color scale\n    uniform sampler2D u_alpha; //texture with alpha scale\n    varying vec2 v_tile_coord; //pixel coordinate in tile space\n\n    //array with length of data for each sprite\n    uniform int u_data_sprite_counts["+w+"];\n\n    float buffer = "+c.toFixed(1)+";\n\n    "+(f>255?"mediump":"lowp")+" float alphatexturesize = "+f.toFixed(1)+";\n    "+(l>255?"mediump":"lowp")+" float colortexturesize = "+l.toFixed(1)+";\n    bool interpolatecolor = "+(p?"true":"false")+";\n    bool interpolatealpha = "+(h?"true":"false")+";\n\n    //kernel function: K(x) = ka * exp(x * kb);\n    mediump float ka = "+S.toFixed(5)+";\n    mediump float kb = "+M.toFixed(5)+";\n\n    //ranges represented as 2 dimensional vector {x: min, y: max}\n    mediump vec2 value_range = vec2("+y[0].toExponential()+", "+y[1].toExponential()+");\n\n    mediump vec2 count_range = vec2("+g[0].toExponential()+", "+g[1].toExponential()+");\n\n    //checks if ranges a and b are intersecting\n    bool in_range (in vec2 a, vec2 b) {\n        vec2 left;\n        vec2 right;\n        if (a.y > b.y) {\n            left = b;\n            right = a;\n        } else {\n            left = a;\n            right = b;\n        }\n        return (left.y > right.x);\n    }\n\n    //conversion from/to decibels (dB)\n    "+(v===s?"\n    mediump float db_k = log(10.0) / 10.0;\n    mediump float db_to_linear(in float db) {\n        return exp(db_k * db);\n    }\n    mediump float linear_to_db(in float linear) {\n        return log(linear) / db_k;\n    }\n    ":"")+"\n\n    //conversion from/to log scale\n    "+(v===u?"\n    mediump float log_to_linear(in float v) {\n        return exp(v);\n    }\n    mediump float linear_to_log(in float v) {\n        return log(v);\n    }\n    ":"")+"\n\n    //returns length of data in sprite\n    int get_sprite_count(int sprite) {\n        int sprite_count = 0;\n        //in shader you cannot use variable to access array element\n        for (int i = 0; i < "+w+"; i++) {\n            if (sprite == i) {\n                sprite_count = u_data_sprite_counts[i];\n                break;\n            }\n        }\n        return sprite_count;\n    }\n\n    //size of texture with data sprites\n    mediump float data_texture_size = "+e.toFixed(1)+";\n    vec4 transparentblack = vec4(0.0, 0.0, 0.0, 0.0);\n    bool fallbackcolor = "+(P?"true":"false")+";\n\n    void main() {\n        mediump vec4 point; //data point {x: x, y: y, z: count, w: value}\n        float d; //distance from data point to current pixel\n        mediump float count = 0.0; //total count for current pixel\n        mediump float value = 0.0; //total value for current pixel\n        mediump float point_value; //data point value\n        mediump float summary_point_value; //summary data point value\n        mediump float point_count; //data point count\n        mediump float k; //kernel function value in current pixel\n\n        //bbox for current pixel\n        mediump vec2 range_x = vec2(\n            v_tile_coord.x - buffer,\n            v_tile_coord.x + buffer\n        );\n        mediump vec2 range_y = vec2(\n            v_tile_coord.y - buffer,\n            v_tile_coord.y + buffer\n        );\n\n        //walk through every data sprite (x axis)\n        for (int shift_x = 0; shift_x < "+n+"; shift_x++) {\n            //if sprite is not in pixel bbox continue\n            if (!in_range(\n                range_x,\n                vec2(\n                    float(shift_x) * "+x+" - buffer,\n                    float(shift_x + 1) * "+x+"  - buffer\n                )\n            )) {\n                continue;\n            }\n\n            //walk through every data sprite (y axis)\n            for (int shift_y = 0; shift_y < "+n+"; shift_y++) {\n                //if sprite is not in pixel bbox continue\n                if (!in_range(\n                    range_y,\n                    vec2(\n                        float(shift_y) * "+x+" - buffer,\n                        float(shift_y + 1) * "+x+" - buffer\n                    )\n                )) {\n                    continue;\n                }\n\n                int i = 0; // index of data point in sprite\n\n                //sprite number\n                int shift = shift_x + "+n+" * shift_y;\n\n                //length of data in current sprite\n                int data_count = get_sprite_count(shift);\n\n                //walk through every point in sprite\n                for (int row = 0; row < "+b+"; row++) {\n                    for (int col = 0; col < "+b+"; col++) {\n                        //if we reached data length, break\n                        if (i >= data_count) {\n                            break;\n                        }\n                        i++;\n\n                        //calculate coordinates of current data point\n                        //within data texture\n                        mediump float tx =\n                            float(col + shift_x * "+b+")\n                            / data_texture_size;\n                        mediump float ty =\n                            float(row + shift_y * "+b+")\n                            / data_texture_size;\n\n                        //read data point\n                        point = texture2D(u_data, vec2(tx, ty));\n\n                        //calculate distance\n                        //between current pixel and data points\n                        d = distance(point.xy, v_tile_coord.xy);\n\n                        if (d < buffer) {\n\n                            //calculate kernel value\n                            k = ka * exp(d * d * kb);\n\n                            //use kernel to estimate how count of data point\n                            //is distributed in current pixel\n                            point_count = k * point.z;\n\n                            point_value = point.w;\n\n                            //transform value to linear if needed\n                            "+(v===s?"point_value = db_to_linear(point.w);":v===u?"point_value = log_to_linear(point.w);":"point_value = point.w;")+"\n\n                            //calculate summary value\n                            "+(d===i?"summary_point_value = k * point_value;":"summary_point_value = point_value *\n                                    point_count;")+"\n\n                            value += summary_point_value;\n                            count += point_count;\n                        }\n                    }\n\n                    //if passed through all data points, break\n                    if (i >= data_count) {\n                        break;\n                    }\n                }\n            }\n        }\n\n        //count more then minimal\n        if (count > count_range.x) {\n\n            //if need average we should divide on count\n            mediump float value_k = "+(d===o?"1.0 / count":"1.0")+";\n            value *= value_k;\n\n            //normalize value to 0..1 range\n            mediump float norm_value = (("+(v===s?"linear_to_db(value)":v===u?"linear_to_log(value)":"value")+") - value_range.x) /\n                (value_range.y - value_range.x);\n            if (norm_value > 1.0) {\n                norm_value = 1.0;\n            }\n            if (norm_value < "+m+") {\n                norm_value = "+m+"; //shoul be > 0\n            }\n\n            //normalize count (density) to 0..1 range\n            "+(g[0]===g[1]?"float density = 1.0;":"\n                mediump float density = (count - count_range.x) /\n                    (count_range.y - count_range.x);\n                ")+"\n            if (density > 1.0) {\n                density = 1.0;\n            }\n            if (density < "+_+") {\n                density = "+_+";// shoul be > 0\n            }\n\n            //read color from texture\n            vec4 color;\n\n            if (interpolatecolor) {\n                // linear intepolation of color samples and alphas\n                mediump float colorpos = colortexturesize * norm_value;\n                float colorinterpolator = fract(colorpos);\n                vec4 colorfloor = texture2D(\n                    u_color,\n                    vec2(floor(colorpos)/colortexturesize, 0.5)\n                );\n                vec4 colorceil = texture2D(\n                    u_color,\n                    vec2(ceil(colorpos)/colortexturesize, 0.5)\n                );\n                color = vec4(\n                    mix(colorfloor.r,colorceil.r,colorinterpolator),\n                    mix(colorfloor.g,colorceil.g,colorinterpolator),\n                    mix(colorfloor.b,colorceil.b,colorinterpolator),\n                    mix(colorfloor.a,colorceil.a,colorinterpolator)\n                );\n            } else {\n                // no interpolation\n                color = texture2D(u_color, vec2(norm_value, 0.5));\n            }\n            //read alpha from texture\n            float alpha;\n            if (interpolatealpha) {\n                float alphapos = alphatexturesize * density;\n                float alphainterpolator = fract(alphapos);\n                float alphafloor = texture2D(\n                    u_alpha,\n                    vec2(floor(alphapos)/alphatexturesize, 0.5)\n                ).a;\n                float alphaceil = texture2D(\n                    u_alpha,\n                    vec2(ceil(alphapos)/alphatexturesize, 0.5)\n                ).a;\n                alpha = mix(alphafloor,alphaceil,alphainterpolator);\n            } else {\n                //no interpolations\n                alpha = texture2D(u_alpha, vec2(density, 0.5)).a;\n            }\n            //set pixel color\n            gl_FragColor = vec4(vec3(color), alpha * color.w);\n        } else {\n            if (fallbackcolor) {\n                // this lookup could be avoided for optimization\n                gl_FragColor = texture2D(u_color, vec2("+m+", 0.5));\n            } else {\n                gl_FragColor = transparentblack;\n            }\n\n        }\n    }\n    "}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){t.bandwidth_=P.evaluateInput(t.options_.bandwidth,"bandwidth"),t.valueRange_=P.evaluateInput(t.options_.valueRange,"domain"),t.countRange_=P.evaluateInput(t.options_.countRange,"domain"),t.buffer_="buffer"in t.options_?function(){return t.options_.buffer}:f(t.bandwidth_)}function o(t,e,n,r){var i=h(t,r);i.draw(e),n.getContext("2d").drawImage(i.canvas,0,0)}function a(t,e){var n=void 0;if("function"==typeof e.domain&&Array.isArray(n=e.domain())&&(Math.min.apply(Math,r(n))<0||Math.max.apply(Math,r(n))>1))throw new Error("HeatmapLayer: "+t+" domain should be from 0 to 1")}function s(t,e,n,i){var o=void 0;if("function"==typeof e.range&&Array.isArray(o=e.range())&&(Math.min.apply(Math,r(o))<n||Math.max.apply(Math,r(o))>i))throw new Error("HeatmapLayer: "+t+" range should be from "+n+" to "+i)}function u(t,e){if(!Array.isArray(e)||2!==e.length||"number"!=typeof e[0]||"number"!=typeof e[1])throw new Error("HeatmapLayer: "+t+" is not H.datalens.HeatmapLayer.Range")}function c(t,e,n){if(!n[e])throw new Error("HeatmapLayer: "+t+" should be on of "+Object.keys(n).join(", "))}function l(t){var e=t.bandwidth,n=t.valueRange,r=t.countRange,i=t.colorScale,o=t.alphaScale,l=t.aggregation,f=t.inputScale;if(e<M)throw new Error("HeatmapLayer: bandwidth should not be 0 or less");if(e>S)throw new Error("HeatmapLayer: bandwidth should be bigger "+S);if(u("valueRange",n),u("countRange",r),"function"!=typeof i)throw new Error("HeatmapLayer: colorScale should be a function");if(a("colorScale",i),"function"!=typeof o)throw new Error("HeatmapLayer: alphaScale should be a function");a("alphaScale",o),s("alphaScale",o,0,1),c("aggregation",l,g),c("inputScale",f,m)}function f(t){return function(){return E*t.apply(void 0,arguments)}}function h(t,e){var n=[t.tileProvider_.uid,e].join("_"),r=C.get(n);return r||(r=new O.Heatmap_(t.getOptionsPerZoom(e)),C.add(n,r,1)),r}function p(t,e){return d({},t.options_,{bandwidth:t.bandwidth_(e),valueRange:t.valueRange_(e),countRange:t.countRange_(e),tileSize:t.tileSize,buffer:t.buffer_(e)})}var d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v=n(2)(),y=n(31),g=n(15),m=n(16),_=n(20),b=n(12),w=b.scaleLinear,x=n(33),T=128,E=3,S=Math.floor(T/E),M=Number.MIN_VALUE,P=new y(M,S),k={bandwidth:1,valueRange:[0,1],countRange:[0,0],colorScale:x,alphaScale:w().range([0,1]),downsampling:1,aggregation:g.SUM,inputScale:m.LINEAR},C=new v.util.Cache(1);C.registerOnDrop(function(t,e){e.dispose()});var j=0,R=n(17),O=function(t,e){this.options_=d({},k,e),i(this),this.optionsPerZoom_={},j++,C.setMaxSize(j),_.prototype.constructor.call(this,t,d({},this.options_,{buffer:this.buffer_,rowToTilePoint:this.options_.rowToTilePoint,renderTile:o.bind(null,this)})),this.tileProvider_.pointType=this.tileProvider_.constructor.PointType.HASVALUE};O.prototype=Object.create(_.prototype),O.prototype.constructor=O,O.prototype.redraw=function(){C.removeAll(),this.optionsPerZoom_={},i(this),_.prototype.redraw.call(this)},O.prototype.dispose=function(){j--,C.setMaxSize(j||1),_.prototype.dispose.call(this)},O.prototype.getOptionsPerZoom=function(t){var e=void 0;return this.optionsPerZoom_[t]?e=this.optionsPerZoom_[t]:(e=p(this,t),l(e),this.optionsPerZoom_[t]=e),e},O.defaultDataToRows=_.defaultDataToRows,O.InputScale=m,O.Aggregation=g,O.cache_=C,O.Heatmap_=R,t.exports=O},function(t,e){"use strict";t.exports=function(t){var e=t.tileSize;return"\n    precision lowp float; //don't see difference between precisions\n    attribute vec4 a_position; //input buffer with vertices (clip space)\n    varying vec2 v_tile_coord; //position in tile space\n    void main() {\n        //transform coordinates from clip space to tile space\n        v_tile_coord = (a_position.xy + 1.0) * 0.5 *\n            vec2("+e+", "+e+") * vec2(1, -1) +\n            vec2(0, "+e+");\n        gl_Position = a_position;\n    }\n    "}},function(t,e,n){"use strict";function r(t,e){var n=o({},e||{});"number"==typeof n.size&&(n.size={w:n.size,h:n.size}),!n.size||"anchor"in n||(n.anchor={x:n.size.w/2,y:n.size.h/2});var r=void 0;if("string"==typeof t)r=t;else{if(!Array.isArray(t))throw new TypeError("ObjectLayer.createIcon:\n          the svg parameter must be a String or an Array");if("svg"!==t[0])throw new TypeError('ObjectLayer.createIcon: the root element must be "svg"');r=s.serialize(t)}var i=u(r+JSON.stringify(n)),c=l.get(i);if(c)return c;var f=new a.map.Icon(r,n);return l.add(i,f,1),f}function i(){return l}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(2)(),s=n(38),u=n(29),c=2048,l=new a.util.Cache(c);t.exports={createIcon:r,getIconCache:i}},function(t,e,n){"use strict";function r(t){return"-"+t.toLowerCase()}function i(t){return"string"==typeof t||Array.isArray(t)}function o(t){var e={};if(t[1]&&!i(t[1])&&(e=t[1]),"svg"===t[0]){if(e=a({},e,{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),!(e.width&&e.height||e.viewBox))throw new Error("ObjectLayer.createIcon:\n                SVG element should have width and height or viewBox properties");if(e.viewBox){var n=String(e.viewBox).split(/[\s\,]+/).map(Number);if(4!==n.length)throw new Error("ObjectLayer.createIcon:\n                    SVG element viewBox is not correct "+e.viewBox);"width"in e||(e.width=n[2]),"height"in e||(e.height=n[3])}}return e}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(100),u=n(101),c=n(99),l=/[A-Z]/g;t.exports={serialize:function t(e){var n=String(e[0]);if(u.indexOf(n)<0)throw new Error("ObjectLayer.createIcon: unknown tag '"+n+"'");var a=void 0,f="",h="";if(i(e[1])?a=1:e.length>2&&(a=2),a)for(var p=a;p<e.length;p++)if("string"==typeof e[p])f+=e[p];else{if(!Array.isArray(e[p]))throw new Error("ObjectLayer.createIcon: node content\n                    has not a proper type");f+=t(e[p])}var d=o(e);for(var v in d){var y=d[v],g=v;if(s.indexOf(v)>=0&&(g=v.replace(l,r)),c.indexOf(g)<0)throw new Error("ObjectLayer.createIcon:\n                     unknown property "+g+";\n                     notice that properties are case sensitive;");h+=" "+g+'="'+y+'"'}return f?"<"+n+h+">"+f+"</"+n+">":"<"+n+h+"/>"}}},function(t,e,n){"use strict";var r=n(2)(),i=function(t,e){this.onDataRequest_=e,r.map.provider.LocalObjectProvider.call(this,t)};i.prototype=Object.create(r.map.provider.LocalObjectProvider.prototype),i.prototype.constructor=i,i.prototype.providesMarkers=function(){return!0},i.prototype.requestMarkers=function(t,e,n,r){return this.onDataRequest_(t,e,n,r)},t.exports=i},function(t,e,n){"use strict";function r(t){return!t.clustering&&("function"!=typeof t.rowToMapObject||1===t.rowToMapObject.length)}var i=n(9),o=n(21),a=n(42),s=function(t,e){this.processedData_=null,this.processedDataByZoom_={},this.objectsToAnimate_=[],this.requestId_=null,this.animationStart_=null,this.step_=this.step_.bind(this),i.prototype.constructor.call(this,t,e)};s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s.prototype.onDataRequest_=function(t,e,n,s){var u=this,c=Math.floor(e),l=this.dataProvider_.getData();if(r(this.options_)){if(l&&this.processedData_!==l){var f=this.options_.dataToRows(l);if(!Array.isArray(f))throw new Error("ObjectLayer: dataToRows must return Array");var h=[];this.objectsToAnimate_=[];for(var p=0;p<f.length;p++){var d=f[p],v=this.getMapObjectFromData_(null,d);if(h.push(v),this.options_.transitionOptions){if(!(v instanceof o))throw new Error("QueryLayer: the map object returned\n                         from rowToMapObject is not a reusable object");var y=this.options_.transitionOptions(d);y.duration=y.duration||200,y.easing=y.easing||"ease","string"==typeof y.easing&&(y.easing=a.getEasingFunction(y.easing)),y.interp=y.interp||"lerp","string"==typeof y.interp&&(y.interp=a.getInterpolationFunction(y.interp)),this.objectsToAnimate_.push({object:v,options:y})}}this.objectsToAnimate_.length>0&&this.startAnimation_(),this.objectProvider_.getRootGroup().addObjects(h),this.processedData_=l,setTimeout(function(){u.objectProvider_.dispatchEvent("update")})}}else if(l&&this.processedDataByZoom_[c]!==l){var g=this.getDataForProvider_(c,l);if(g)if(this.options_.clustering){var m=this.getClusterProvider_(c);m.setDataPoints(g)}else this.objectProvider_.getRootGroup().addObject(g),setTimeout(function(){u.objectProvider_.dispatchEvent("update")});this.processedDataByZoom_[c]=l}return i.prototype.onDataRequest_.call(this,t,e,n,s)},s.prototype.startAnimation_=function(){this.cancelAnimation_(),this.animationStart_=null,this.requestId_=window.requestAnimationFrame(this.step_)},s.prototype.step_=function(t){this.animationStart_||(this.animationStart_=t);for(var e=!0,n=0;n<this.objectsToAnimate_.length;n++){var r=this.objectsToAnimate_[n],i=r.object,o=r.options,a=(t-this.animationStart_)/o.duration;if(a<1){e=!1,a=o.easing(a);var s=o.interp(i.startPos_,i.endPos_,a);i.setPosition(s)}}e||(this.requestId_=window.requestAnimationFrame(this.step_))},s.prototype.cancelAnimation_=function(){this.requestId_&&(window.cancelAnimationFrame(this.requestId_),this.requestId_=null)},s.prototype.onProviderUpdate_=function(){this.redraw(),i.prototype.onProviderUpdate_.call(this)},s.prototype.redraw=function(){this.processedData_=null,this.processedDataByZoom_={},i.prototype.redraw.call(this)},s.prototype.dispose=function(){this.processedData_=null,this.processedDataByZoom_={},i.prototype.dispose.call(this)},t.exports=s},function(t,e,n){"use strict";var r=n(2)(),i=n(9),o=n(103),a=function(t,e){var n=this;this.queryTileProvider_=t,t.getCache().registerOnDrop(function(){return n.onTileDrop_.apply(n,arguments)}),this.tileLayer_=new r.map.layer.TileLayer(t),this.updateClusterDataPoints_=o(this.updateClusterDataPoints_,100),this.processedTiles_={},i.prototype.constructor.call(this,this.queryTileProvider_,e)};a.prototype=Object.create(i.prototype),a.prototype.constructor=a,a.prototype.updateClusterDataPoints_=function(t){var e=[],n=this.getClusterProvider_(t);for(var r in this.processedTiles_)Number(r.split("_")[3])===t&&this.processedTiles_[r]&&(e=e.concat(this.processedTiles_[r]));n.setDataPoints(e)},a.prototype.onTileDrop_=function(t){if(this.processedTiles_.hasOwnProperty(t)){var e=this.processedTiles_[t];if(delete this.processedTiles_[t],this.options_.clustering){var n=Number(t.split("_")[3]);this.updateClusterDataPoints_(n)}else e&&this.objectProvider_.getRootGroup().removeObject(e)}},a.prototype.onDataRequest_=function(t,e,n,r){for(var o=Math.floor(e),a=this.tileLayer_.requestTiles(t,o,r),s=a.tiles,u=[],c=0;c<s.length;c++){var l=s[c];if(!this.processedTiles_.hasOwnProperty(l.key)){var f=this.getDataForProvider_(o,l.data);this.processedTiles_[l.key]=f,f&&u.push(f)}}return u.length&&(this.options_.clustering?this.updateClusterDataPoints_(o):this.objectProvider_.getRootGroup().addObjects(u)),i.prototype.onDataRequest_.call(this,t,e,n,r)},a.prototype.redraw=function(){this.processedTiles_={},i.prototype.redraw.call(this)};var s=function(){};a.prototype.dispose=function(){this.onTileDrop_=s,this.processedTiles_={},i.prototype.dispose.call(this)},t.exports=a},function(t,e,n){"use strict";function r(t){var e=c[t];if(!e){switch(t){case"ease":e=u(.25,.1,.25,1);break;case"linear":e=u(0,0,1,1);break;case"ease-in":e=u(.42,0,1,1);break;case"ease-out":e=u(0,0,.58,1);break;case"ease-in-out":e=u(.42,0,.58,1);break;default:e=u(.25,.1,.25,1)}c[t]=e}return e}function i(t){switch(t){case"lerp":return o;case"slerp":return a}return o}function o(t,e,n){var r=t.lat+n*(e.lat-t.lat),i=t.lng+n*(e.lng-t.lng);return new s.geo.Point(r,i)}function a(t,e,n){if(t.lat===e.lat&&t.lng===e.lng)return t;var r=Math.PI/180,i=t.lat*r,o=t.lng*r,a=e.lat*r,u=e.lng*r,c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(.5*(i-a)),2)+Math.cos(i)*Math.cos(a)*Math.pow(Math.sin(.5*(o-u)),2))),l=Math.sin((1-n)*c)/Math.sin(c),f=Math.sin(n*c)/Math.sin(c),h=l*Math.cos(i)*Math.cos(o)+f*Math.cos(a)*Math.cos(u),p=l*Math.cos(i)*Math.sin(o)+f*Math.cos(a)*Math.sin(u),d=l*Math.sin(i)+f*Math.sin(a),v=Math.atan2(d,Math.sqrt(Math.pow(h,2)+Math.pow(p,2))),y=Math.atan2(p,h);
return new s.geo.Point(v/r,y/r)}var s=n(2)(),u=n(59),c=[];t.exports={getEasingFunction:r,getInterpolationFunction:i}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(2)(),o=n(41),a=n(40),s=n(9),u=n(7),c=n(37),l=n(51),f=function t(e,n){if(this.options_={},r(this.options_,n||{}),"function"!=typeof this.options_.rowToMapObject)throw new Error("ObjectLayer: options.rowToMapObject must be callback");if(this.options_.transitionOptions&&"function"!=typeof this.options_.transitionOptions)throw new Error("ObjectLayer: options.transitionOptions must be callback");if(this.options_.clustering){if(!i.clustering)throw new Error("ObjectLayer: mapsjs-clustering.js was not loaded");if("function"!=typeof this.options_.clustering.rowToDataPoint)throw new Error("ObjectLayer: options.clustering.rowToDataPoint\n                must be a callback");if(this.options_.transitionOptions)throw new Error("ObjectLayer: options.transitionOptions can not be used\n                together with clustering")}if(this.layer_=null,e instanceof i.map.provider.RemoteTileProvider)this.layer_=new t.TileQueryLayer_(e,this.options_);else{if(!(e instanceof u))throw new Error("ObjectLayer: provider must be of a type\n            H.map.provider.RemoteTileProvider or H.datalens.Provider");this.layer_=new t.QueryLayer_(e,this.options_)}i.map.layer.ObjectLayer.prototype.constructor.call(this,this.layer_.getProvider(),this.options_)};f.prototype=Object.create(i.map.layer.ObjectLayer.prototype),f.prototype.constructor=f,r(f,c),r(f,l),f.prototype.redraw=function(){this.layer_.redraw()},f.prototype.updateObjectStyle=function(t,e){if(!(t instanceof i.map.Object))throw new TypeError("ObjectLayer.updateObjectStyle: object is not H.map.Object");if(!this.options_.clustering&&t.getProvider()!==this.layer_.getProvider())throw new TypeError("ObjectLayer.updateObjectStyle: object is not on Layer");var n=void 0;if(this.options_.clustering){var r=t.getProvider();n=r&&r.min}else{var o=t.getParentGroup().getData();n=o&&o.zoom}if(!n&&1!==this.options_.rowToMapObject.length)throw new TypeError("ObjectLayer.updateObjectStyle: object is not on tile groups;\n            probably it was added directly to Provider Root Group");this.layer_.applyStyleToObject(n,t,e)},f.prototype.dispose=function(){this.layer_.dispose(),i.map.layer.ObjectLayer.prototype.dispose.call(this)},f.defaultDataToRows=s.defaultDataToRows,f.TileQueryLayer_=o,f.QueryLayer_=a,t.exports=f},function(t,e,n){"use strict";function r(t,e,n){if(3===t){var r=new i;r.loadPbf(n,n.readVarint()+n.pos),e[r.name]=r}}var i=n(19),o=function(t,e,n,r){this.layers={},"undefined"!=typeof e&&(this.parent=t,this.children=[],this.z=e,this.x=n,this.y=r,this.defaultLayer=new i("DEFAULT"),this.layers={DEFAULT:this.defaultLayer},t?(t.children.push(this),1&n?(this.minX=t.midX,this.maxX=t.maxX):(this.minX=t.minX,this.maxX=t.midX),1&r?(this.minY=t.midY,this.maxY=t.maxY):(this.minY=t.minY,this.maxY=t.midY),this.midX=(this.minX+this.maxX)/2,this.midY=(this.minY+this.maxY)/2):(this.minX=this.minY=0,this.maxX=this.maxY=1,this.midX=this.midY=.5))};o.prototype.loadPbf=function(t,e){t.readFields(r,this.layers,e)},t.exports=o},function(t,e){"use strict";function n(t){var e=Math.sin(t[1]*Math.PI/180),n=t[0]/360+.5,r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r=r<0?0:r>1?1:r,[n,r,0]}function r(t,e){for(var r=[],i=0,o=t.length;i<o;i++)r.push(n(t[i]));return e&&(c(r,e),l(r)),r}function i(t,e,n){return[n,(n-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function o(t,e,n){return[(n-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],n,1]}function a(t,e,n,r,i){return e.length&&(e.area=n,e.dist=r,void 0!==i&&(e.outer=i),t.push(e)),[]}function s(t,e,n,r,s){for(var u=[],c=0===r?i:o,l=0,f=t.length;l<f;l++){for(var h=t[l],p=h.area,d=h.dist,v=h.outer,y=h.length,g=void 0,m=null,_=0,b=0,w=[],x=0;x<y-1;x++)g=m||h[x],m=h[x+1],_=b||g[r],b=m[r],_<e?b>n?(w.push(c(g,m,e),c(g,m,n)),s||(w=a(u,w,p,d,v))):b>=e&&w.push(c(g,m,e)):_>n?b<e?(w.push(c(g,m,n),c(g,m,e)),s||(w=a(u,w,p,d,v))):b<=n&&w.push(c(g,m,n)):(w.push(g),b<e?(w.push(c(g,m,e)),s||(w=a(u,w,p,d,v))):b>n&&(w.push(c(g,m,n)),s||(w=a(u,w,p,d,v))));g=h[y-1],_=g[r],_>=e&&_<=n&&w.push(g);var T=w[w.length-1];s&&T&&(w[0][0]!==T[0]||w[0][1]!==T[1])&&w.push(w[0]),a(u,w,p,d,v)}return u}function u(t,e,n){var r=e[0],i=e[1],o=n[0],a=n[1],s=t[0],u=t[1],c=o-r,l=a-i;if(0!==c||0!==l){var f=((s-r)*c+(u-i)*l)/(c*c+l*l);f>1?(r=o,i=a):f>0&&(r+=c*f,i+=l*f)}return c=s-r,l=u-i,c*c+l*l}function c(t,e){var n=e*e,r=t.length,i=0,o=r-1,a=[],s=void 0,c=void 0,l=void 0,f=void 0;for(t[i][2]=1,t[o][2]=1;o;){for(c=0,s=i+1;s<o;s++)l=u(t[s],t[i],t[o]),l>c&&(f=s,c=l);c>n?(t[f][2]=c,a.push(i),a.push(f),i=f):(o=a.pop(),i=a.pop())}}function l(t){for(var e,n,r=0,i=0,o=0;o<t.length-1;o++)e=n||t[o],n=t[o+1],r+=e[0]*n[1]-n[0]*e[1],i+=Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1]);t.area=Math.abs(r/2),t.dist=i}function f(t,e,n){for(var r=[],i=n*n,o=0,a=e.length;o<a;o++){var s=e[o];if(!(2===t&&s.dist<n||3===t&&s.area<i)){for(var u=[],c=0,l=s.length;c<l;c++){var f=s[c];f[2]>i&&u.push(f)}3===t&&h(u,s.outer),r.push(u)}}return r}function h(t,e){var n=p(t);n<0===e&&t.reverse()}function p(t){for(var e,n,r=0,i=0,o=t.length,a=o-1;i<o;a=i++)e=t[i],n=t[a],r+=(n[0]-e[0])*(e[1]+n[1]);return r}function d(t){var e=t.length;if(e<=1)return[t];for(var n=[],r=void 0,i=void 0,o=0;o<e;o++){var a=p(t[o]);0!==a&&(void 0===i&&(i=a<0),i===a<0?(r&&n.push(r),r=[t[o]]):r.push(t[o]))}return r&&n.push(r),n}t.exports={projectPoint:n,project:r,clip:s,calcPointImportance:c,calcSize:l,simplify:f,rewind:h,classifyRings:d}},function(t,e,n){"use strict";function r(t,e,n){return 32*((1<<t)*n+e)+t}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(44),a=n(19),s=n(18),u={maxZoom:14,depth:10,tolerance:3,extent:4096,buffer:64},c=function(t){this.options=i({},u,t);var e=1<<this.options.maxZoom;this.minTolerance=this.options.tolerance/(e*this.options.extent),this.tiles={},this.root=this.createTile(null,0,0,0)};c.prototype.createTile=function(t,e,n,i){var a=new o(t,e,n,i),s=r(e,n,i);return this.tiles[s]=a,a},c.prototype.getTile=function(t,e,n){var i=r(t,e,n);return this.tiles[i]},c.prototype.insert=function(t){if(t.geometry){var e=new s;e.loadGeoJSON(t),e.project(this.minTolerance),e.calcBBox(),this.insert_(this.root,this.options.depth,e)}},c.prototype.insert_=function(t,e,n){var r=n.minX,i=n.minY,o=n.maxX,a=n.maxY,s=t.midX,u=t.midY;if(e&&(o<s||r>=s)&&(a<u||i>=u)){var c=t.z+1,l=r>=s?(t.x<<1)+1:t.x<<1,f=i>=u?(t.y<<1)+1:t.y<<1,h=this.getTile(c,l,f);h||(h=this.createTile(t,c,l,f)),this.insert_(h,e-1,n)}else t.defaultLayer.addFeature(n)},c.prototype.featuresInTile=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=1<<t,o=this.options.tolerance/(i*this.options.extent),a=this.options.buffer/(i*this.options.extent),s=[],u=void 0,c=void 0,l=void 0,f=void 0,h=this.getTile(t,e,n),p=void 0;if(h){u=h.minX,c=h.minY,l=h.maxX,f=h.maxY,p=h.parent;for(var d=[h];d.length;){var v=d.pop();v.defaultLayer.features.length>0&&(s=s.concat(v.defaultLayer.features)),v.children.length>0&&(d=d.concat(v.children))}}else{u=e/i,l=(e+1)/i,c=n/i,f=(n+1)/i;for(var y=t,g=e,m=n;!p;)y-=1,g>>=1,m>>=1,p=this.getTile(y,g,m)}for(var _=[];p;){for(var b=0,w=p.defaultLayer.features.length;b<w;b++){var x=p.defaultLayer.features[b];x.minX>l||x.maxX<u||x.minY>f||x.maxY<c||_.push(x)}p=p.parent}var T=[];if(r.clip||r.simplify||r.transform){for(var E=0,S=s.length;E<S;E++){var M=s[E].clone();r.simplify&&M.simplify(o),r.transform&&M.transform(t,e,n,this.options.extent),T.push(M)}for(var P=0,k=_.length;P<k;P++){var C=_[P].clone();r.clip&&C.clip(u-a,c-a,l+a,f+a),r.simplify&&C.simplify(o),r.transform&&C.transform(t,e,n,this.options.extent),T.push(C)}}else T=s.concat(_);return T},c.Tile=o,c.Layer=a,c.Feature=s,t.exports=c},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(8),o=n(7),a={queryId:null,queryParams:{}},s=function(t,e){if(!(t instanceof i))throw new TypeError("QueryProvider: service must be an instance of H.datalens.Service");if(this.options_={},r(this.options_,a,e||{}),"string"!=typeof this.options_.queryId)throw new TypeError("QueryProvider: the query ID must be a string");this.service_=t,this.requestPromise_=null,o.prototype.constructor.call(this,null,this.options_)};s.prototype=Object.create(o.prototype),s.prototype.constructor=s,s.prototype.setQueryId=function(t){this.options_.queryId=t},s.prototype.getData=function(){return null===this.data_&&null===this.requestPromise_&&this.reload(),o.prototype.getData.call(this)},s.prototype.setQueryParams=function(t){this.options_.queryParams=t},s.prototype.reload=function(){var t=this,e=this.options_,n=e.queryId,r=e.queryParams;this.requestPromise_&&this.requestPromise_.cancel(),this.requestPromise_=this.service_.fetchQueryData(n,r),this.requestPromise_.then(function(e){t.setData(e)}).finally(function(){t.requestPromise_=null}),this.requestPromise_.done()},t.exports=s},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e,n){if(!t||"string"!=typeof t.x||"string"!=typeof t.y||"string"!=typeof t.z)throw e?new a.lang.InvalidArgumentError(l,n,"QueryTileProvider: tileParamNames must be strings"):new TypeError("QueryTileProvider: tileParamNames must be strings")}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(2)(),s=n(8),u=n(6),c={tileCacheSize:2048*devicePixelRatio*2,queryId:null,queryParams:null,tileParamNames:null},l=function t(e,n){if(!(e instanceof s))throw new a.lang.InvalidArgumentError(t,0,"QueryTileProvider: service must be an instance of\n            H.datalens.Service");this.options_={},o(this.options_,c,n),this.service_=e,this.cache_=new a.util.Cache(this.options_.tileCacheSize),a.map.provider.RemoteTileProvider.call(this,n)};l.prototype=Object.create(a.map.provider.RemoteTileProvider.prototype),l.prototype.constructor=l,l.prototype.getCache=function(){return this.cache_},l.prototype.requestInternal=function(t,e,n,a,s){var c=this,l=this.options_,f=l.tileParamNames;i(f);var h=u.delay(10).then(function(){var i;return c.service_.fetchQueryData(l.queryId,o({},l.queryParams||{},(i={},r(i,f.x,t),r(i,f.y,e),r(i,f.z,n),i)))});return h.then(a,s).done(),{cancel:h.cancel.bind(h)}},l.prototype.setQueryId=function(t){this.options_.queryId=t,a.map.provider.RemoteTileProvider.prototype.reload.call(this)},l.prototype.setQueryParams=function(t){this.options_.queryParams=t,a.map.provider.RemoteTileProvider.prototype.reload.call(this)},l.prototype.setTileParamNames=function(t){i(t,l.prototype.setTileParamNames,0),this.options_.tileParamNames=t,a.map.provider.RemoteTileProvider.prototype.reload.call(this)},l.prototype.reload=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a.map.provider.RemoteTileProvider.prototype.reload.call(this,t)},t.exports=l},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){return Math.pow(2,t)}function o(t,e,n,r){for(var o=t.tileSize,a=i(r),s=u(t,r),c=Math.floor(e-s/o),l=Math.ceil(e+s/o),f=Math.floor(n-s/o),h=Math.ceil(n+s/o),p=[],d=c;d<=l;d++)for(var v=f;v<=h;v++)v<0||v>=a||e===d&&n===v||p.push({x:(a+d)%a,y:v,z:r,dx:e-d,dy:n-v});return p.push({x:e,y:n,z:r,dx:0,dy:0}),p}function a(){}function s(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=i.x,a=i.y,s=i.z,u=c(t,o,a,s);u&&n.push(u)}return n}function u(t,e){return"function"==typeof t.options_.buffer?t.options_.buffer(e):t.options_.buffer}function c(t,e,n,r){var i=t.queryProvider_.getTileKey(e,n,r),o=t.tilePoints_[i];if(o)return o;var a=t.queryProvider_.requestTile(e,n,r);if(a){var s=t.options_.dataToRows(a.data,e,n,r);if(!Array.isArray(s))throw new Error("\n                RasterLayer: dataToRows should return array of objects\n            ");for(var u=Array(s.length),c=0;c<s.length;c++){var l=s[c],f=t.options_.rowToTilePoint(l,e,n);if(!f||"number"!=typeof f.x||"number"!=typeof f.y||!(t.pointType===y.PointType.NOVALUE||"number"==typeof f.count&&f.count>0&&"number"==typeof f.value))throw new Error("RasterLayer: rowToTilePoint should return "+(t.pointType===y.PointType.HASVALUE?"H.datalens.HeatmapLayer.TilePoint":"H.datalens.RasterLayer.TilePoint"));f.data=l,u[c]=f}return t.tilePoints_[i]=u,u}}function l(t,e,n,r,i){return d.map.provider.RemoteTileProvider.prototype.createTileInternal.call(t,e,n,r,i)}function f(t,e,n,r,i,o){for(var a=[],s=0;s<e.length;s++){var u=e[s],c=void 0;c=t===y.PointType.HASVALUE?{x:u.x-n,y:u.y-r,data:u.data,count:u.count,value:u.value}:{x:u.x-n,y:u.y-r,data:u.data},c.x>=-i&&c.x<o+i&&c.y>=-i&&c.y<o+i&&a.push(c)}return a}function h(t,e,n){var r=t.getContext("2d");r.clearRect(0,0,n,e),r.clearRect(0,n-e,n,e),r.clearRect(0,0,e,n),r.clearRect(n-e,0,e,n)}var p=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=n(2)(),v=n(14),y=function t(e,n){var r=this;this.tilePoints_={},this.pointType=t.PointType.NOVALUE,this.options_=n,this.queryProvider_=e,this.onProviderUpdate_=this.onProviderUpdate_.bind(this),this.queryProvider_.addEventListener("update",this.onProviderUpdate_),this.queryProvider_.getCache().registerOnDrop(function(t){r.onDataTileDrop_(t)}),this.completeTiles_={},this.tileCanvasPool_=new v(e.tileSize),this.cache_=new d.util.Cache(e.getCache().getMaxSize()),this.cache_.registerOnDrop(function(t){r.onTileDrop_(t)}),d.map.provider.RemoteTileProvider.call(this,this.options_)};y.prototype=Object.create(d.map.provider.RemoteTileProvider.prototype),y.prototype.constructor=y,y.prototype.onProviderUpdate_=function(){this.dispatchEvent("update")},y.prototype.onDataTileDrop_=function(t){var e=t.split("_").slice(1).map(Number),n=p(e,3),r=n[0],i=n[1],a=n[2];delete this.tilePoints_[t];for(var s=o(this,r,i,a),u=0;u<s.length;u++){var c=s[u],l=this.getTileKey(c.x,c.y,c.z);delete this.completeTiles_[l]}},y.prototype.onTileDrop_=function(t){var e=this.cache_.get(t);e&&e.data&&this.tileCanvasPool_.push(e.data)},y.prototype.requestInternal=function(t,e,n,r){var i=this.getTileKey(t,e,n);if(this.completeTiles_[i])return r(),{cancel:a};var o=setTimeout(r,500);return{cancel:function(){clearTimeout(o)}}},y.prototype.requestTile=function(t,e,n,r){var i=this.getTileKey(t,e,n),a=this.cache_,u=a.get(i);if(u&&!this.completeTiles_[i]){var c=o(this,t,e,n),l=s(this,c),f=c.length===l.length;f&&(this.completeTiles_[i]=1,a.drop(i))}return d.map.provider.RemoteTileProvider.prototype.requestTile.call(this,t,e,n,r)},y.prototype.createTileInternal=function(t,e,n){var i=this.tileSize,a=u(this,n),p=c(this,t,e,n),d=[],v=void 0,y=void 0;if(p){var g=void 0,m=void 0;if(a?(g=o(this,t,e,n),m=s(this,g),v=g.length===m.length):v=!0,v&&a)for(var _=0;_<m.length;_++){var b,w=m[_],x=g[_],T=i*x.dx,E=i*x.dy;(b=d).push.apply(b,r(f(this.pointType,w,T,E,a,i)))}else a<.1*i&&(d=p);var S=this.tileCanvasPool_.pop();this.options_.renderTile(d,S,n),!v&&a&&h(S,a,i),y=l(this,t,e,n,S)}else y=l(this,t,e,n,null);return y},y.prototype.getCache=function(){return this.cache_},y.prototype.reload=function(){this.completeTiles_={},this.tilePoints_={},d.map.provider.RemoteTileProvider.prototype.reload.call(this)},y.prototype.dispose=function(){this.queryProvider_.removeEventListener("update",this.onProviderUpdate_),this.onDataTileDrop_=a,this.cache_.removeAll(),this.onTileDrop_=a,this.completeTiles_={},this.tilePoints_={},d.map.provider.RemoteTileProvider.prototype.dispose.call(this)},y.PointType={HASVALUE:"HASVALUE",NOVALUE:"NOVALUE"},t.exports=y},function(t,e,n){"use strict";function r(t){var e=document.createElement("a");return e.href=t,e.href}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(2)(),a=n(6),s=n(116),u={tileCacheSize:512,tileSize:256},c=function t(e){var n=this;if(this.options_={},i(this.options_,u,e),this.cache_=new o.util.Cache(this.options_.tileCacheSize),o.map.provider.RemoteTileProvider.call(this,this.options_),this.dataLoaded_=!1,this.inflightRequests_={},this.worker_=new t.Worker,this.options_.dataToFeatures&&this.worker_.postMessage(JSON.stringify({action:"loadScript",name:"dataToFeatures",script:this.options_.dataToFeatures.toString()})),this.options_.featuresToRows&&this.worker_.postMessage(JSON.stringify({action:"loadScript",name:"featuresToRows",script:this.options_.featuresToRows.toString()})),!this.options_.dataUrl)throw new Error("RawDataProvider: dataUrl is not defined");this.worker_.postMessage(JSON.stringify({action:"loadData",dataUrl:r(this.options_.dataUrl)})),this.worker_.addEventListener("message",function(t){var e=JSON.parse(t.data);switch(e.action){case"dataLoaded":n.dataLoaded_=!0,n.reload();break;case"tileLoaded":var r=e.options,i=r.x,o=r.y,a=r.z,s=n.getTileKey(i,o,a),u=n.inflightRequests_,c=u[s];if(c){for(var l=0;l<c.length;l++)c[l](e.result);u[s]=null}}})};c.prototype=Object.create(o.map.provider.RemoteTileProvider.prototype),c.prototype.constructor=c,c.prototype.getCache=function(){return this.cache_},c.prototype.requestInternal=function(t,e,n,r,i){var o=this,s=this.inflightRequests_,u=new a(function(r,i,a){if(o.dataLoaded_){var u=o.getTileKey(t,e,n),c=o.options_.tileSize;s[u]?s[u].push(r):(s[u]=[r],o.worker_.postMessage(JSON.stringify({action:"requestTile",options:{x:t,y:e,z:n,tileSize:c}}))),a(function(){s[u]=null})}else i(new Error("RawDataProvider: data url not yet loaded"))});return u.then(r,i),u},c.prototype.setDataUrl=function(t){this.options_.dataUrl=t},c.prototype.reload=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.map.provider.RemoteTileProvider.prototype.reload.call(this,t)},c.Worker=s,t.exports=c},function(t,e,n){"use strict";function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new(Function.prototype.bind.apply(i,[null].concat([t],n)))}var i=n(21);t.exports={createReusableMarker:r}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(13),o=function(t,e){this.name="HttpError",this.message=t+", "+i[t]+"; "+e.msg,this.stack=(new Error).stack,r(this,e)};o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,t.exports=o},function(t,e,n){"use strict";var r=n(6),i=n(117),o=n(13);t.exports={request:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,a=void 0,s=void 0;return"GET"===t.method&&(a=JSON.stringify(t),s=e[a])?s:(s=new r(function(r,i,s){var u=n(t,function(t,n){t?(e[a]=null,i(t)):(n.statusCode!==o.OK&&(e[a]=null),r(n))});s(function(){e[a]=null,u.abort()})}),a&&(e[a]=s),s)}}},function(t,e,n){"use strict";function r(t){if("string"!=typeof t&&"number"!=typeof t)throw new Error("SpatialLayer: rowToSpatialId must return string or number\n            but got "+t)}function i(t,e){var n=t.spatialMap_[e.id];n||(n=[],t.spatialMap_[e.id]=n),n.push(e)}var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(2)(),s=n(14),u=n(55),c=n(22),l={tileCacheSize:1024,tileSize:256},f=function(t,e,n){var r=this;this.options_={},o(this.options_,l,n),this.rowMap_={},this.spatialMap_={},this.tileCanvasPool_=new s(this.options_.tileSize),this.hitTestCanvas_=this.tileCanvasPool_.pop(),this.cache_=new a.util.Cache(this.options_.tileCacheSize),this.cache_.registerOnDrop(function(t){r.onTileDrop_(t)}),this.dataProvider_=t,this.dataProvider_&&(this.onDataProviderUpdate_=this.onDataProviderUpdate_.bind(this),this.dataProvider_.addEventListener("update",this.onDataProviderUpdate_),this.dataProvider_.getData()),this.spatialProvider_=e,this.onSpatialProviderUpdate_=this.onSpatialProviderUpdate_.bind(this),this.spatialProvider_.addEventListener("update",this.onSpatialProviderUpdate_),a.map.provider.RemoteTileProvider.call(this,n)};f.prototype=Object.create(a.map.provider.RemoteTileProvider.prototype),f.prototype.constructor=f,f.prototype.onSpatialProviderUpdate_=function(){this.dispatchEvent("update")},f.prototype.onDataProviderUpdate_=function(){this.rowMap_={};var t=this.dataProvider_.getData();if(t)for(var e=this.options_.dataToRows(t),n=0;n<e.length;n++){var i=e[n],o=this.options_.rowToSpatialId(i);if(r(o),o in this.rowMap_)throw new Error("SpatialLayer: duplicating spatialId:"+o+"; use dataToRows to aggregate data;");this.rowMap_[o]=i}this.cache_.removeAll(),this.dispatchEvent("update")},f.prototype.updateSpatialStyle=function(t,e){for(var n=this.spatialMap_[t.id],r=0;r<n.length;r++)n[r].state=e,this.invalidateObject(n[r]);this.dispatchEvent("update")},f.prototype.invalidateObject=function(t){var e=this.getCache().get(t.tileKey);e&&(e.valid=!1)},f.prototype.onTileDrop_=function(t){var e=this.cache_.get(t);e&&e.data&&this.tileCanvasPool_.push(e.data)},f.prototype.getCache=function(){return this.cache_},f.prototype.requestTile=function(t,e,n,r){var i=this.getTileKey(t,e,n),o=this.cache_.get(i);if(o)return o.valid||o.render(),o;if(!r){var a=this.spatialProvider_.requestTile(t,e,n,r);if(a){var s=this.createTileInternal(t,e,n,a.data);return s&&this.cache_.add(i,s,1),s}}return null},f.prototype.cancelTile=function(t,e,n){this.spatialProvider_.cancelTile(n,e,n)},f.prototype.createTileInternal=function(t,e,n,o){var a=o.layer,s=o.features;if(a){for(var l=this.tileCanvasPool_.pop(),f=void 0,h=[],p=this.getTileKey(t,e,n),d=0;d<s.length;d++){var v=s[d];this.options_.transformFeature&&!v.transformed&&(v=this.options_.transformFeature(v,n),v.transformed=!0);var y=this.options_.featureToSpatialId(v);r(y);var g=new c({provider:this,id:y,feature:v,tileKey:p});h.push(g),i(this,g);var m=this.dataProvider_?this.rowMap_[y]:v.properties;m&&g.setData(m)}return f=new u(t,e,n,l,h,a.extent,this.hitTestCanvas_,this.options_),f.render(),f}return null},f.prototype.dispose=function(){a.map.provider.RemoteTileProvider.prototype.dispose.call(this),this.dataProvider_&&this.dataProvider_.removeEventListener("update",this.onDataProviderUpdate_),this.spatialProvider_.removeEventListener("update",this.onSpatialProviderUpdate_),this.rowMap_={},this.spatialMap_={},this.cache_.removeAll(),this.onTileDrop_=function(){}},t.exports=f},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(2)(),o=n(23),a=n(24),s=function(t,e,n,r,o,a,s,u){i.map.provider.Tile.call(this,t,e,n,r),this.spatials_=o,this.layerExtent_=a,this.hitTestCanvas_=s,this.options_=u,this.valid=!1};s.prototype=Object.create(i.map.provider.Tile.prototype),s.prototype.constructor=s,s.prototype.render=function(t){var e=t?this.hitTestCanvas_:this.data,n=e.getContext("2d");(t||this.valid===!1)&&n.clearRect(0,0,e.width,e.height),n.save();var i=this.options_.tileSize/this.layerExtent_;n.setTransform(i,0,0,i,0,0);for(var s=o(this.z),u=this.options_.pixelRatio||1,c=0;c<this.spatials_.length;c++){var l=this.spatials_[c],f=l.getData(),h=this.options_.rowToStyle,p=this.options_.defaultStyle,d={};if(r(d,s,p(this.z,l.state),f?h(f,this.z,l.state):{}),n.lineJoin=d.lineJoin,n.lineCap=d.lineCap,n.lineWidth=d.lineWidth*u/i,t){var v=a.intToRGB(l.colorCode);n.strokeStyle=v,n.fillStyle=v}else n.strokeStyle=d.strokeColor,n.fillStyle=d.fillColor;l.render(n)}n.restore(),t||(this.valid=!0)},s.prototype.getObjectsAt=function(t,e){var n=this.hitTestCanvas_.getContext("2d");this.render(!0);var r=n.getImageData(t,e,1,1).data;if(a.isAntialiased(r))return[];for(var i=a.RGBToInt(r),o=[],s=0;s<this.spatials_.length;s++){var u=this.spatials_[s];u.colorCode===i&&o.push(u)}return o};var u=i.map.render.p2d.RenderEngine.prototype;for(var c in u)if("getObjectsAt"!==c&&u[c]===u.getObjectsAt){s.prototype[c]=s.prototype.getObjectsAt;break}t.exports=s},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(2)(),o=n(54),a=n(22),s=n(7),u=n(10).bind(null,"SpatialLayer"),c=n(23),l=n(57),f="DEFAULT_STATE",h=function t(e,n,o){var a=r({},p,o);if(null!=e&&!(e instanceof s))throw new Error("\n            SpatialLayer: dataProvider must be an instance of\n            H.datalens.Provider or null\n        ");if(!(n instanceof i.map.provider.RemoteTileProvider))throw new Error("\n            SpatialLayer: spatialProvider must be an instance of\n            H.map.provider.RemoteTileProvider\n        ");if(null!=e&&"function"!=typeof a.rowToSpatialId)throw new Error("\n            SpatialLayer: rowToSpatialId must be a function\n        ");if("function"!=typeof a.featureToSpatialId)throw new Error("\n            SpatialLayer: featureToSpatialId must be a function\n        ");if("function"!=typeof a.dataToRows)throw new Error("SpatialLayer: dataToRows must be a function");if("function"!=typeof a.rowToStyle)throw new Error("SpatialLayer: rowToStyle must be a function");if("function"!=typeof a.defaultStyle)throw new Error("SpatialLayer: defaultStyle must be a function");if(a.transformFeature&&"function"!=typeof a.transformFeature)throw new TypeError("SpatialLayer: transformFeature must be a function");this.provider_=new t.Provider_(e,n,a),i.map.layer.TileLayer.call(this,this.provider_,a)};h.prototype=Object.create(i.map.layer.TileLayer.prototype),h.prototype.constructor=h,h.prototype.dispose=function(){this.provider_.dispose(),i.map.layer.TileLayer.prototype.dispose.call(this)},h.prototype.redraw=function(){this.provider_.reload()},h.prototype.updateSpatialStyle=function(t,e){this.provider_.updateSpatialStyle(t,e)},h.Provider_=o,h.DEFAULT_STATE=f,h.Spatial=a,h.defaultDataToRows=u;var p={dataToRows:h.defaultDataToRows,defaultStyle:c,rowToStyle:l};t.exports=h},function(t,e){"use strict";t.exports=function(){return{fillColor:"#3f5ca5"}}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(2)(),o=n(8),a=n(105),s=n(46).Tile,u={tileCacheSize:512,layerName:null,queryParams:null},c=function(t,e){if(!(t instanceof o))throw new TypeError("SpatialTileProvider: service must be an instance of\n            H.datalens.Service");this.options_={},r(this.options_,u,e),this.service_=t,this.cache_=new i.util.Cache(this.options_.tileCacheSize),i.map.provider.RemoteTileProvider.call(this,this.options_)};c.prototype=Object.create(i.map.provider.RemoteTileProvider.prototype),c.prototype.constructor=c,c.prototype.getCache=function(){return this.cache_},c.prototype.requestInternal=function(t,e,n,r,i){var o=this.options_.layerName,s=this.options_.queryParams||{},u=this.service_.fetchLayerTile(o,t,e,n,s);return u.then(function(t){var e=new c.VectorTile;e.loadPbf(new a(t));var n=e.layers[o],i=void 0;i=n?{layer:n,features:n.features}:{layer:null,features:[]},r(i)},i),u},c.prototype.setLayerName=function(t){this.options_.layerName=t,i.map.provider.RemoteTileProvider.prototype.reload.call(this)},c.prototype.setQueryParams=function(t){this.options_.queryParams=t,i.map.provider.RemoteTileProvider.prototype.reload.call(this)},c.prototype.reload=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.map.provider.RemoteTileProvider.prototype.reload.call(this,t)},c.VectorTile=s,t.exports=c},function(t,e){function n(t,e){return 1-3*e+3*t}function r(t,e){return 3*e-6*t}function i(t){return 3*t}function o(t,e,o){return((n(e,o)*t+r(e,o))*t+i(e))*t}function a(t,e,o){return 3*n(e,o)*t*t+2*r(e,o)*t+i(e)}function s(t,e,n,r,i){var a,s,u=0;do s=e+(n-e)/2,a=o(s,r,i)-t,a>0?n=s:e=s;while(Math.abs(a)>f&&++u<h);return s}function u(t,e,n,r){for(var i=0;i<c;++i){var s=a(e,n,r);if(0===s)return e;var u=o(e,n,r)-t;e-=u/s}return e}var c=4,l=.001,f=1e-7,h=10,p=11,d=1/(p-1),v="function"==typeof Float32Array;t.exports=function(t,e,n,r){function i(e){for(var r=0,i=1,o=p-1;i!==o&&c[i]<=e;++i)r+=d;--i;var f=(e-c[i])/(c[i+1]-c[i]),h=r+f*d,v=a(h,t,n);return v>=l?u(e,h,t,n):0===v?h:s(e,r,r+d,t,n)}if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var c=v?new Float32Array(p):new Array(p);if(t!==e||n!==r)for(var f=0;f<p;++f)c[f]=o(f*d,t,n);return function(a){return t===e&&n===r?a:0===a?0:1===a?1:o(i(a),e,r)}}},function(t,e){"use strict";t.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},function(t,e,n){(function(e){"use strict";function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new c(16),this._normalQueue=new c(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=u}function i(t,e,n){this._lateQueue.push(t,e,n),this._queueTick()}function o(t,e,n){this._normalQueue.push(t,e,n),this._queueTick()}function a(t){this._normalQueue._pushOne(t),this._queueTick()}var s;try{throw new Error}catch(t){s=t}var u=n(84),c=n(81),l=n(1);r.prototype.setScheduler=function(t){var e=this._schedule;return this._schedule=t,this._customScheduler=!0,e},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){l.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(t,n){n?(e.stderr.write("Fatal "+(t instanceof Error?t.stack:t)+"\n"),e.exit(2)):this.throwLater(t)},r.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(t){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},l.hasDevTools?(r.prototype.invokeLater=function(t,e,n){this._trampolineEnabled?i.call(this,t,e,n):this._schedule(function(){setTimeout(function(){t.call(e,n)},100)})},r.prototype.invoke=function(t,e,n){this._trampolineEnabled?o.call(this,t,e,n):this._schedule(function(){t.call(e,n)})},r.prototype.settlePromises=function(t){this._trampolineEnabled?a.call(this,t):this._schedule(function(){t._settlePromises()})}):(r.prototype.invokeLater=i,r.prototype.invoke=o,r.prototype.settlePromises=a),r.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},t.exports=r,t.exports.firstLineError=s}).call(e,n(5))},function(t,e){"use strict";t.exports=function(t,e,n,r){var i=!1,o=function(t,e){this._reject(e)},a=function(t,e){
e.promiseRejectionQueued=!0,e.bindingPromise._then(o,o,null,this,t)},s=function(t,e){0===(50397184&this._bitField)&&this._resolveCallback(e.target)},u=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(o){i||(i=!0,t.prototype._propagateFrom=r.propagateFromFunction(),t.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new t(e);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof t){var h={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(e,a,void 0,l,h),c._then(s,u,void 0,l,h),l._setOnCancel(c)}else l._resolveCallback(f);return l},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=2097152|this._bitField,this._boundTo=t):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},t.bind=function(e,n){return t.resolve(n).bind(e)}}},function(t,e,n){"use strict";function r(){try{Promise===o&&(Promise=i)}catch(t){}return o}var i;"undefined"!=typeof Promise&&(i=Promise);var o=n(77)();o.noConflict=r,t.exports=o},function(t,e,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){function e(e,n){var r;if(null!=e&&(r=e[n]),"function"!=typeof r){var i="Object "+l.classString(e)+" has no method '"+l.toString(n)+"'";throw new t.TypeError(i)}return r}function r(t){var n=this.pop(),r=e(t,n);return r.apply(t,this)}function a(t){return t[this]}function s(t){var e=+this;return e<0&&(e=Math.max(0,e+t.length)),t[e]}var u,c,l=n(1),f=l.canEvaluate,h=l.isIdentifier,p=function(t){return new Function("ensureMethod","                                    \n\t        return function(obj) {                                               \n\t            'use strict'                                                     \n\t            var len = this.length;                                           \n\t            ensureMethod(obj, 'methodName');                                 \n\t            switch(len) {                                                    \n\t                case 1: return obj.methodName(this[0]);                      \n\t                case 2: return obj.methodName(this[0], this[1]);             \n\t                case 3: return obj.methodName(this[0], this[1], this[2]);    \n\t                case 0: return obj.methodName();                             \n\t                default:                                                     \n\t                    return obj.methodName.apply(obj, this);                  \n\t            }                                                                \n\t        };                                                                   \n\t        ".replace(/methodName/g,t))(e)},d=function(t){return new Function("obj","                                             \n\t        'use strict';                                                        \n\t        return obj.propertyName;                                             \n\t        ".replace("propertyName",t))},v=function(t,e,n){var r=n[t];if("function"!=typeof r){if(!h(t))return null;if(r=e(t),n[t]=r,n[" size"]++,n[" size"]>512){for(var i=Object.keys(n),o=0;o<256;++o)delete n[i[o]];n[" size"]=i.length-256}}return r};u=function(t){return v(t,p,i)},c=function(t){return v(t,d,o)},t.prototype.call=function(t){for(var e=arguments.length,n=new Array(Math.max(e-1,0)),i=1;i<e;++i)n[i-1]=arguments[i];if(f){var o=u(t);if(null!==o)return this._then(o,void 0,void 0,n,void 0)}return n.push(t),this._then(r,void 0,void 0,n,void 0)},t.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=s;else if(f){var r=c(t);e=null!==r?r:a}else e=a;return this._then(e,void 0,void 0,t,void 0)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i){var o=n(1),a=o.tryCatch,s=o.errorObj,u=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var t=this,e=t;t._isCancellable();){if(!t._cancelBy(e)){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}var n=t._cancellationParent;if(null==n||!n._isCancellable()){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}t._isFollowing()&&t._followee().cancel(),t._setWillBeCancelled(),e=t,t=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(t){return t===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(t,e){if(o.isArray(t))for(var n=0;n<t.length;++n)this._doInvokeOnCancel(t[n],e);else if(void 0!==t)if("function"==typeof t){if(!e){var r=a(t).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else t._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var t=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,t)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},function(t,e){"use strict";t.exports=function(t){function e(){this._trace=new e.CapturedTrace(r())}function n(){if(i)return new e}function r(){var t=o.length-1;if(t>=0)return o[t]}var i=!1,o=[];return t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){},e.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,o.push(this._trace))},e.prototype._popContext=function(){if(void 0!==this._trace){var t=o.pop(),e=t._promiseCreated;return t._promiseCreated=null,e}return null},e.CapturedTrace=null,e.create=n,e.deactivateLongStackTraces=function(){},e.activateLongStackTraces=function(){var n=t.prototype._pushContext,o=t.prototype._popContext,a=t._peekContext,s=t.prototype._peekContext,u=t.prototype._promiseCreated;e.deactivateLongStackTraces=function(){t.prototype._pushContext=n,t.prototype._popContext=o,t._peekContext=a,t.prototype._peekContext=s,t.prototype._promiseCreated=u,i=!1},i=!0,t.prototype._pushContext=e.prototype._pushContext,t.prototype._popContext=e.prototype._popContext,t._peekContext=t.prototype._peekContext=r,t.prototype._promiseCreated=function(){var t=this._peekContext();t&&null==t._promiseCreated&&(t._promiseCreated=this)}},e}},function(t,e,n){(function(e){"use strict";t.exports=function(t,r){function i(t,e){return{promise:e}}function o(){return!1}function a(t,e,n){var r=this;try{t(e,n,function(t){if("function"!=typeof t)throw new TypeError("onCancel must be a function, got: "+U.toString(t));r._attachCancellationCallback(t)})}catch(t){return t}}function s(t){if(!this._isCancellable())return this;var e=this._onCancel();void 0!==e?U.isArray(e)?e.push(t):this._setOnCancel([e,t]):this._setOnCancel(t)}function u(){return this._onCancelField}function c(t){this._onCancelField=t}function l(){this._cancellationParent=void 0,this._onCancelField=void 0}function f(t,e){if(0!==(1&e)){this._cancellationParent=t;var n=t._branchesRemainingToCancel;void 0===n&&(n=0),t._branchesRemainingToCancel=n+1}0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function h(t,e){0!==(2&e)&&t._isBound()&&this._setBoundTo(t._boundTo)}function p(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function d(){this._trace=new O(this._peekContext())}function v(t,e){if(B(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var r=E(t);U.notEnumerableProp(t,"stack",r.message+"\n"+r.stack.join("\n")),U.notEnumerableProp(t,"__stackCleaned__",!0)}}}function y(t,e,n,r,i){if(void 0===t&&null!==e&&Q){if(void 0!==i&&i._returnedNonUndefined())return;if(0===(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(e._trace){for(var s=e._trace.stack.split("\n"),u=x(s),c=u.length-1;c>=0;--c){var l=u[c];if(!z.test(l)){var f=l.match(Y);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0)for(var h=u[0],c=0;c<s.length;++c)if(s[c]===h){c>0&&(a="\n"+s[c-1]);break}}var p="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(p,!0,e)}}function g(t,e){var n=t+" is deprecated and will be removed in a future version.";return e&&(n+=" Use "+e+" instead."),m(n)}function m(e,n,r){if(at.warnings){var i,o=new N(e);if(n)r._attachExtraTrace(o);else if(at.longStackTraces&&(i=t._peekContext()))i.attachExtraTrace(o);else{var a=E(o);o.stack=a.message+"\n"+a.stack.join("\n")}et("warning",o)||S(o,"",!0)}}function _(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function b(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function w(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var u=r[s];if(e[i]!==u)break;e.pop(),i--}e=r}}function x(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i="    (No stack trace)"===r||V.test(r),o=i&&rt(r);i&&!o&&(X&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function T(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||V.test(r))break}return n>0&&"SyntaxError"!=t.name&&(e=e.slice(n)),e}function E(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?T(t):["    (No stack trace)"],{message:n,stack:"SyntaxError"==t.name?e:x(e)}}function S(t,e,n){if("undefined"!=typeof console){var r;if(U.isObject(t)){var i=t.stack;r=e+H(i,t)}else r=e+String(t);"function"==typeof L?L(r,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(r)}}function M(t,e,n,r){var i=!1;try{"function"==typeof e&&(i=!0,"rejectionHandled"===t?e(r):e(n,r))}catch(t){I.throwLater(t)}"unhandledRejection"===t?et(t,n,r)||i||S(n,"Unhandled rejection "):et(t,r)}function P(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t&&"function"==typeof t.toString?t.toString():U.toString(t);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(t){}0===e.length&&(e="(empty array)")}return"(<"+k(e)+">, no stack trace)"}function k(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function C(){return"function"==typeof ot}function j(t){var e=t.match(it);if(e)return{fileName:e[1],line:parseInt(e[2],10)}}function R(t,e){if(C()){for(var n,r,i=t.stack.split("\n"),o=e.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u){var c=j(i[u]);if(c){n=c.fileName,a=c.line;break}}for(var u=0;u<o.length;++u){var c=j(o[u]);if(c){r=c.fileName,s=c.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(rt=function(t){if(q.test(t))return!0;var e=j(t);return!!(e&&e.fileName===n&&a<=e.line&&e.line<=s)})}}function O(t){this._parent=t,this._promisesCreated=0;var e=this._length=1+(void 0===t?0:t._length);ot(this,O),e>32&&this.uncycle()}var A,F,L,D=t._getDomain,I=t._async,N=n(3).Warning,U=n(1),B=U.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,z=/\((?:timers\.js):\d+:\d+\)/,Y=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,V=null,H=null,X=!1,G=!(0==U.env("BLUEBIRD_DEBUG")||!U.env("BLUEBIRD_DEBUG")&&"development"!==U.env("NODE_ENV")),W=!(0==U.env("BLUEBIRD_WARNINGS")||!G&&!U.env("BLUEBIRD_WARNINGS")),$=!(0==U.env("BLUEBIRD_LONG_STACK_TRACES")||!G&&!U.env("BLUEBIRD_LONG_STACK_TRACES")),Q=0!=U.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(W||!!U.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var t=this._target();t._bitField=t._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),I.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){M("rejectionHandled",A,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._settledValue();this._setUnhandledRejectionIsNotified(),M("unhandledRejection",F,t,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(t,e,n){return m(t,e,n||this)},t.onPossiblyUnhandledRejection=function(t){var e=D();F="function"==typeof t?null===e?t:U.domainBind(e,t):void 0},t.onUnhandledRejectionHandled=function(t){var e=D();A="function"==typeof t?null===e?t:U.domainBind(e,t):void 0};var J=function(){};t.longStackTraces=function(){if(I.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!at.longStackTraces&&C()){var e=t.prototype._captureStackTrace,n=t.prototype._attachExtraTrace;at.longStackTraces=!0,J=function(){if(I.haveItemsQueued()&&!at.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=n,r.deactivateLongStackTraces(),I.enableTrampoline(),at.longStackTraces=!1},t.prototype._captureStackTrace=d,t.prototype._attachExtraTrace=v,r.activateLongStackTraces(),I.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return at.longStackTraces&&C()};var Z=function(){try{if("function"==typeof CustomEvent){var t=new CustomEvent("CustomEvent");return U.global.dispatchEvent(t),function(t,e){var n=new CustomEvent(t.toLowerCase(),{detail:e,cancelable:!0});return!U.global.dispatchEvent(n)}}if("function"==typeof Event){var t=new Event("CustomEvent");return U.global.dispatchEvent(t),function(t,e){var n=new Event(t.toLowerCase(),{cancelable:!0});return n.detail=e,!U.global.dispatchEvent(n)}}var t=document.createEvent("CustomEvent");return t.initCustomEvent("testingtheevent",!1,!0,{}),U.global.dispatchEvent(t),function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t.toLowerCase(),!1,!0,e),!U.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),K=function(){return U.isNode?function(){return e.emit.apply(e,arguments)}:U.global?function(t){var e="on"+t.toLowerCase(),n=U.global[e];return!!n&&(n.apply(U.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),tt={promiseCreated:i,promiseFulfilled:i,promiseRejected:i,promiseResolved:i,promiseCancelled:i,promiseChained:function(t,e,n){return{promise:e,child:n}},warning:function(t,e){return{warning:e}},unhandledRejection:function(t,e,n){return{reason:e,promise:n}},rejectionHandled:i},et=function(t){var e=!1;try{e=K.apply(null,arguments)}catch(t){I.throwLater(t),e=!0}var n=!1;try{n=Z(t,tt[t].apply(null,arguments))}catch(t){I.throwLater(t),n=!0}return n||e};t.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&J()),"warnings"in e){var n=e.warnings;at.warnings=!!n,Q=at.warnings,U.isObject(n)&&"wForgottenReturn"in n&&(Q=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!at.cancellation){if(I.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=l,t.prototype._propagateFrom=f,t.prototype._onCancel=u,t.prototype._setOnCancel=c,t.prototype._attachCancellationCallback=s,t.prototype._execute=a,nt=f,at.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!at.monitoring?(at.monitoring=!0,t.prototype._fireEvent=et):!e.monitoring&&at.monitoring&&(at.monitoring=!1,t.prototype._fireEvent=o)),t},t.prototype._fireEvent=o,t.prototype._execute=function(t,e,n){try{t(e,n)}catch(t){return t}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(t){},t.prototype._attachCancellationCallback=function(t){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(t,e){};var nt=h,rt=function(){return!1},it=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;U.inherits(O,Error),r.CapturedTrace=O,O.prototype.uncycle=function(){var t=this._length;if(!(t<2)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;r<t;++r){var a=e[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var u=r>0?e[r-1]:this;s<t-1?(u._parent=e[s+1],u._parent.uncycle(),u._length=u._parent._length+1):(u._parent=void 0,u._length=1);for(var c=u._length+1,l=r-2;l>=0;--l)e[l]._length=c,c++;return}}}},O.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=E(t),n=e.message,r=[e.stack],i=this;void 0!==i;)r.push(x(i.stack.split("\n"))),i=i._parent;w(r),b(r),U.notEnumerableProp(t,"stack",_(n,r)),U.notEnumerableProp(t,"__stackCleaned__",!0)}};var ot=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():P(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,V=t,H=e;var n=Error.captureStackTrace;return rt=function(t){return q.test(t)},function(t,e){Error.stackTraceLimit+=6,n(t,e),Error.stackTraceLimit-=6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return V=/@/,H=e,X=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(t){i="stack"in t}return"stack"in r||!i||"number"!=typeof Error.stackTraceLimit?(H=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?P(e):e.toString()},null):(V=t,H=e,function(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(L=function(t){console.warn(t)},U.isNode&&e.stderr.isTTY?L=function(t,e){var n=e?"[33m":"[31m";console.warn(n+t+"[0m\n")}:U.isNode||"string"!=typeof(new Error).stack||(L=function(t,e){console.warn("%c"+t,e?"color: darkorange":"color: red")}));var at={warnings:W,longStackTraces:!1,cancellation:!1,monitoring:!1};return $&&t.longStackTraces(),{longStackTraces:function(){return at.longStackTraces},warnings:function(){return at.warnings},cancellation:function(){return at.cancellation},monitoring:function(){return at.monitoring},propagateFromFunction:function(){return nt},boundValueFunction:function(){return p},checkForgottenReturns:y,setBounds:R,warn:m,deprecated:g,CapturedTrace:O,fireDomEvent:Z,fireGlobalEvent:K}}}).call(e,n(5))},function(t,e){"use strict";t.exports=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(n){return n instanceof t&&n.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:n},void 0)},t.prototype.throw=t.prototype.thenThrow=function(t){return this._then(n,void 0,void 0,{reason:t},void 0)},t.prototype.catchThrow=function(t){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:t},void 0);var e=arguments[1],r=function(){throw e};return this.caught(t,r)},t.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof t&&n.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:n},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},function(t,e){"use strict";t.exports=function(t,e){function n(){return o(this)}function r(t,n){return i(t,n,e,e)}var i=t.reduce,o=t.all;t.prototype.each=function(t){return i(this,t,e,0)._then(n,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(t){return i(this,t,e,e)},t.each=function(t,r){return i(t,r,e,0)._then(n,void 0,void 0,t,void 0)},t.mapSeries=r}},function(t,e){"use strict";t.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},function(t,e,n){"use strict";t.exports=function(t,e,r){function i(t,e,n){this.promise=t,this.type=e,this.handler=n,this.called=!1,this.cancelPromise=null}function o(t){this.finallyHandler=t}function a(t,e){return null!=t.cancelPromise&&(arguments.length>1?t.cancelPromise._reject(e):t.cancelPromise._cancel(),t.cancelPromise=null,!0)}function s(){return c.call(this,this.promise._target()._settledValue())}function u(t){if(!a(this,t))return h.e=t,h}function c(n){var i=this.promise,c=this.handler;if(!this.called){this.called=!0;var l=this.isFinallyHandler()?c.call(i._boundValue()):c.call(i._boundValue(),n);if(l===r)return l;if(void 0!==l){i._setReturnedNonUndefined();var p=e(l,i);if(p instanceof t){if(null!=this.cancelPromise){if(p._isCancelled()){var d=new f("late cancellation observer");return i._attachExtraTrace(d),h.e=d,h}p.isPending()&&p._attachCancellationCallback(new o(this))}return p._then(s,u,void 0,this,void 0)}}}return i.isRejected()?(a(this),h.e=n,h):(a(this),n)}var l=n(1),f=t.CancellationError,h=l.errorObj,p=n(25)(r);return i.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){a(this.finallyHandler)},t.prototype._passThrough=function(t,e,n,r){return"function"!=typeof t?this.then():this._then(n,r,void 0,new i(this,e,t),void 0)},t.prototype.lastly=t.prototype.finally=function(t){return this._passThrough(t,0,c,c)},t.prototype.tap=function(t){return this._passThrough(t,1,c)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,c);var r,i=new Array(n-1),o=0;for(r=0;r<n-1;++r){var a=arguments[r];if(!l.isObject(a))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+l.classString(a)));i[o++]=a}i.length=o;var s=arguments[r];return this._passThrough(p(i,s,this),1,void 0,c)},i}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,a){function s(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=p(n[o])(e);if(r._popContext(),a===h){r._pushContext();var s=t.reject(h.e);return r._popContext(),s}var u=i(a,r);if(u instanceof t)return u}return null}function u(e,n,i,o){if(a.cancellation()){var s=new t(r),u=this._finallyPromise=new t(r);this._promise=s.lastly(function(){return u}),s._captureStackTrace(),s._setOnCancel(this)}else{var c=this._promise=new t(r);c._captureStackTrace()}this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}var c=n(3),l=c.TypeError,f=n(1),h=f.errorObj,p=f.tryCatch,d=[];f.inherits(u,o),u.prototype._isResolved=function(){return null===this._promise},u.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},u.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,n="undefined"!=typeof this._generator.return;if(n)this._promise._pushContext(),e=p(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var r=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=r,this._promise._attachExtraTrace(r),this._promise._pushContext(),e=p(this._generator.throw).call(this._generator,r),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},u.prototype._promiseFulfilled=function(t){this._yieldedPromise=null,this._promise._pushContext();var e=p(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._promiseRejected=function(t){this._yieldedPromise=null,this._promise._attachExtraTrace(t),this._promise._pushContext();var e=p(this._generator.throw).call(this._generator,t);this._promise._popContext(),this._continue(e)},u.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},u.prototype._continue=function(e){var n=this._promise;if(e===h)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(e.done===!0)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(!(o instanceof t)&&(o=s(o,this._yieldHandlers,this._promise),null===o))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));o=o._target();var a=o._bitField;0===(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!==(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!==(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()},t.coroutine=function(t,e){if("function"!=typeof t)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(e).yieldHandler,r=u,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=e,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new l("expecting a function but got "+f.classString(t));d.push(t)},t.spawn=function(n){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof n)return e("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new u(n,this),i=r.promise();return r._run(t.spawn),i}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,a){var s,u=n(1),c=u.canEvaluate,l=u.tryCatch,f=u.errorObj;if(c){for(var h=function(t){return new Function("value","holder","                             \n\t            'use strict';                                                    \n\t            holder.pIndex = value;                                           \n\t            holder.checkFulfillment(this);                                   \n\t            ".replace(/Index/g,t))},p=function(t){return new Function("promise","holder","                           \n\t            'use strict';                                                    \n\t            holder.pIndex = promise;                                         \n\t            ".replace(/Index/g,t))},d=function(e){for(var n=new Array(e),r=0;r<n.length;++r)n[r]="this.p"+(r+1);var i=n.join(" = ")+" = null;",a="var promise;\n"+n.map(function(t){return"                                                         \n\t                promise = "+t+";                                      \n\t                if (promise instanceof Promise) {                            \n\t                    promise.cancel();                                        \n\t                }                                                            \n\t            "}).join("\n"),s=n.join(", "),u="Holder$"+e,c="return function(tryCatch, errorObj, Promise, async) {    \n\t            'use strict';                                                    \n\t            function [TheName](fn) {                                         \n\t                [TheProperties]                                              \n\t                this.fn = fn;                                                \n\t                this.asyncNeeded = true;                                     \n\t                this.now = 0;                                                \n\t            }                                                                \n\t                                                                             \n\t            [TheName].prototype._callFunction = function(promise) {          \n\t                promise._pushContext();                                      \n\t                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n\t                promise._popContext();                                       \n\t                if (ret === errorObj) {                                      \n\t                    promise._rejectCallback(ret.e, false);                   \n\t                } else {                                                     \n\t                    promise._resolveCallback(ret);                           \n\t                }                                                            \n\t            };                                                               \n\t                                                                             \n\t            [TheName].prototype.checkFulfillment = function(promise) {       \n\t                var now = ++this.now;                                        \n\t                if (now === [TheTotal]) {                                    \n\t                    if (this.asyncNeeded) {                                  \n\t                        async.invoke(this._callFunction, this, promise);     \n\t                    } else {                                                 \n\t                        this._callFunction(promise);                         \n\t                    }                                                        \n\t                                                                             \n\t                }                                                            \n\t            };                                                               \n\t                                                                             \n\t            [TheName].prototype._resultCancelled = function() {              \n\t                [CancellationCode]                                           \n\t            };                                                               \n\t                                                                             \n\t            return [TheName];                                                \n\t        }(tryCatch, errorObj, Promise, async);                               \n\t        ";return c=c.replace(/\[TheName\]/g,u).replace(/\[TheTotal\]/g,e).replace(/\[ThePassedArguments\]/g,s).replace(/\[TheProperties\]/g,i).replace(/\[CancellationCode\]/g,a),new Function("tryCatch","errorObj","Promise","async",c)(l,f,t,o)},v=[],y=[],g=[],m=0;m<8;++m)v.push(d(m+1)),
y.push(h(m+1)),g.push(p(m+1));s=function(t){this._reject(t)}}t.join=function(){var n,o=arguments.length-1;if(o>0&&"function"==typeof arguments[o]&&(n=arguments[o],o<=8&&c)){var l=new t(i);l._captureStackTrace();for(var f=v[o-1],h=new f(n),p=y,d=0;d<o;++d){var m=r(arguments[d],l);if(m instanceof t){m=m._target();var _=m._bitField;0===(50397184&_)?(m._then(p[d],s,void 0,l,h),g[d](m,h),h.asyncNeeded=!1):0!==(33554432&_)?p[d].call(l,m._value(),h):0!==(16777216&_)?l._reject(m._reason()):l._cancel()}else p[d].call(l,m,h)}if(!l._isFateSealed()){if(h.asyncNeeded){var b=a();null!==b&&(h.fn=u.domainBind(b,h.fn))}l._setAsyncGuaranteed(),l._setOnCancel(h)}return l}for(var w=arguments.length,x=new Array(w),T=0;T<w;++T)x[T]=arguments[T];n&&x.pop();var l=new e(x).promise();return void 0!==n?l.spread(n):l}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,a){function s(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace();var i=c();this._callback=null===i?e:l.domainBind(i,e),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0)}function u(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+l.classString(n));var a=0;if(void 0!==i){if("object"!=typeof i||null===i)return t.reject(new TypeError("options argument must be an object but it is "+l.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(i.concurrency)));a=i.concurrency}return a="number"==typeof a&&isFinite(a)&&a>=1?a:0,new s(e,n,a,o).promise()}var c=t._getDomain,l=n(1),f=l.tryCatch,h=l.errorObj,p=t._async;l.inherits(s,e),s.prototype._asyncInit=function(){this._init$(void 0,-2)},s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,u=this._limit;if(n<0){if(n=n*-1-1,r[n]=e,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var c=this._promise,l=this._callback,p=c._boundValue();c._pushContext();var d=f(l).call(p,e,n,o),v=c._popContext();if(a.checkForgottenReturns(d,v,null!==s?"Promise.filter":"Promise.map",c),d===h)return this._reject(d.e),!0;var y=i(d,this._promise);if(y instanceof t){y=y._target();var g=y._bitField;if(0===(50397184&g))return u>=1&&this._inFlight++,r[n]=y,y._proxy(this,(n+1)*-1),!1;if(0===(33554432&g))return 0!==(16777216&g)?(this._reject(y._reason()),!0):(this._cancel(),!0);d=y._value()}r[n]=d}var m=++this._totalResolved;return m>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},s.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},s.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;o<n;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(t,e){return u(this,t,e,null)},t.map=function(t,e,n,r){return u(t,e,n,r)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o){var a=n(1),s=a.tryCatch;t.method=function(n){if("function"!=typeof n)throw new t.TypeError("expecting a function but got "+a.classString(n));return function(){var r=new t(e);r._captureStackTrace(),r._pushContext();var i=s(n).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(n){if("function"!=typeof n)return i("expecting a function but got "+a.classString(n));var r=new t(e);r._captureStackTrace(),r._pushContext();var u;if(arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];u=a.isArray(c)?s(n).apply(l,c):s(n).call(l,c)}else u=s(n)();var f=r._popContext();return o.checkForgottenReturns(u,f,"Promise.try",r),r._resolveFromSyncValue(u),r},t.prototype._resolveFromSyncValue=function(t){t===a.errorObj?this._rejectCallback(t.e,!1):this._resolveCallback(t,!0)}}},function(t,e,n){"use strict";t.exports=function(t){function e(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=s(e).apply(n._boundValue(),[null].concat(t));i===u&&a.throwLater(i.e)}function r(t,e){var n=this,r=n._boundValue(),i=void 0===t?s(e).call(r,null):s(e).call(r,null,t);i===u&&a.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=new Error(t+"");r.cause=t,t=r}var i=s(e).call(n._boundValue(),t);i===u&&a.throwLater(i.e)}var o=n(1),a=t._async,s=o.tryCatch,u=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(t,n){if("function"==typeof t){var o=r;void 0!==n&&Object(n).spread&&(o=e),this._then(o,i,void 0,this,t)}return this}}},function(t,e,n){(function(e){"use strict";t.exports=function(){function r(){}function i(t,e){if(null==t||t.constructor!==o)throw new _("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof e)throw new _("expecting a function but got "+d.classString(e))}function o(t){t!==w&&i(this,t),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(t),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function a(t){this.promise._resolveCallback(t)}function s(t){this.promise._rejectCallback(t,!1)}function u(t){var e=new o(w);e._fulfillmentHandler0=t,e._rejectionHandler0=t,e._promise0=t,e._receiver0=t}var c,l=function(){return new _("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},f=function(){return new o.PromiseInspection(this._target())},h=function(t){return o.reject(new _(t))},p={},d=n(1);c=d.isNode?function(){var t=e.domain;return void 0===t&&(t=null),t}:function(){return null},d.notEnumerableProp(o,"_getDomain",c);var v=n(4),y=n(61),g=new y;v.defineProperty(o,"_async",{value:g});var m=n(3),_=o.TypeError=m.TypeError;o.RangeError=m.RangeError;var b=o.CancellationError=m.CancellationError;o.TimeoutError=m.TimeoutError,o.OperationalError=m.OperationalError,o.RejectionError=m.OperationalError,o.AggregateError=m.AggregateError;var w=function(){},x={},T={},E=n(88)(o,w),S=n(78)(o,w,E,h,r),M=n(66)(o),P=M.create,k=n(67)(o,M),C=(k.CapturedTrace,n(71)(o,E,T)),j=n(25)(T),R=n(26),O=d.errorObj,A=d.tryCatch;return o.prototype.toString=function(){return"[object Promise]"},o.prototype.caught=o.prototype.catch=function(t){var e=arguments.length;if(e>1){var n,r=new Array(e-1),i=0;for(n=0;n<e-1;++n){var o=arguments[n];if(!d.isObject(o))return h("Catch statement predicate: expecting an object but got "+d.classString(o));r[i++]=o}return r.length=i,t=arguments[n],this.then(void 0,j(r,t,this))}return this.then(void 0,t)},o.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},o.prototype.then=function(t,e){if(k.warnings()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var n=".then() only accepts functions but was passed: "+d.classString(t);arguments.length>1&&(n+=", "+d.classString(e)),this._warn(n)}return this._then(t,e,void 0,void 0,void 0)},o.prototype.done=function(t,e){var n=this._then(t,e,void 0,void 0,void 0);n._setIsFinal()},o.prototype.spread=function(t){return"function"!=typeof t?h("expecting a function but got "+d.classString(t)):this.all()._then(t,void 0,void 0,x,void 0)},o.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},o.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new S(this).promise()},o.prototype.error=function(t){return this.caught(d.originatesFromRejection,t)},o.getNewLibraryCopy=t.exports,o.is=function(t){return t instanceof o},o.fromNode=o.fromCallback=function(t){var e=new o(w);e._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=A(t)(R(e,n));return r===O&&e._rejectCallback(r.e,!0),e._isFateSealed()||e._setAsyncGuaranteed(),e},o.all=function(t){return new S(t).promise()},o.cast=function(t){var e=E(t);return e instanceof o||(e=new o(w),e._captureStackTrace(),e._setFulfilled(),e._rejectionHandler0=t),e},o.resolve=o.fulfilled=o.cast,o.reject=o.rejected=function(t){var e=new o(w);return e._captureStackTrace(),e._rejectCallback(t,!0),e},o.setScheduler=function(t){if("function"!=typeof t)throw new _("expecting a function but got "+d.classString(t));return g.setScheduler(t)},o.prototype._then=function(t,e,n,r,i){var a=void 0!==i,s=a?i:new o(w),u=this._target(),l=u._bitField;a||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===r&&0!==(2097152&this._bitField)&&(r=0!==(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,s));var f=c();if(0!==(50397184&l)){var h,p,v=u._settlePromiseCtx;0!==(33554432&l)?(p=u._rejectionHandler0,h=t):0!==(16777216&l)?(p=u._fulfillmentHandler0,h=e,u._unsetRejectionIsUnhandled()):(v=u._settlePromiseLateCancellationObserver,p=new b("late cancellation observer"),u._attachExtraTrace(p),h=e),g.invoke(v,u,{handler:null===f?h:"function"==typeof h&&d.domainBind(f,h),promise:s,receiver:r,value:p})}else u._addCallbacks(t,e,s,r,f);return s},o.prototype._length=function(){return 65535&this._bitField},o.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},o.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},o.prototype._setLength=function(t){this._bitField=this._bitField&-65536|65535&t},o.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},o.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},o.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},o.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},o.prototype._isFinal=function(){return(4194304&this._bitField)>0},o.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},o.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},o.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},o.prototype._setAsyncGuaranteed=function(){g.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},o.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[4*t-4+3];if(e!==p)return void 0===e&&this._isBound()?this._boundValue():e},o.prototype._promiseAt=function(t){return this[4*t-4+2]},o.prototype._fulfillmentHandlerAt=function(t){return this[4*t-4+0]},o.prototype._rejectionHandlerAt=function(t){return this[4*t-4+1]},o.prototype._boundValue=function(){},o.prototype._migrateCallback0=function(t){var e=(t._bitField,t._fulfillmentHandler0),n=t._rejectionHandler0,r=t._promise0,i=t._receiverAt(0);void 0===i&&(i=p),this._addCallbacks(e,n,r,i,null)},o.prototype._migrateCallbackAt=function(t,e){var n=t._fulfillmentHandlerAt(e),r=t._rejectionHandlerAt(e),i=t._promiseAt(e),o=t._receiverAt(e);void 0===o&&(o=p),this._addCallbacks(n,r,i,o,null)},o.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof t&&(this._fulfillmentHandler0=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this._rejectionHandler0=null===i?e:d.domainBind(i,e));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof t&&(this[a+0]=null===i?t:d.domainBind(i,t)),"function"==typeof e&&(this[a+1]=null===i?e:d.domainBind(i,e))}return this._setLength(o+1),o},o.prototype._proxy=function(t,e){this._addCallbacks(void 0,void 0,e,t,null)},o.prototype._resolveCallback=function(t,e){if(0===(117506048&this._bitField)){if(t===this)return this._rejectCallback(l(),!1);var n=E(t,this);if(!(n instanceof o))return this._fulfill(t);e&&this._propagateFrom(n,2);var r=n._target();if(r===this)return void this._reject(l());var i=r._bitField;if(0===(50397184&i)){var a=this._length();a>0&&r._migrateCallback0(this);for(var s=1;s<a;++s)r._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(r)}else if(0!==(33554432&i))this._fulfill(r._value());else if(0!==(16777216&i))this._reject(r._reason());else{var u=new b("late cancellation observer");r._attachExtraTrace(u),this._reject(u)}}},o.prototype._rejectCallback=function(t,e,n){var r=d.ensureErrorObject(t),i=r===t;if(!i&&!n&&k.warnings()){var o="a promise was rejected with a non-error: "+d.classString(t);this._warn(o,!0)}this._attachExtraTrace(r,!!e&&i),this._reject(t)},o.prototype._resolveFromExecutor=function(t){if(t!==w){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(t,function(t){e._resolveCallback(t)},function(t){e._rejectCallback(t,n)});n=!1,this._popContext(),void 0!==r&&e._rejectCallback(r,!0)}},o.prototype._settlePromiseFromHandler=function(t,e,n,r){var i=r._bitField;if(0===(65536&i)){r._pushContext();var o;e===x?n&&"number"==typeof n.length?o=A(t).apply(this._boundValue(),n):(o=O,o.e=new _("cannot .spread() a non-array: "+d.classString(n))):o=A(t).call(e,n);var a=r._popContext();i=r._bitField,0===(65536&i)&&(o===T?r._reject(n):o===O?r._rejectCallback(o.e,!1):(k.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},o.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},o.prototype._followee=function(){return this._rejectionHandler0},o.prototype._setFollowee=function(t){this._rejectionHandler0=t},o.prototype._settlePromise=function(t,e,n,i){var a=t instanceof o,s=this._bitField,u=0!==(134217728&s);0!==(65536&s)?(a&&t._invokeInternalOnCancel(),n instanceof C&&n.isFinallyHandler()?(n.cancelPromise=t,A(e).call(n,i)===O&&t._reject(O.e)):e===f?t._fulfill(f.call(n)):n instanceof r?n._promiseCancelled(t):a||t instanceof S?t._cancel():n.cancel()):"function"==typeof e?a?(u&&t._setAsyncGuaranteed(),this._settlePromiseFromHandler(e,n,i,t)):e.call(n,i,t):n instanceof r?n._isResolved()||(0!==(33554432&s)?n._promiseFulfilled(i,t):n._promiseRejected(i,t)):a&&(u&&t._setAsyncGuaranteed(),0!==(33554432&s)?t._fulfill(i):t._reject(i))},o.prototype._settlePromiseLateCancellationObserver=function(t){var e=t.handler,n=t.promise,r=t.receiver,i=t.value;"function"==typeof e?n instanceof o?this._settlePromiseFromHandler(e,r,i,n):e.call(r,i,n):n instanceof o&&n._reject(i)},o.prototype._settlePromiseCtx=function(t){this._settlePromise(t.promise,t.handler,t.receiver,t.value)},o.prototype._settlePromise0=function(t,e,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,t,i,e)},o.prototype._clearCallbackDataAtIndex=function(t){var e=4*t-4;this[e+2]=this[e+3]=this[e+0]=this[e+1]=void 0},o.prototype._fulfill=function(t){var e=this._bitField;if(!((117506048&e)>>>16)){if(t===this){var n=l();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=t,(65535&e)>0&&(0!==(134217728&e)?this._settlePromises():g.settlePromises(this))}},o.prototype._reject=function(t){var e=this._bitField;if(!((117506048&e)>>>16))return this._setRejected(),this._fulfillmentHandler0=t,this._isFinal()?g.fatalError(t,d.isNode):void((65535&e)>0?g.settlePromises(this):this._ensurePossibleRejectionHandled())},o.prototype._fulfillPromises=function(t,e){for(var n=1;n<t;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._rejectPromises=function(t,e){for(var n=1;n<t;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,e)}},o.prototype._settlePromises=function(){var t=this._bitField,e=65535&t;if(e>0){if(0!==(16842752&t)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,t),this._rejectPromises(e,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,t),this._fulfillPromises(e,r)}this._setLength(0)}this._clearCancellationData()},o.prototype._settledValue=function(){var t=this._bitField;return 0!==(33554432&t)?this._rejectionHandler0:0!==(16777216&t)?this._fulfillmentHandler0:void 0},o.defer=o.pending=function(){k.deprecated("Promise.defer","new Promise");var t=new o(w);return{promise:t,resolve:a,reject:s}},d.notEnumerableProp(o,"_makeSelfResolutionError",l),n(75)(o,w,E,h,k),n(62)(o,w,E,k),n(65)(o,S,h,k),n(68)(o),n(87)(o),n(73)(o,S,E,w,g,c),o.Promise=o,o.version="3.5.0",n(74)(o,S,h,E,w,k),n(64)(o),n(90)(o,h,E,P,w,k),n(89)(o,w,k),n(72)(o,h,w,E,r,k),n(76)(o),n(79)(o,w),n(80)(o,S,E,h),n(82)(o,w,E,h),n(83)(o,S,h,E,w,k),n(85)(o,S,k),n(86)(o,S,h),n(70)(o,w),n(69)(o,w),n(60)(o),d.toFastProperties(o),d.toFastProperties(o.prototype),u({a:1}),u({b:2}),u({c:3}),u(1),u(function(){}),u(void 0),u(!1),u(new o(w)),k.setBounds(y.firstLineError,d.lastLineError),o}}).call(e,n(5))},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o){function a(t){switch(t){case-2:return[];case-3:return{};case-6:return new Map}}function s(n){var r=this._promise=new t(e);n instanceof t&&r._propagateFrom(n,3),r._setOnCancel(this),this._values=n,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var u=n(1);u.isArray;return u.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=r(this._values,this._promise);if(s instanceof t){s=s._target();var c=s._bitField;if(this._values=s,0===(50397184&c))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0===(33554432&c))return 0!==(16777216&c)?this._reject(s._reason()):this._cancel();s=s._value()}if(s=u.asArray(s),null===s){var l=i("expecting an array or an iterable object but got "+u.classString(s)).reason();return void this._promise._rejectCallback(l,!1)}return 0===s.length?void(o===-5?this._resolveEmptyArray():this._resolve(a(o))):void this._iterate(s)},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var u=r(e[s],i);u instanceof t?(u=u._target(),a=u._bitField):a=null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0===(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!==(33554432&a)?this._promiseFulfilled(u._value(),s):0!==(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1)},s.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(t){return this._totalResolved++,this._reject(t),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(t){return t},s}},function(t,e,n){"use strict";t.exports=function(t,e){function r(t){return!x.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(t){return!1}}function o(t,e,n){var r=p.getDataPropertyOrDefault(t,e+n,b);return!!r&&i(r)}function a(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new m("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",e))}}function s(t,e,n,r){for(var s=p.inheritedDataKeys(t),u=[],c=0;c<s.length;++c){var l=s[c],f=t[l],h=r===T||T(l,f,t);"function"!=typeof f||i(f)||o(t,l,e)||!r(l,f,t,h)||u.push(l,f)}return a(u,e,n),u}function u(n,r,i,o,a,s){function u(){var i=r;r===h&&(i=this);var o=new t(e);o._captureStackTrace();var a="string"==typeof l&&this!==c?this[l]:n,u=d(o,s);try{a.apply(i,v(arguments,u))}catch(t){o._rejectCallback(y(t),!0,!0)}return o._isFateSealed()||o._setAsyncGuaranteed(),o}var c=function(){return this}(),l=n;return"string"==typeof l&&(n=o),p.notEnumerableProp(u,"__isPromisified__",!0),u}function c(t,e,n,r,i){for(var o=new RegExp(E(e)+"$"),a=s(t,e,o,n),u=0,c=a.length;u<c;u+=2){var l=a[u],f=a[u+1],d=l+e;if(r===C)t[d]=C(l,h,l,f,e,i);else{var v=r(f,function(){return C(l,h,l,f,e,i)});p.notEnumerableProp(v,"__isPromisified__",!0),t[d]=v}}return p.toFastProperties(t),t}function l(t,e,n){return C(t,e,void 0,t,null,n)}var f,h={},p=n(1),d=n(26),v=p.withAppended,y=p.maybeWrapAsError,g=p.canEvaluate,m=n(3).TypeError,_="Async",b={__isPromisified__:!0},w=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],x=new RegExp("^(?:"+w.join("|")+")$"),T=function(t){return p.isIdentifier(t)&&"_"!==t.charAt(0)&&"constructor"!==t},E=function(t){return t.replace(/([$])/,"\\$")},S=function(t){for(var e=[t],n=Math.max(0,t-1-3),r=t-1;r>=n;--r)e.push(r);for(var r=t+1;r<=3;++r)e.push(r);return e},M=function(t){return p.filledRange(t,"_arg","")},P=function(t){return p.filledRange(Math.max(t,3),"_arg","")},k=function(t){return"number"==typeof t.length?Math.max(Math.min(t.length,1024),0):0};f=function(n,r,i,o,a,s){function u(t){var e,n=M(t).join(", "),i=t>0?", ":"";return e=g?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===r?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n",e.replace("{{args}}",n).replace(", ",i)}function c(){for(var t="",e=0;e<f.length;++e)t+="case "+f[e]+":"+u(f[e]);return t+="                                                             \n\t        default:                                                             \n\t            var args = new Array(len + 1);                                   \n\t            var i = 0;                                                       \n\t            for (var i = 0; i < len; ++i) {                                  \n\t               args[i] = arguments[i];                                       \n\t            }                                                                \n\t            args[i] = nodeback;                                              \n\t            [CodeForCall]                                                    \n\t            break;                                                           \n\t        ".replace("[CodeForCall]",g?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}var l=Math.max(0,k(o)-1),f=S(l),g="string"==typeof n||r===h,m="string"==typeof n?"this != null ? this['"+n+"'] : fn":"fn",_="'use strict';                                                \n\t        var ret = function (Parameters) {                                    \n\t            'use strict';                                                    \n\t            var len = arguments.length;                                      \n\t            var promise = new Promise(INTERNAL);                             \n\t            promise._captureStackTrace();                                    \n\t            var nodeback = nodebackForPromise(promise, "+s+");   \n\t            var ret;                                                         \n\t            var callback = tryCatch([GetFunctionCode]);                      \n\t            switch(len) {                                                    \n\t                [CodeForSwitchCase]                                          \n\t            }                                                                \n\t            if (ret === errorObj) {                                          \n\t                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n\t            }                                                                \n\t            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n\t            return promise;                                                  \n\t        };                                                                   \n\t        notEnumerableProp(ret, '__isPromisified__', true);                   \n\t        return ret;                                                          \n\t    ".replace("[CodeForSwitchCase]",c()).replace("[GetFunctionCode]",m);return _=_.replace("Parameters",P(l)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",_)(t,o,r,v,y,d,p.tryCatch,p.errorObj,p.notEnumerableProp,e)};var C=g?f:u;t.promisify=function(t,e){if("function"!=typeof t)throw new m("expecting a function but got "+p.classString(t));if(i(t))return t;e=Object(e);var n=void 0===e.context?h:e.context,o=!!e.multiArgs,a=l(t,n,o);return p.copyDescriptors(t,a,r),a},t.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new m("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");e=Object(e);var n=!!e.multiArgs,r=e.suffix;"string"!=typeof r&&(r=_);var i=e.filter;"function"!=typeof i&&(i=T);var o=e.promisifier;if("function"!=typeof o&&(o=C),!p.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var a=p.inheritedDataKeys(t),s=0;s<a.length;++s){var u=t[a[s]];"constructor"!==a[s]&&p.isClass(u)&&(c(u.prototype,r,i,o,n),c(u,r,i,o,n))}return c(t,r,i,o,n)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i){function o(t){var e,n=!1;if(void 0!==s&&t instanceof s)e=f(t),n=!0;else{var r=l.keys(t),i=r.length;e=new Array(2*i);for(var o=0;o<i;++o){var a=r[o];e[o]=t[a],e[o+i]=a}}this.constructor$(e),this._isMap=n,this._init$(void 0,n?-6:-3)}function a(e){var n,a=r(e);return c(a)?(n=a instanceof t?a._then(t.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof t&&n._propagateFrom(a,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var s,u=n(1),c=u.isObject,l=n(4);"function"==typeof Map&&(s=Map);var f=function(){function t(t,r){this[e]=t,this[e+n]=r,e++}var e=0,n=0;return function(r){n=r.size,e=0;var i=new Array(2*r.size);return r.forEach(t,i),i}}(),h=function(t){for(var e=new s,n=t.length/2|0,r=0;r<n;++r){var i=t[n+r],o=t[r];e.set(i,o)}return e};u.inherits(o,e),o.prototype._init=function(){},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap)r=h(this._values);else{r={};for(var i=this.length(),o=0,a=this.length();o<a;++o)r[this._values[o+i]]=this._values[o]}return this._resolve(r),!0}return!1},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},t.prototype.props=function(){return a(this)},t.props=function(t){return a(t)}}},function(t,e){"use strict";function n(t,e,n,r,i){for(var o=0;o<i;++o)n[o+r]=t[o+e],t[o+e]=void 0}function r(t){this._capacity=t,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},r.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var r=this._front,i=this._length,o=r+i&e-1;n(this,0,this,e,o)},t.exports=r},function(t,e,n){"use strict";t.exports=function(t,e,r,i){function o(n,o){var u=r(n);if(u instanceof t)return s(u);if(n=a.asArray(n),null===n)return i("expecting an array or an iterable object but got "+a.classString(n));var c=new t(e);void 0!==o&&c._propagateFrom(o,3);for(var l=c._fulfill,f=c._reject,h=0,p=n.length;h<p;++h){var d=n[h];(void 0!==d||h in n)&&t.cast(d)._then(l,f,void 0,c,null)}return c}var a=n(1),s=function(t){return t.then(function(e){return o(e,t)})};t.race=function(t){return o(t,void 0)},t.prototype.race=function(){return o(this,void 0)}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,a){function s(e,n,r,i){this.constructor$(e);var a=h();this._fn=null===a?n:p.domainBind(a,n),void 0!==r&&(r=t.resolve(r),r._attachCancellationCallback(this)),this._initialValue=r,this._currentCancellable=null,i===o?this._eachValues=Array(this._length):0===i?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function u(t,e){this.isFulfilled()?e._resolve(t):e._reject(t)}function c(t,e,n,i){if("function"!=typeof e)return r("expecting a function but got "+p.classString(e));var o=new s(t,e,n,i);return o.promise()}function l(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(f,void 0,void 0,this,void 0)):f.call(this,n)}function f(e){var n=this.array,r=n._promise,i=d(n._fn);r._pushContext();var o;o=void 0!==n._eachValues?i.call(r._boundValue(),e,this.index,this.length):i.call(r._boundValue(),this.accum,e,this.index,this.length),o instanceof t&&(n._currentCancellable=o);var s=r._popContext();return a.checkForgottenReturns(o,s,void 0!==n._eachValues?"Promise.each":"Promise.reduce",r),o}var h=t._getDomain,p=n(1),d=p.tryCatch;p.inherits(s,e),s.prototype._gotAccum=function(t){void 0!==this._eachValues&&null!==this._eachValues&&t!==o&&this._eachValues.push(t)},s.prototype._eachComplete=function(t){return null!==this._eachValues&&this._eachValues.push(t),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(t){this._promise._resolveCallback(t),this._values=null},s.prototype._resultCancelled=function(e){return e===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel()))},s.prototype._iterate=function(e){this._values=e;var n,r,i=e.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(l,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(u,u,void 0,n,this)},t.prototype.reduce=function(t,e){return c(this,t,e,null)},t.reduce=function(t,e,n,r){return c(t,e,n,r)}}},function(t,e,n){(function(e,r,i){"use strict";var o,a=n(1),s=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},u=a.getNativePromise();if(a.isNode&&"undefined"==typeof MutationObserver){var c=e.setImmediate,l=r.nextTick;o=a.isRecentNode?function(t){c.call(e,t)}:function(t){l.call(r,t)}}else if("function"==typeof u&&"function"==typeof u.resolve){
var f=u.resolve();o=function(t){f.then(t)}}else o="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof i?function(t){i(t)}:"undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:s:function(){var t=document.createElement("div"),e={attributes:!0},n=!1,r=document.createElement("div"),i=new MutationObserver(function(){t.classList.toggle("foo"),n=!1});i.observe(r,e);var o=function(){n||(n=!0,r.classList.toggle("foo"))};return function(n){var r=new MutationObserver(function(){r.disconnect(),n()});r.observe(t,e),o()}}();t.exports=o}).call(e,function(){return this}(),n(5),n(110).setImmediate)},function(t,e,n){"use strict";t.exports=function(t,e,r){function i(t){this.constructor$(t)}var o=t.PromiseInspection,a=n(1);a.inherits(i,e),i.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;return n>=this._length&&(this._resolve(this._values),!0)},i.prototype._promiseFulfilled=function(t,e){var n=new o;return n._bitField=33554432,n._settledValueField=t,this._promiseResolved(e,n)},i.prototype._promiseRejected=function(t,e){var n=new o;return n._bitField=16777216,n._settledValueField=t,this._promiseResolved(e,n)},t.settle=function(t){return r.deprecated(".settle()",".reflect()"),new i(t).promise()},t.prototype.settle=function(){return t.settle(this)}}},function(t,e,n){"use strict";t.exports=function(t,e,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||e<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var a=n(1),s=n(3).RangeError,u=n(3).AggregateError,c=a.isArray,l={};a.inherits(i,e),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=c(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){return this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},i.prototype._promiseRejected=function(t){return this._addRejected(t),this._checkOutcome()},i.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},i.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var t=new u,e=this.length();e<this._values.length;++e)this._values[e]!==l&&t.push(this._values[e]);return t.length>0?this._reject(t):this._cancel(),!0}return!1},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new s(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(t,e){return o(t,e)},t.prototype.some=function(t){return o(this,t)},t._SomePromiseArray=i}},function(t,e){"use strict";t.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValueField=t._isFateSealed()?t._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=e.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},o=e.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},a=e.prototype.isPending=function(){return 0===(50397184&this._bitField)},s=e.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};e.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},t.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},t.prototype.isPending=function(){return a.call(this._target())},t.prototype.isRejected=function(){return o.call(this._target())},t.prototype.isFulfilled=function(){return i.call(this._target())},t.prototype.isResolved=function(){return s.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var t=this._target();return t._unsetRejectionIsUnhandled(),r.call(t)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}},function(t,e,n){"use strict";t.exports=function(t,e){function r(n,r){if(l(n)){if(n instanceof t)return n;var i=o(n);if(i===c){r&&r._pushContext();var u=t.reject(i.e);return r&&r._popContext(),u}if("function"==typeof i){if(a(n)){var u=new t(e);return n._then(u._fulfill,u._reject,void 0,u,null),u}return s(n,i,r)}}return n}function i(t){return t.then}function o(t){try{return i(t)}catch(t){return c.e=t,c}}function a(t){try{return f.call(t,"_promise0")}catch(t){return!1}}function s(n,r,i){function o(t){s&&(s._resolveCallback(t),s=null)}function a(t){s&&(s._rejectCallback(t,f,!0),s=null)}var s=new t(e),l=s;i&&i._pushContext(),s._captureStackTrace(),i&&i._popContext();var f=!0,h=u.tryCatch(r).call(n,o,a);return f=!1,s&&h===c&&(s._rejectCallback(h.e,!0,!0),s=null),l}var u=n(1),c=u.errorObj,l=u.isObject,f={}.hasOwnProperty;return r}},function(t,e,n){"use strict";t.exports=function(t,e,r){function i(t){this.handle=t}function o(t){return clearTimeout(this.handle),t}function a(t){throw clearTimeout(this.handle),t}var s=n(1),u=t.TimeoutError;i.prototype._resultCancelled=function(){clearTimeout(this.handle)};var c=function(t){return l(+this).thenReturn(t)},l=t.delay=function(n,o){var a,s;return void 0!==o?(a=t.resolve(o)._then(c,null,null,n,void 0),r.cancellation()&&o instanceof t&&a._setOnCancel(o)):(a=new t(e),s=setTimeout(function(){a._fulfill()},+n),r.cancellation()&&a._setOnCancel(new i(s)),a._captureStackTrace()),a._setAsyncGuaranteed(),a};t.prototype.delay=function(t){return l(t,this)};var f=function(t,e,n){var r;r="string"!=typeof e?e instanceof Error?e:new u("operation timed out"):new u(e),s.markAsOriginatingFromRejection(r),t._attachExtraTrace(r),t._reject(r),null!=n&&n.cancel()};t.prototype.timeout=function(t,e){t=+t;var n,s,u=new i(setTimeout(function(){n.isPending()&&f(n,e,s)},t));return r.cancellation()?(s=this.then(),n=s._then(o,a,void 0,u,void 0),n._setOnCancel(u)):n=this._then(o,a,void 0,u,void 0),n}}},function(t,e,n){"use strict";t.exports=function(t,e,r,i,o,a){function s(t){setTimeout(function(){throw t},0)}function u(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(e,n){function i(){if(a>=c)return l._fulfill();var o=u(e[a++]);if(o instanceof t&&o._isDisposable()){try{o=r(o._getDisposer().tryDispose(n),e.promise)}catch(t){return s(t)}if(o instanceof t)return o._then(i,s,null,null,null)}i()}var a=0,c=e.length,l=new t(o);return i(),l}function l(t,e,n){this._data=t,this._promise=e,this._context=n}function f(t,e,n){this.constructor$(t,e,n)}function h(t){return l.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}function p(t){this.length=t,this.promise=null,this[t-1]=null}var d=n(1),v=n(3).TypeError,y=n(1).inherits,g=d.errorObj,m=d.tryCatch,_={};l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():_},l.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=e!==_?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},l.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},y(f,l),f.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},p.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var n=arguments.length;if(n<2)return e("you must pass at least 2 arguments to Promise.using");var i=arguments[n-1];if("function"!=typeof i)return e("expecting a function but got "+d.classString(i));var o,s=!0;2===n&&Array.isArray(arguments[0])?(o=arguments[0],n=o.length,s=!1):(o=arguments,n--);for(var u=new p(n),f=0;f<n;++f){var v=o[f];if(l.isDisposer(v)){var y=v;v=v.promise(),v._setDisposable(y)}else{var _=r(v);_ instanceof t&&(v=_._then(h,null,null,{resources:u,index:f},void 0))}u[f]=v}for(var b=new Array(u.length),f=0;f<b.length;++f)b[f]=t.resolve(u[f]).reflect();var w=t.all(b).then(function(t){for(var e=0;e<t.length;++e){var n=t[e];if(n.isRejected())return g.e=n.error(),g;if(!n.isFulfilled())return void w.cancel();t[e]=n.value()}x._pushContext(),i=m(i);var r=s?i.apply(void 0,t):i(t),o=x._popContext();return a.checkForgottenReturns(r,o,"Promise.using",x),r}),x=w.lastly(function(){var e=new t.PromiseInspection(w);return c(u,e)});return u.promise=x,x._setOnCancel(u),x},t.prototype._setDisposable=function(t){this._bitField=131072|this._bitField,this._disposer=t},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(t){if("function"==typeof t)return new f(t,this,i());throw new v}}},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return function(e,n){return a(t(e),n)}}function n(t,e){return[t,e]}function r(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=E?10:o>=S?5:o>=M?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=E?10:o>=S?5:o>=M?2:1)}function i(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=E?i*=10:o>=S?i*=5:o>=M&&(i*=2),e<t?-i:i}function o(t){return t.length}var a=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},s=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}},u=s(a),c=u.right,l=u.left,f=function(t,e){null==e&&(e=n);for(var r=0,i=t.length-1,o=t[0],a=new Array(i<0?0:i);r<i;)a[r]=e(o,o=t[++r]);return a},h=function(t,e,r){var i,o,a,s,u=t.length,c=e.length,l=new Array(u*c);for(null==r&&(r=n),i=a=0;i<u;++i)for(s=t[i],o=0;o<c;++o,++a)l[a]=r(s,e[o]);return l},p=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},d=function(t){return null===t?NaN:+t},v=function(t,e){var n,r,i=t.length,o=0,a=-1,s=0,u=0;if(null==e)for(;++a<i;)isNaN(n=d(t[a]))||(r=n-s,s+=r/++o,u+=r*(n-s));else for(;++a<i;)isNaN(n=d(e(t[a],a,t)))||(r=n-s,s+=r/++o,u+=r*(n-s));if(o>1)return u/(o-1)},y=function(t,e){var n=v(t,e);return n?Math.sqrt(n):n},g=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},m=Array.prototype,_=m.slice,b=m.map,w=function(t){return function(){return t}},x=function(t){return t},T=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},E=Math.sqrt(50),S=Math.sqrt(10),M=Math.sqrt(2),P=function(t,e,n){var i,o,a,s=e<t,u=-1;if(s&&(i=t,t=e,e=i),0===(a=r(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;return s&&o.reverse(),o},k=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},C=function(){function t(t){var o,a,s=t.length,u=new Array(s);for(o=0;o<s;++o)u[o]=e(t[o],o,t);var l=n(u),f=l[0],h=l[1],p=r(u,f,h);Array.isArray(p)||(p=i(f,h,p),p=T(Math.ceil(f/p)*p,Math.floor(h/p)*p,p));for(var d=p.length;p[0]<=f;)p.shift(),--d;for(;p[d-1]>h;)p.pop(),--d;var v,y=new Array(d+1);for(o=0;o<=d;++o)v=y[o]=[],v.x0=o>0?p[o-1]:f,v.x1=o<d?p[o]:h;for(o=0;o<s;++o)a=u[o],f<=a&&a<=h&&y[c(p,a,0,d)].push(t[o]);return y}var e=x,n=g,r=k;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:w(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:w([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(r="function"==typeof e?e:w(Array.isArray(e)?_.call(e):e),t):r},t},j=function(t,e,n){if(null==n&&(n=d),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}},R=function(t,e,n){return t=b.call(t,d).sort(a),Math.ceil((n-e)/(2*(j(t,.75)-j(t,.25))*Math.pow(t.length,-1/3)))},O=function(t,e,n){return Math.ceil((n-e)/(3.5*y(t)*Math.pow(t.length,-1/3)))},A=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},F=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=d(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=d(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},L=function(t,e){var n,r=t.length,i=-1,o=[];if(null==e)for(;++i<r;)isNaN(n=d(t[i]))||o.push(n);else for(;++i<r;)isNaN(n=d(e(t[i],i,t)))||o.push(n);return j(o.sort(a),.5)},D=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n},I=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},N=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},U=function(t,e){if(n=t.length){var n,r,i=0,o=0,s=t[o];for(null==e&&(e=a);++i<n;)(e(r=t[i],s)<0||0!==e(s,s))&&(s=r,o=i);return 0===e(s,s)?o:void 0}},B=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},q=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},z=function(t){if(!(i=t.length))return[];for(var e=-1,n=I(t,o),r=new Array(n);++e<n;)for(var i,a=-1,s=r[e]=new Array(i);++a<i;)s[a]=t[a][e];return r},Y=function(){return z(arguments)};t.bisect=c,t.bisectRight=c,t.bisectLeft=l,t.ascending=a,t.bisector=s,t.cross=h,t.descending=p,t.deviation=y,t.extent=g,t.histogram=C,t.thresholdFreedmanDiaconis=R,t.thresholdScott=O,t.thresholdSturges=k,t.max=A,t.mean=F,t.median=L,t.merge=D,t.min=I,t.pairs=f,t.permute=N,t.quantile=j,t.range=T,t.scan=U,t.shuffle=B,t.sum=q,t.ticks=P,t.tickIncrement=r,t.tickStep=i,t.transpose=z,t.variance=v,t.zip=Y,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(){}function n(t,n){var r=new e;if(t instanceof e)t.each(function(t,e){r.set(e,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==n)for(;++o<a;)r.set(o,t[o]);else for(;++o<a;)r.set(n(i=t[o],o,t),i)}else if(t)for(var s in t)r.set(s,t[s]);return r}function r(){return{}}function i(t,e,n){t[e]=n}function o(){return n()}function a(t,e,n){t.set(e,n)}function s(){}function u(t,e){var n=new s;if(t instanceof s)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}var c="$";e.prototype=n.prototype={constructor:e,has:function(t){return c+t in this},get:function(t){return this[c+t]},set:function(t,e){return this[c+t]=e,this},remove:function(t){var e=c+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===c&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===c&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===c&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===c&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===c&&++t;return t},empty:function(){for(var t in this)if(t[0]===c)return!1;return!0},each:function(t){for(var e in this)e[0]===c&&t(this[e],e.slice(1),this)}};var l=function(){function t(e,r,i,o){if(r>=l.length)return null!=s&&e.sort(s),null!=u?u(e):e;for(var a,c,f,h=-1,p=e.length,d=l[r++],v=n(),y=i();++h<p;)(f=v.get(a=d(c=e[h])+""))?f.push(c):v.set(a,[c]);return v.each(function(e,n){o(y,n,t(e,r,i,o))}),y}function e(t,n){if(++n>l.length)return t;var r,i=f[n-1];return null!=u&&n>=l.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:e(t,n)})})),null!=i?r.sort(function(t,e){return i(t.key,e.key)}):r}var s,u,c,l=[],f=[];return c={object:function(e){return t(e,0,r,i)},map:function(e){return t(e,0,o,a)},entries:function(n){return e(t(n,0,o,a),0)},key:function(t){return l.push(t),c},sortKeys:function(t){return f[l.length-1]=t,c},sortValues:function(t){return s=t,c},rollup:function(t){return u=t,c}}},f=n.prototype;s.prototype=u.prototype={constructor:s,has:f.has,add:function(t){return t+="",this[c+t]=t,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};var h=function(t){var e=[];for(var n in t)e.push(n);return e},p=function(t){var e=[];for(var n in t)e.push(t[n]);return e},d=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e};t.nest=l,t.set=u,t.map=n,t.keys=h,t.values=p,t.entries=d,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return new n(t)}function n(t){if(!(e=p.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],c=e[8]&&+e[8].slice(1),l=e[9]||"";"n"===l?(u=!0,l="g"):h[l]||(l=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=c,this.type=l}function r(e){return d=g(e),t.format=d.format,t.formatPrefix=d.formatPrefix,d}var i,o=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},a=function(t){return t=o(Math.abs(t)),t?t[1]:NaN},s=function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}},u=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},c=function(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},l=function(t,e){var n=o(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(i=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,u=r.length;return s===u?r:s>u?r+new Array(s-u+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+o(t,Math.max(0,e+s-1))[0]},f=function(t,e){var n=o(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},h={"":c,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return f(100*t,e)},r:f,s:l,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},p=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;e.prototype=n.prototype,n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var d,v=function(t){return t},y=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],g=function(t){function n(t){function n(t){var e,n,u,c=b,h=w;if("c"===_)h=x(t)+h,t="";else{t=+t;var p=t<0;if(t=x(Math.abs(t),m),p&&0===+t&&(p=!1),c=(p?"("===s?s:"-":"-"===s||"("===s?"":s)+c,h=h+("s"===_?y[8+i/3]:"")+(p&&"("===s?")":""),T)for(e=-1,n=t.length;++e<n;)if(u=t.charCodeAt(e),48>u||u>57){h=(46===u?l+t.slice(e+1):t.slice(e))+h,t=t.slice(0,e);break}}g&&!d&&(t=o(t,1/0));var E=c.length+t.length+h.length,S=E<v?new Array(v-E+1).join(r):"";switch(g&&d&&(t=o(S+t,S.length?v-h.length:1/0),S=""),a){case"<":t=c+t+h+S;break;case"=":t=c+S+t+h;break;case"^":t=S.slice(0,E=S.length>>1)+c+t+h+S.slice(E);break;default:t=S+c+t+h}return f(t)}t=e(t);var r=t.fill,a=t.align,s=t.sign,u=t.symbol,d=t.zero,v=t.width,g=t.comma,m=t.precision,_=t.type,b="$"===u?c[0]:"#"===u&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",w="$"===u?c[1]:/[%p]/.test(_)?p:"",x=h[_],T=!_||/[defgprs%]/.test(_);return m=null==m?_?6:12:/[gprs]/.test(_)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),n.toString=function(){return t+""},n}function r(t,r){var i=n((t=e(t),t.type="f",t)),o=3*Math.max(-8,Math.min(8,Math.floor(a(r)/3))),s=Math.pow(10,-o),u=y[8+o/3];return function(t){return i(s*t)+u}}var o=t.grouping&&t.thousands?s(t.grouping,t.thousands):v,c=t.currency,l=t.decimal,f=t.numerals?u(t.numerals):v,p=t.percent||"%";return{format:n,formatPrefix:r}};r({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var m=function(t){return Math.max(0,-a(Math.abs(t)))},_=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(a(e)/3)))-a(Math.abs(t)))},b=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,a(e)-a(t))+1};t.formatDefaultLocale=r,t.formatLocale=g,t.formatSpecifier=e,t.precisionFixed=m,t.precisionPrefix=_,t.precisionRound=b,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,r){r(e,n(11))}(this,function(t,e){"use strict";function n(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function r(t,e){return function(n){return t+n*e}}function i(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function o(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):P(isNaN(t)?e:t)}function a(t){return 1===(t=+t)?s:function(e,n){return n-e?i(e,n,t):P(isNaN(e)?n:e)}}function s(t,e){var n=e-t;return n?r(t,n):P(isNaN(t)?e:t)}function u(t){return function(n){var r,i,o=n.length,a=new Array(o),s=new Array(o),u=new Array(o);for(r=0;r<o;++r)i=e.rgb(n[r]),a[r]=i.r||0,s[r]=i.g||0,u[r]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}function c(t){return function(){return t}}function l(t){return function(e){return t(e)+""}}function f(t){return"none"===t?q:(w||(w=document.createElement("DIV"),x=document.documentElement,T=document.defaultView),w.style.transform=t,t=T.getComputedStyle(x.appendChild(w),null).getPropertyValue("transform"),x.removeChild(w),t=t.slice(7,-1).split(","),z(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function h(t){return null==t?q:(E||(E=document.createElementNS("http://www.w3.org/2000/svg","g")),E.setAttribute("transform",t),(t=E.transform.baseVal.consolidate())?(t=t.matrix,z(t.a,t.b,t.c,t.d,t.e,t.f)):q)}function p(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:A(t,i)},{i:u-2,x:A(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:A(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:A(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:A(t,n)},{i:s-2,x:A(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}function d(t){return((t=Math.exp(t))+1/t)/2}function v(t){return((t=Math.exp(t))-1/t)/2}function y(t){return((t=Math.exp(2*t))-1)/(t+1)}function g(t){return function(n,r){var i=t((n=e.hsl(n)).h,(r=e.hsl(r)).h),o=s(n.s,r.s),a=s(n.l,r.l),u=s(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=a(t),n.opacity=u(t),n+""}}}function m(t,n){var r=s((t=e.lab(t)).l,(n=e.lab(n)).l),i=s(t.a,n.a),o=s(t.b,n.b),a=s(t.opacity,n.opacity);return function(e){return t.l=r(e),t.a=i(e),t.b=o(e),t.opacity=a(e),t+""}}function _(t){return function(n,r){var i=t((n=e.hcl(n)).h,(r=e.hcl(r)).h),o=s(n.c,r.c),a=s(n.l,r.l),u=s(n.opacity,r.opacity);return function(t){return n.h=i(t),n.c=o(t),n.l=a(t),n.opacity=u(t),n+""}}}function b(t){return function n(r){function i(n,i){var o=t((n=e.cubehelix(n)).h,(i=e.cubehelix(i)).h),a=s(n.s,i.s),u=s(n.l,i.l),c=s(n.opacity,i.opacity);return function(t){return n.h=o(t),n.s=a(t),n.l=u(Math.pow(t,r)),n.opacity=c(t),n+""}}return r=+r,i.gamma=n,i}(1)}var w,x,T,E,S=function(t){var e=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),o=t[i],a=t[i+1],s=i>0?t[i-1]:2*o-a,u=i<e-1?t[i+2]:2*a-o;return n((r-i/e)*e,s,o,a,u)}},M=function(t){var e=t.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*e),o=t[(i+e-1)%e],a=t[i%e],s=t[(i+1)%e],u=t[(i+2)%e];return n((r-i/e)*e,o,a,s,u)}},P=function(t){return function(){return t}},k=function t(n){function r(t,n){var r=i((t=e.rgb(t)).r,(n=e.rgb(n)).r),o=i(t.g,n.g),a=i(t.b,n.b),u=s(t.opacity,n.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=a(e),t.opacity=u(e),t+""}}var i=a(n);return r.gamma=t,r}(1),C=u(S),j=u(M),R=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(r),a=new Array(r);for(n=0;n<i;++n)o[n]=N(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},O=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},A=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},F=function(t,e){var n,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?r[n]=N(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},L=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,D=new RegExp(L.source,"g"),I=function(t,e){var n,r,i,o=L.lastIndex=D.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=L.exec(t))&&(r=D.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:A(n,r)})),o=D.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?l(u[0].x):c(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},N=function(t,n){var r,i=typeof n;return null==n||"boolean"===i?P(n):("number"===i?A:"string"===i?(r=e.color(n))?(n=r,k):I:n instanceof e.color?k:n instanceof Date?O:Array.isArray(n)?R:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?F:A)(t,n)},U=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},B=180/Math.PI,q={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},z=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*B,skewX:Math.atan(u)*B,scaleX:a,scaleY:s}},Y=p(f,"px, ","px)","deg)"),V=p(h,", ",")",")"),H=Math.SQRT2,X=2,G=4,W=1e-12,$=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],c=e[2],l=s-i,f=u-o,h=l*l+f*f;if(h<W)r=Math.log(c/a)/H,n=function(t){return[i+t*l,o+t*f,a*Math.exp(H*t*r)]};else{var p=Math.sqrt(h),g=(c*c-a*a+G*h)/(2*a*X*p),m=(c*c-a*a-G*h)/(2*c*X*p),_=Math.log(Math.sqrt(g*g+1)-g),b=Math.log(Math.sqrt(m*m+1)-m);r=(b-_)/H,n=function(t){var e=t*r,n=d(_),s=a/(X*p)*(n*y(H*e+_)-v(_));return[i+s*l,o+s*f,a*n/d(H*e+_)]}}return n.duration=1e3*r,n},Q=g(o),J=g(s),Z=_(o),K=_(s),tt=b(o),et=b(s),nt=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n};t.interpolate=N,t.interpolateArray=R,t.interpolateBasis=S,t.interpolateBasisClosed=M,t.interpolateDate=O,t.interpolateNumber=A,t.interpolateObject=F,t.interpolateRound=U,t.interpolateString=I,t.interpolateTransformCss=Y,t.interpolateTransformSvg=V,t.interpolateZoom=$,t.interpolateRgb=k,t.interpolateRgbBasis=C,t.interpolateRgbBasisClosed=j,t.interpolateHsl=Q,t.interpolateHslLong=J,t.interpolateLab=m,t.interpolateHcl=Z,t.interpolateHclLong=K,t.interpolateCubehelix=tt,t.interpolateCubehelixLong=et,t.quantize=nt,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){!function(t,r){r(e,n(27))}(this,function(t,e){"use strict";function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function o(t){function e(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=rt[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function o(t,e){return function(n){var o=i(1900),s=a(o,t,n+="",0);if(s!=n.length)return null;if("p"in o&&(o.H=o.H%12+12*o.p),"W"in o||"U"in o){"w"in o||(o.w="W"in o?1:0);var u="Z"in o?r(i(o.y)).getUTCDay():e(i(o.y)).getDay();o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(u+5)%7:o.w+7*o.U-(u+6)%7}return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,r(o)):e(o)}}function a(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),o=It[i in rt?e.charAt(a++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function s(t,e,n){var r=St.exec(e.slice(n));return r?(t.p=Mt[r[0].toLowerCase()],n+r[0].length):-1}function K(t,e,n){var r=Ct.exec(e.slice(n));return r?(t.w=jt[r[0].toLowerCase()],n+r[0].length):-1}function tt(t,e,n){var r=Pt.exec(e.slice(n));return r?(t.w=kt[r[0].toLowerCase()],
n+r[0].length):-1}function et(t,e,n){var r=At.exec(e.slice(n));return r?(t.m=Ft[r[0].toLowerCase()],n+r[0].length):-1}function nt(t,e,n){var r=Rt.exec(e.slice(n));return r?(t.m=Ot[r[0].toLowerCase()],n+r[0].length):-1}function it(t,e,n){return a(t,gt,e,n)}function ot(t,e,n){return a(t,mt,e,n)}function at(t,e,n){return a(t,_t,e,n)}function st(t){return xt[t.getDay()]}function ut(t){return wt[t.getDay()]}function ct(t){return Et[t.getMonth()]}function lt(t){return Tt[t.getMonth()]}function ft(t){return bt[+(t.getHours()>=12)]}function ht(t){return xt[t.getUTCDay()]}function pt(t){return wt[t.getUTCDay()]}function dt(t){return Et[t.getUTCMonth()]}function vt(t){return Tt[t.getUTCMonth()]}function yt(t){return bt[+(t.getUTCHours()>=12)]}var gt=t.dateTime,mt=t.date,_t=t.time,bt=t.periods,wt=t.days,xt=t.shortDays,Tt=t.months,Et=t.shortMonths,St=u(bt),Mt=c(bt),Pt=u(wt),kt=c(wt),Ct=u(xt),jt=c(xt),Rt=u(Tt),Ot=c(Tt),At=u(Et),Ft=c(Et),Lt={a:st,A:ut,b:ct,B:lt,c:null,d:E,e:E,H:S,I:M,j:P,L:k,m:C,M:j,p:ft,S:R,U:O,w:A,W:F,x:null,X:null,y:L,Y:D,Z:I,"%":Z},Dt={a:ht,A:pt,b:dt,B:vt,c:null,d:N,e:N,H:U,I:B,j:q,L:z,m:Y,M:V,p:yt,S:H,U:X,w:G,W:W,x:null,X:null,y:$,Y:Q,Z:J,"%":Z},It={a:K,A:tt,b:et,B:nt,c:it,d:g,e:g,H:_,I:_,j:m,L:x,m:y,M:b,p:s,S:w,U:f,w:l,W:h,x:ot,X:at,y:d,Y:p,Z:v,"%":T};return Lt.x=e(mt,Lt),Lt.X=e(_t,Lt),Lt.c=e(gt,Lt),Dt.x=e(mt,Dt),Dt.X=e(_t,Dt),Dt.c=e(gt,Dt),{format:function(t){var n=e(t+="",Lt);return n.toString=function(){return t},n},parse:function(t){var e=o(t+="",n);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",Dt);return n.toString=function(){return t},n},utcParse:function(t){var e=o(t,r);return e.toString=function(){return t},e}}}function a(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function s(t){return t.replace(at,"\\$&")}function u(t){return new RegExp("^(?:"+t.map(s).join("|")+")","i")}function c(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function l(t,e,n){var r=it.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function f(t,e,n){var r=it.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function h(t,e,n){var r=it.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function p(t,e,n){var r=it.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function d(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function v(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function y(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function g(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function m(t,e,n){var r=it.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function _(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function b(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function w(t,e,n){var r=it.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function x(t,e,n){var r=it.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function T(t,e,n){var r=ot.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function E(t,e){return a(t.getDate(),e,2)}function S(t,e){return a(t.getHours(),e,2)}function M(t,e){return a(t.getHours()%12||12,e,2)}function P(t,n){return a(1+e.timeDay.count(e.timeYear(t),t),n,3)}function k(t,e){return a(t.getMilliseconds(),e,3)}function C(t,e){return a(t.getMonth()+1,e,2)}function j(t,e){return a(t.getMinutes(),e,2)}function R(t,e){return a(t.getSeconds(),e,2)}function O(t,n){return a(e.timeSunday.count(e.timeYear(t),t),n,2)}function A(t){return t.getDay()}function F(t,n){return a(e.timeMonday.count(e.timeYear(t),t),n,2)}function L(t,e){return a(t.getFullYear()%100,e,2)}function D(t,e){return a(t.getFullYear()%1e4,e,4)}function I(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+a(e/60|0,"0",2)+a(e%60,"0",2)}function N(t,e){return a(t.getUTCDate(),e,2)}function U(t,e){return a(t.getUTCHours(),e,2)}function B(t,e){return a(t.getUTCHours()%12||12,e,2)}function q(t,n){return a(1+e.utcDay.count(e.utcYear(t),t),n,3)}function z(t,e){return a(t.getUTCMilliseconds(),e,3)}function Y(t,e){return a(t.getUTCMonth()+1,e,2)}function V(t,e){return a(t.getUTCMinutes(),e,2)}function H(t,e){return a(t.getUTCSeconds(),e,2)}function X(t,n){return a(e.utcSunday.count(e.utcYear(t),t),n,2)}function G(t){return t.getUTCDay()}function W(t,n){return a(e.utcMonday.count(e.utcYear(t),t),n,2)}function $(t,e){return a(t.getUTCFullYear()%100,e,2)}function Q(t,e){return a(t.getUTCFullYear()%1e4,e,4)}function J(){return"+0000"}function Z(){return"%"}function K(e){return nt=o(e),t.timeFormat=nt.format,t.timeParse=nt.parse,t.utcFormat=nt.utcFormat,t.utcParse=nt.utcParse,nt}function tt(t){return t.toISOString()}function et(t){var e=new Date(t);return isNaN(e)?null:e}var nt,rt={"-":"",_:" ",0:"0"},it=/^\s*\d+/,ot=/^%/,at=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;K({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var st="%Y-%m-%dT%H:%M:%S.%LZ",ut=Date.prototype.toISOString?tt:t.utcFormat(st),ct=+new Date("2000-01-01T00:00:00.000Z")?et:t.utcParse(st);t.timeFormatDefaultLocale=K,t.timeFormatLocale=o,t.isoFormat=ut,t.isoParse=ct,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){function r(t,e,n){if(!s(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(t)?i(t,e,n):"string"==typeof t?o(t,e,n):a(t,e,n)}function i(t,e,n){for(var r=0,i=t.length;r<i;r++)c.call(t,r)&&e.call(n,t[r],r,t)}function o(t,e,n){for(var r=0,i=t.length;r<i;r++)e.call(n,t.charAt(r),r,t)}function a(t,e,n){for(var r in t)c.call(t,r)&&e.call(n,t[r],r,t)}var s=n(28);t.exports=r;var u=Object.prototype.toString,c=Object.prototype.hasOwnProperty},function(t,e){(function(e){var n;n="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(e,function(){return this}())},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=t[e+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*v}},function(t,e){t.exports=["accent-height","accumulate","additive","alignment-baseline","alphabetic","amplitude","arabic-form","ascent","attributeName","attributeType","azimuth","baseFrequency","baseProfile","baseline-shift","bbox","begin","bias","by","calcMode","cap-height","class","clip","clip-path","clip-rule","clipPathUnits","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","contentScriptType","contentStyleType","cursor","cx","cy","d","descent","diffuseConstant","direction","display","divisor","dominant-baseline","dur","dx","dy","edgeMode","elevation","enable-background","end","exponent","externalResourcesRequired","fill","fill-opacity","fill-rule","filter","filterRes","filterUnits","flood-color","flood-opacity","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","format","from","fx","fy","g1","g2","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","glyphRef","gradientTransform","gradientUnits","hanging","height","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","ideographic","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lang","lengthAdjust","letter-spacing","lighting-color","limitingConeAngle","local","marker","marker-end","marker-mid","marker-start","markerHeight","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","max","media","method","min","mode","name","numOctaves","offset","onabort","onactivate","onbegin","onclick","onend","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onrepeat","onresize","onscroll","onunload","onzoom","opacity","operator","order","orient","orientation","origin","overflow","overline-position","overline-thickness","panose-1","path","pathLength","patternContentUnits","patternTransform","patternUnits","pointer-events","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","rendering-intent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","scale","seed","shape-rendering","slope","spacing","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","string","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","style","surfaceScale","systemLanguage","tableValues","target","targetX","targetY","text-anchor","text-decoration","text-rendering","textLength","title","to","transform","type","u1","u2","underline-position","underline-thickness","unicode","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","values","version","vert-adv-y","vert-origin-x","vert-origin-y","viewBox","viewTarget","visibility","width","widths","word-spacing","writing-mode","x","x-height","x1","x2","xChannelSelector","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y","y1","y2","yChannelSelector","z","zoomAndPan","xmlns","xmlns:xlink"]},function(t,e){t.exports=["alignmentBaseline","baselineShift","clipPath","clipRule","color","colorInterpolation","colorProfile","colorRendering","dominantBaseline","enableBackground","cursor","direction","display","fill","fillOpacity","fillRule","filter","floodColor","floodOpacity","font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","glyphOrientationHorizontal","glyphOrientationVertical","imageRendering","kerning","letterSpacing","lightingColor","marker","markerEnd","markerMid","markerStart","mask","opacity","overflow","pointerEvents","shapeRendering","stopColor","stopOpacity","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textAnchor","textDecoration","textRendering","unicodeBidi","visibility","wordSpacing","writingMode"]},function(t,e){t.exports=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"]},function(t,e,n){(function(t,n){function r(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function o(t,e){for(var n=-1,r=t?t.length:0;++n<r&&e(t[n],n,t)!==!1;);return t}function a(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function s(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function u(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function c(t,e){return null==t?void 0:t[e]}function l(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function f(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function h(t,e){return function(n){return t(e(n))}}function p(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function d(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function v(){this.__data__=Ue?Ue(null):{}}function y(t){return this.has(t)&&delete this.__data__[t]}function g(t){var e=this.__data__;if(Ue){var n=e[t];return n===Ct?void 0:n}return we.call(e,t)?e[t]:void 0}function m(t){var e=this.__data__;return Ue?void 0!==e[t]:we.call(e,t)}function _(t,e){var n=this.__data__;return n[t]=Ue&&void 0===e?Ct:e,this}function b(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function w(){this.__data__=[]}function x(t){var e=this.__data__,n=B(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():je.call(e,n,1),!0}function T(t){var e=this.__data__,n=B(e,t);return n<0?void 0:e[n][1]}function E(t){return B(this.__data__,t)>-1}function S(t,e){var n=this.__data__,r=B(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function M(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function P(){this.__data__={hash:new d,map:new(Le||b),string:new d}}function k(t){return at(this,t).delete(t)}function C(t){return at(this,t).get(t)}function j(t){return at(this,t).has(t)}function R(t,e){return at(this,t).set(t,e),this}function O(t){this.__data__=new b(t)}function A(){this.__data__=new b}function F(t){return this.__data__.delete(t)}function L(t){return this.__data__.get(t)}function D(t){return this.__data__.has(t)}function I(t,e){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!Le||r.length<kt-1)return r.push([t,e]),this;n=this.__data__=new M(r)}return n.set(t,e),this}function N(t,e){var n=$e(t)||mt(t)?u(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!we.call(t,o)||i&&("length"==o||ft(o,r))||n.push(o);return n}function U(t,e,n){var r=t[e];we.call(t,e)&&gt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function B(t,e){for(var n=t.length;n--;)if(gt(t[n][0],e))return n;return-1}function q(t,e){return t&&rt(e,St(e),t)}function z(t,e,n,r,i,a,s){var u;if(r&&(u=a?r(t,i,a,s):r(t)),void 0!==u)return u;if(!Tt(t))return t;var c=$e(t);if(c){if(u=ut(t),!e)return nt(t,u)}else{var f=We(t),h=f==Dt||f==It;if(Qe(t))return W(t,e);if(f==Bt||f==Rt||h&&!a){if(l(t))return a?t:{};if(u=ct(h?{}:t),!e)return it(t,q(u,t))}else{if(!ue[f])return a?t:{};u=lt(t,f,z,e)}}s||(s=new O);var p=s.get(t);if(p)return p;if(s.set(t,u),!c)var d=n?ot(t):St(t);return o(d||t,function(i,o){d&&(o=i,i=t[o]),U(u,o,z(i,e,n,r,o,t,s))}),u}function Y(t){return Tt(t)?ke(t):{}}function V(t,e,n){var r=e(t);return $e(t)?r:a(r,n(t))}function H(t){return xe.call(t)}function X(t){if(!Tt(t)||pt(t))return!1;var e=wt(t)||l(t)?Te:ae;return e.test(vt(t))}function G(t){if(!dt(t))return Ae(t);var e=[];for(var n in Object(t))we.call(t,n)&&"constructor"!=n&&e.push(n);return e}function W(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function $(t){var e=new t.constructor(t.byteLength);return new Me(e).set(new Me(t)),e}function Q(t,e){var n=e?$(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function J(t,e,n){var i=e?n(f(t),!0):f(t);return s(i,r,new t.constructor)}function Z(t){var e=new t.constructor(t.source,oe.exec(t));return e.lastIndex=t.lastIndex,e}function K(t,e,n){var r=e?n(p(t),!0):p(t);return s(r,i,new t.constructor)}function tt(t){return Xe?Object(Xe.call(t)):{}}function et(t,e){var n=e?$(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function nt(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function rt(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;U(n,a,void 0===s?t[a]:s)}return n}function it(t,e){return rt(t,Ge(t),e)}function ot(t){return V(t,St,Ge)}function at(t,e){var n=t.__data__;return ht(e)?n["string"==typeof e?"string":"hash"]:n.map}function st(t,e){var n=c(t,e);return X(n)?n:void 0}function ut(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&we.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ct(t){return"function"!=typeof t.constructor||dt(t)?{}:Y(Pe(t))}function lt(t,e,n,r){var i=t.constructor;switch(e){case Gt:return $(t);case At:case Ft:return new i(+t);case Wt:return Q(t,r);case $t:case Qt:case Jt:case Zt:case Kt:case te:case ee:case ne:case re:return et(t,r);case Nt:return J(t,r,n);case Ut:case Vt:return new i(t);case zt:return Z(t);case Yt:return K(t,r,n);case Ht:return tt(t)}}function ft(t,e){return e=null==e?jt:e,!!e&&("number"==typeof t||se.test(t))&&t>-1&&t%1==0&&t<e}function ht(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function pt(t){return!!_e&&_e in t}function dt(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||ge;return t===n}function vt(t){if(null!=t){try{return be.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function yt(t){return z(t,!0,!0)}function gt(t,e){return t===e||t!==t&&e!==e}function mt(t){return bt(t)&&we.call(t,"callee")&&(!Ce.call(t,"callee")||xe.call(t)==Rt)}function _t(t){return null!=t&&xt(t.length)&&!wt(t)}function bt(t){return Et(t)&&_t(t)}function wt(t){var e=Tt(t)?xe.call(t):"";return e==Dt||e==It}function xt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=jt}function Tt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Et(t){return!!t&&"object"==typeof t}function St(t){return _t(t)?N(t):G(t)}function Mt(){return[]}function Pt(){return!1}var kt=200,Ct="__lodash_hash_undefined__",jt=9007199254740991,Rt="[object Arguments]",Ot="[object Array]",At="[object Boolean]",Ft="[object Date]",Lt="[object Error]",Dt="[object Function]",It="[object GeneratorFunction]",Nt="[object Map]",Ut="[object Number]",Bt="[object Object]",qt="[object Promise]",zt="[object RegExp]",Yt="[object Set]",Vt="[object String]",Ht="[object Symbol]",Xt="[object WeakMap]",Gt="[object ArrayBuffer]",Wt="[object DataView]",$t="[object Float32Array]",Qt="[object Float64Array]",Jt="[object Int8Array]",Zt="[object Int16Array]",Kt="[object Int32Array]",te="[object Uint8Array]",ee="[object Uint8ClampedArray]",ne="[object Uint16Array]",re="[object Uint32Array]",ie=/[\\^$.*+?()[\]{}|]/g,oe=/\w*$/,ae=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,ue={};ue[Rt]=ue[Ot]=ue[Gt]=ue[Wt]=ue[At]=ue[Ft]=ue[$t]=ue[Qt]=ue[Jt]=ue[Zt]=ue[Kt]=ue[Nt]=ue[Ut]=ue[Bt]=ue[zt]=ue[Yt]=ue[Vt]=ue[Ht]=ue[te]=ue[ee]=ue[ne]=ue[re]=!0,ue[Lt]=ue[Dt]=ue[Xt]=!1;var ce="object"==typeof t&&t&&t.Object===Object&&t,le="object"==typeof self&&self&&self.Object===Object&&self,fe=ce||le||Function("return this")(),he="object"==typeof e&&e&&!e.nodeType&&e,pe=he&&"object"==typeof n&&n&&!n.nodeType&&n,de=pe&&pe.exports===he,ve=Array.prototype,ye=Function.prototype,ge=Object.prototype,me=fe["__core-js_shared__"],_e=function(){var t=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),be=ye.toString,we=ge.hasOwnProperty,xe=ge.toString,Te=RegExp("^"+be.call(we).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=de?fe.Buffer:void 0,Se=fe.Symbol,Me=fe.Uint8Array,Pe=h(Object.getPrototypeOf,Object),ke=Object.create,Ce=ge.propertyIsEnumerable,je=ve.splice,Re=Object.getOwnPropertySymbols,Oe=Ee?Ee.isBuffer:void 0,Ae=h(Object.keys,Object),Fe=st(fe,"DataView"),Le=st(fe,"Map"),De=st(fe,"Promise"),Ie=st(fe,"Set"),Ne=st(fe,"WeakMap"),Ue=st(Object,"create"),Be=vt(Fe),qe=vt(Le),ze=vt(De),Ye=vt(Ie),Ve=vt(Ne),He=Se?Se.prototype:void 0,Xe=He?He.valueOf:void 0;d.prototype.clear=v,d.prototype.delete=y,d.prototype.get=g,d.prototype.has=m,d.prototype.set=_,b.prototype.clear=w,b.prototype.delete=x,b.prototype.get=T,b.prototype.has=E,b.prototype.set=S,M.prototype.clear=P,M.prototype.delete=k,M.prototype.get=C,M.prototype.has=j,M.prototype.set=R,O.prototype.clear=A,O.prototype.delete=F,O.prototype.get=L,O.prototype.has=D,O.prototype.set=I;var Ge=Re?h(Re,Object):Mt,We=H;(Fe&&We(new Fe(new ArrayBuffer(1)))!=Wt||Le&&We(new Le)!=Nt||De&&We(De.resolve())!=qt||Ie&&We(new Ie)!=Yt||Ne&&We(new Ne)!=Xt)&&(We=function(t){var e=xe.call(t),n=e==Bt?t.constructor:void 0,r=n?vt(n):void 0;if(r)switch(r){case Be:return Wt;case qe:return Nt;case ze:return qt;case Ye:return Yt;case Ve:return Xt}return e});var $e=Array.isArray,Qe=Oe||Pt;n.exports=yt}).call(e,function(){return this}(),n(30)(t))},function(t,e){(function(e){function n(t,e,n){function i(e){var n=v,r=y;return v=y=void 0,E=e,m=t.apply(r,n)}function o(t){return E=t,_=setTimeout(l,e),S?i(t):m}function u(t){var n=t-T,r=t-E,i=e-n;return M?w(i,g-r):i}function c(t){var n=t-T,r=t-E;return void 0===T||n>=e||n<0||M&&r>=g}function l(){var t=x();return c(t)?f(t):void(_=setTimeout(l,u(t)))}function f(t){return _=void 0,P&&v?i(t):(v=y=void 0,m)}function h(){void 0!==_&&clearTimeout(_),E=0,v=T=y=_=void 0}function p(){return void 0===_?m:f(x())}function d(){var t=x(),n=c(t);if(v=arguments,y=this,T=t,n){if(void 0===_)return o(T);if(M)return _=setTimeout(l,e),i(T)}return void 0===_&&(_=setTimeout(l,e)),m}var v,y,g,m,_,T,E=0,S=!1,M=!1,P=!0;if("function"!=typeof t)throw new TypeError(s);return e=a(e)||0,r(n)&&(S=!!n.leading,M="maxWait"in n,g=M?b(a(n.maxWait)||0,e):g,P="trailing"in n?!!n.trailing:P),d.cancel=h,d.flush=p,d}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function i(t){return!!t&&"object"==typeof t}function o(t){return"symbol"==typeof t||i(t)&&_.call(t)==c}function a(t){if("number"==typeof t)return t;if(o(t))return u;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var n=h.test(t);return n||p.test(t)?d(t.slice(2),n?2:8):f.test(t)?u:+t}var s="Expected a function",u=NaN,c="[object Symbol]",l=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,p=/^0o[0-7]+$/i,d=parseInt,v="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,g=v||y||Function("return this")(),m=Object.prototype,_=m.toString,b=Math.max,w=Math.min,x=function(){return g.Date.now()};t.exports=n}).call(e,function(){return this}())},function(t,e,n){var r=n(111),i=n(96),o=function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};var e={};return i(r(t).split("\n"),function(t){var n=t.indexOf(":"),i=r(t.slice(0,n)).toLowerCase(),a=r(t.slice(n+1));"undefined"==typeof e[i]?e[i]=a:o(e[i])?e[i].push(a):e[i]=[e[i],a]}),e}},function(t,e,n){"use strict";function r(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function i(t,e,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return a(t,r,e);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return a(t,r,e);throw new Error("Expected varint not more than 10 bytes")}function o(t){return t.type===r.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function s(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(n=~(-t%4294967296),r=~(-t/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),u(n,r,e),c(r,e)}function u(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}function c(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}function l(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function f(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function v(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function y(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function _(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function b(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function w(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function x(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function T(t,e,n){for(var r="",i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s>n)break;var u,c,l;1===s?o<128&&(a=o):2===s?(u=t[i+1],128===(192&u)&&(a=(31&o)<<6|63&u,a<=127&&(a=null))):3===s?(u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(a=(15&o)<<12|(63&u)<<6|63&c,(a<=2047||a>=55296&&a<=57343)&&(a=null))):4===s&&(u=t[i+1],c=t[i+2],l=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(a=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l,(a<=65535||a>=1114112)&&(a=null))),null===a?(a=65533,s=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),r+=String.fromCharCode(a),i+=s}return r}function E(t,e,n){for(var r,i,o=0;o<e.length;o++){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}t.exports=r;var S=n(98);r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var M=4294967296,P=1/M;r.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=b(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=x(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=b(this.buf,this.pos)+b(this.buf,this.pos+4)*M;return this.pos+=8,t},readSFixed64:function(){var t=b(this.buf,this.pos)+x(this.buf,this.pos+4)*M;return this.pos+=8,t},readFloat:function(){var t=S.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=S.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return n=r[this.pos++],e=127&n,n<128?e:(n=r[this.pos++],e|=(127&n)<<7,n<128?e:(n=r[this.pos++],e|=(127&n)<<14,n<128?e:(n=r[this.pos++],e|=(127&n)<<21,n<128?e:(n=r[this.pos],e|=(15&n)<<28,i(e,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=T(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=o(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===r.Varint)for(;this.buf[this.pos++]>127;);else if(e===r.Bytes)this.pos=this.readVarint()+this.pos;else if(e===r.Fixed32)this.pos+=4;else{if(e!==r.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),w(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),w(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),w(this.buf,t&-1,this.pos),w(this.buf,Math.floor(t*P),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),w(this.buf,t&-1,this.pos),w(this.buf,Math.floor(t*P),this.pos+4),this.pos+=8},writeVarint:function(t){return t=+t||0,t>268435455||t<0?void s(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),void(t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=E(this.buf,t,this.pos);var n=this.pos-e;n>=128&&l(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),S.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),S.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&l(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,r.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,f,e)},writePackedSVarint:function(t,e){this.writeMessage(t,h,e)},writePackedBoolean:function(t,e){this.writeMessage(t,v,e)},writePackedFloat:function(t,e){this.writeMessage(t,p,e)},writePackedDouble:function(t,e){this.writeMessage(t,d,e)},writePackedFixed32:function(t,e){this.writeMessage(t,y,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,g,e)},writePackedFixed64:function(t,e){this.writeMessage(t,m,e);
},writePackedSFixed64:function(t,e){this.writeMessage(t,_,e)},writeBytesField:function(t,e){this.writeTag(t,r.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,r.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,r.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,r.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,r.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,r.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,r.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){e=e||"&",r=r||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,h,p,d=t[c].replace(a,"%20"),v=d.indexOf(r);v>=0?(l=d.substr(0,v),f=d.substr(v+1)):(l=d,f=""),h=decodeURIComponent(l),p=decodeURIComponent(f),n(o,h)?Array.isArray(o[h])?o[h].push(p):o[h]=[o[h],p]:o[h]=p}return o}},function(t,e){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var o=encodeURIComponent(n(i))+r;return Array.isArray(t[i])?t[i].map(function(t){return o+encodeURIComponent(n(t))}).join(e):o+encodeURIComponent(n(t[i]))}).join(e):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(t)):""}},function(t,e,n){"use strict";e.decode=e.parse=n(106),e.encode=e.stringify=n(107)},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return v[d]=r,p(d),d++}function i(t){delete v[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(y)setTimeout(a,0,t);else{var e=v[t];if(e){y=!0;try{o(e)}finally{i(t),y=!1}}}}function s(){p=function(t){e.nextTick(function(){a(t)})}}function u(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function c(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),p=function(n){t.postMessage(e+n,"*")}}function l(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;a(e)},p=function(e){t.port2.postMessage(e)}}function f(){var t=g.documentElement;p=function(e){var n=g.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function h(){p=function(t){setTimeout(a,0,t)}}if(!t.setImmediate){var p,d=1,v={},y=!1,g=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?s():u()?c():t.MessageChannel?l():g&&"onreadystatechange"in g.createElement("script")?f():h(),m.setImmediate=r,m.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),n(5))},function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(109),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){var r;(function(t,i){!function(o){function a(t){throw RangeError(O[t])}function s(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function u(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(R,".");var i=t.split("."),o=s(i,e).join(".");return r+o}function c(t){for(var e,n,r=[],i=0,o=t.length;i<o;)e=t.charCodeAt(i++),e>=55296&&e<=56319&&i<o?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function l(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=L(t>>>10&1023|55296),t=56320|1023&t),e+=L(t)}).join("")}function f(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:w}function h(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function p(t,e,n){var r=0;for(t=n?F(t/S):t>>1,t+=F(t/e);t>A*T>>1;r+=w)t=F(t/A);return F(r+(A+1)*t/(t+E))}function d(t){var e,n,r,i,o,s,u,c,h,d,v=[],y=t.length,g=0,m=P,_=M;for(n=t.lastIndexOf(k),n<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&a("not-basic"),v.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<y;){for(o=g,s=1,u=w;i>=y&&a("invalid-input"),c=f(t.charCodeAt(i++)),(c>=w||c>F((b-g)/s))&&a("overflow"),g+=c*s,h=u<=_?x:u>=_+T?T:u-_,!(c<h);u+=w)d=w-h,s>F(b/d)&&a("overflow"),s*=d;e=v.length+1,_=p(g-o,e,0==o),F(g/e)>b-m&&a("overflow"),m+=F(g/e),g%=e,v.splice(g++,0,m)}return l(v)}function v(t){var e,n,r,i,o,s,u,l,f,d,v,y,g,m,_,E=[];for(t=c(t),y=t.length,e=P,n=0,o=M,s=0;s<y;++s)v=t[s],v<128&&E.push(L(v));for(r=i=E.length,i&&E.push(k);r<y;){for(u=b,s=0;s<y;++s)v=t[s],v>=e&&v<u&&(u=v);for(g=r+1,u-e>F((b-n)/g)&&a("overflow"),n+=(u-e)*g,e=u,s=0;s<y;++s)if(v=t[s],v<e&&++n>b&&a("overflow"),v==e){for(l=n,f=w;d=f<=o?x:f>=o+T?T:f-o,!(l<d);f+=w)_=l-d,m=w-d,E.push(L(h(d+_%m,0))),l=F(_/m);E.push(L(h(l,0))),o=p(n,g,r==i),n=0,++r}++n,++e}return E.join("")}function y(t){return u(t,function(t){return C.test(t)?d(t.slice(4).toLowerCase()):t})}function g(t){return u(t,function(t){return j.test(t)?"xn--"+v(t):t})}var m=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof i&&i);m.global!==m&&m.window!==m&&m.self!==m||(o=m);var _,b=2147483647,w=36,x=1,T=26,E=38,S=700,M=72,P=128,k="-",C=/^xn--/,j=/[^\x20-\x7E]/,R=/[\x2E\u3002\uFF0E\uFF61]/g,O={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=w-x,F=Math.floor,L=String.fromCharCode;_={version:"1.3.2",ucs2:{decode:c,encode:l},decode:d,encode:v,toASCII:g,toUnicode:y},r=function(){return _}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this)}).call(e,n(30)(t),function(){return this}())},function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&c.isObject(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return c.isString(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function a(t,e){return i(t,!1,!0).resolve(e)}function s(t,e){return t?i(t,!1,!0).resolveObject(e):e}var u=n(112),c=n(114);e.parse=i,e.resolve=a,e.resolveObject=s,e.format=o,e.Url=r;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(p),v=["'"].concat(d),y=["%","/","?",";","#"].concat(v),g=["/","?","#"],m=255,_=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=n(108);r.prototype.parse=function(t,e,n){if(!c.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t.indexOf("?"),i=r!==-1&&r<t.indexOf("#")?"?":"#",o=t.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),t=o.join(i);var s=t;if(s=s.trim(),!n&&1===t.split("#").length){var f=h.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=E.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var p=l.exec(s);if(p){p=p[0];var d=p.toLowerCase();this.protocol=d,s=s.substr(p.length)}if(n||p||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===s.substr(0,2);!S||p&&x[p]||(s=s.substr(2),this.slashes=!0)}if(!x[p]&&(S||p&&!T[p])){for(var M=-1,P=0;P<g.length;P++){var k=s.indexOf(g[P]);k!==-1&&(M===-1||k<M)&&(M=k)}var C,j;j=M===-1?s.lastIndexOf("@"):s.lastIndexOf("@",M),j!==-1&&(C=s.slice(0,j),s=s.slice(j+1),this.auth=decodeURIComponent(C)),M=-1;for(var P=0;P<y.length;P++){var k=s.indexOf(y[P]);k!==-1&&(M===-1||k<M)&&(M=k)}M===-1&&(M=s.length),this.host=s.slice(0,M),s=s.slice(M),this.parseHost(),this.hostname=this.hostname||"";var R="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!R)for(var O=this.hostname.split(/\./),P=0,A=O.length;P<A;P++){var F=O[P];if(F&&!F.match(_)){for(var L="",D=0,I=F.length;D<I;D++)L+=F.charCodeAt(D)>127?"x":F[D];if(!L.match(_)){var N=O.slice(0,P),U=O.slice(P+1),B=F.match(b);B&&(N.push(B[1]),U.unshift(B[2])),U.length&&(s="/"+U.join(".")+s),this.hostname=N.join(".");break}}}this.hostname.length>m?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=u.toASCII(this.hostname));var q=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+q,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!w[d])for(var P=0,A=v.length;P<A;P++){var Y=v[P];if(s.indexOf(Y)!==-1){var V=encodeURIComponent(Y);V===Y&&(V=escape(Y)),s=s.split(Y).join(V)}}var H=s.indexOf("#");H!==-1&&(this.hash=s.substr(H),s=s.slice(0,H));var X=s.indexOf("?");if(X!==-1?(this.search=s.substr(X),this.query=s.substr(X+1),e&&(this.query=E.parse(this.query)),s=s.slice(0,X)):e&&(this.search="",this.query={}),s&&(this.pathname=s),T[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var q=this.pathname||"",G=this.search||"";this.path=q+G}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(o=E.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||T[e])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+i+n+a+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(c.isString(t)){var e=new r;e.parse(t,!1,!0),t=e}for(var n=new r,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var l=s[u];"protocol"!==l&&(n[l]=t[l])}return T[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!T[t.protocol]){for(var f=Object.keys(t),h=0;h<f.length;h++){var p=f[h];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||x[t.protocol])n.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var v=n.pathname||"",y=n.search||"";n.path=v+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=m||g||n.host&&t.pathname,b=_,w=n.pathname&&n.pathname.split("/")||[],d=t.pathname&&t.pathname.split("/")||[],E=n.protocol&&!T[n.protocol];if(E&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),_=_&&(""===d[0]||""===w[0])),m)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,w=d;else if(d.length)w||(w=[]),w.pop(),w=w.concat(d),n.search=t.search,n.query=t.query;else if(!c.isNullOrUndefined(t.search)){if(E){n.hostname=n.host=w.shift();var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return n.search=t.search,n.query=t.query,c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var M=w.slice(-1)[0],P=(n.host||t.host||w.length>1)&&("."===M||".."===M)||""===M,k=0,C=w.length;C>=0;C--)M=w[C],"."===M?w.splice(C,1):".."===M?(w.splice(C,1),k++):k&&(w.splice(C,1),k--);if(!_&&!b)for(;k--;k)w.unshift("..");!_||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),P&&"/"!==w.join("/").substr(-1)&&w.push("");var j=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(E){n.hostname=n.host=j?"":w.length?w.shift():"";var S=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@");S&&(n.auth=S.shift(),n.host=n.hostname=S.shift())}return _=_||n.host&&w.length,_&&!j&&w.unshift(""),w.length?n.pathname=w.join("/"):(n.pathname=null,n.path=null),c.isNull(n.pathname)&&c.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=f.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e){var n=window.URL||window.webkitURL;t.exports=function(t,e){try{try{var r;try{var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;r=new i,r.append(t),r=r.getBlob()}catch(e){r=new Blob([t])}return new Worker(n.createObjectURL(r))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(t){return new Worker(e)}}},function(t,e,n){t.exports=function(){return n(115)('/*!\n * HERE (c) 2017.\n * All rights reserved.\n * Data Lens JavaScript API\n * http://datalens.here.com\n * v2.3.0-40\n */\n!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(module,exports,__webpack_require__){"use strict";function getExportOptions(t){return{clip:!0,simplify:!(t>16),transform:!0}}var QuadTree=__webpack_require__(21),helpers=__webpack_require__(22),dataToFeatures=function(t){try{var e=JSON.parse(t);return e.features}catch(t){throw new Error("RawDataProvider: failed to parse the JSON data")}};self.featuresToRows=null;var quadTree=new QuadTree;self.getExportOptions_=getExportOptions,self.addEventListener("message",function(e){var data=JSON.parse(e.data);switch(data.action){case"loadScript":"dataToFeatures"===data.name?eval("dataToFeatures = "+data.script):"featuresToRows"===data.name&&eval("featuresToRows = "+data.script);break;case"loadData":var xhr=new XMLHttpRequest;xhr.open("GET",data.dataUrl,!0),xhr.onload=function(){if(4!==xhr.readyState||200!==xhr.status)throw new Error("RawDataProvider: failed to download data from "+data.dataUrl);var t=void 0;try{t=dataToFeatures(xhr.responseText,helpers)}catch(t){throw console.warn("RawDataProvider: dataToFeatures should be a clean function"),t}for(var e=0;e<t.length;e++)quadTree.insert(t[e]);self.postMessage(JSON.stringify({action:"dataLoaded"}))},xhr.onerror=function(){throw new Error("RawDataProvider: failed to download data from "+data.dataUrl)},xhr.send(null);break;case"requestTile":var _data$options=data.options,x=_data$options.x,y=_data$options.y,z=_data$options.z,tileSize=_data$options.tileSize,result=void 0;if("function"==typeof self.featuresToRows){var features=quadTree.featuresInTile(z,x,y);features=features.map(function(t){return t.source});try{result=self.featuresToRows(features,x,y,z,tileSize,helpers)}catch(t){throw console.warn("RawDataProvider: featuresToRows should be a clean function"),t}}else{var _features=quadTree.featuresInTile(z,x,y,getExportOptions(z));result={layer:{extent:4096},features:_features}}self.postMessage(JSON.stringify({action:"tileLoaded",options:data.options,result:result}))}})},function(t,e,n){"use strict";function r(t){return this instanceof r?(h.call(this,t),f.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(t)}function i(){this.allowHalfOpen||this._writableState.ended||s(o,this)}function o(t){t.end()}var s=n(6),a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=r;var u=n(5);u.inherits=n(2);var h=n(13),f=n(9);u.inherits(r,h);for(var l=a(f.prototype),c=0;c<l.length;c++){var p=l[c];r.prototype[p]||(r.prototype[p]=f.prototype[p])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),r.prototype._destroy=function(t,e){this.push(null),this.end(),s(e,t)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function s(){g&&p&&(g=!1,p.length?d=p.concat(d):y=-1,d.length&&a())}function a(){if(!g){var t=i(s);g=!0;for(var e=d.length;e;){for(p=d,d=[];++y<e;)p&&p[y].run();y=-1,e=d.length}p=null,g=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function h(){}var f,l,c=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var p,d=[],g=!1,y=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||g||i(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=h,c.addListener=h,c.once=h,c.off=h,c.removeListener=h,c.removeAllListeners=h,c.emit=h,c.prependListener=h,c.prependOnceListener=h,c.listeners=function(t){return[]},c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(t,e,n){(function(t){/*!\n\t * The buffer module from node.js, for the browser.\n\t *\n\t * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n\t * @license  MIT\n\t */\n"use strict";function r(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function i(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(i()<e)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=s.prototype):(null===t&&(t=new s(e)),t.length=e),t}function s(t,e,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError(\'"value" argument must not be a number\');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,n,r):"string"==typeof e?l(t,e,n):d(t,e)}function u(t){if("number"!=typeof t)throw new TypeError(\'"size" argument must be a number\');if(t<0)throw new RangeError(\'"size" argument must not be negative\')}function h(t,e,n,r){return u(e),e<=0?o(t,e):void 0!==n?"string"==typeof r?o(t,e).fill(n,r):o(t,e).fill(n):o(t,e)}function f(t,e){if(u(e),t=o(t,e<0?0:0|g(e)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function l(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!s.isEncoding(n))throw new TypeError(\'"encoding" must be a valid string encoding\');var r=0|m(e,n);t=o(t,r);var i=t.write(e,n);return i!==r&&(t=t.slice(0,i)),t}function c(t,e){var n=e.length<0?0:0|g(e.length);t=o(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("\'offset\' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("\'length\' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),s.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=s.prototype):t=c(t,e),t}function d(t,e){if(s.isBuffer(e)){var n=0|g(e.length);return t=o(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||G(e.length)?o(t,0):c(t,e);if("Buffer"===e.type&&K(e.data))return c(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(t){if(t>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),s.alloc(+t)}function m(t,e){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return J(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(r)return J(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,e,n);case"utf8":case"utf-8":return L(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function w(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function _(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=s.from(e,r)),s.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){function o(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,a=t.length,u=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}var h;if(i){var f=-1;for(h=n;h<a;h++)if(o(t,h)===o(e,f===-1?0:h-f)){if(f===-1&&(f=h),h-f+1===u)return f*s}else f!==-1&&(h-=h-f),f=-1}else for(n+u>a&&(n=a-u),h=n;h>=0;h--){for(var l=!0,c=0;c<u;c++)if(o(t,h+c)!==o(e,c)){l=!1;break}if(l)return h}return-1}function x(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function S(t,e,n,r){return H(J(e,t.length-n),t,n,r)}function E(t,e,n,r){return H(W(e),t,n,r)}function T(t,e,n,r){return E(t,e,n,r)}function R(t,e,n,r){return H($(e),t,n,r)}function M(t,e,n,r){return H(V(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(e,n))}function L(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var u,h,f,l;switch(a){case 1:o<128&&(s=o);break;case 2:u=t[i+1],128===(192&u)&&(l=(31&o)<<6|63&u,l>127&&(s=l));break;case 3:u=t[i+1],h=t[i+2],128===(192&u)&&128===(192&h)&&(l=(15&o)<<12|(63&u)<<6|63&h,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:u=t[i+1],h=t[i+2],f=t[i+3],128===(192&u)&&128===(192&h)&&128===(192&f)&&(l=(15&o)<<18|(63&u)<<12|(63&h)<<6|63&f,l>65535&&l<1114112&&(s=l))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return k(r)}function k(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function B(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=X(t[o]);return i}function O(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,n,r,i,o){if(!s.isBuffer(t))throw new TypeError(\'"buffer" argument must be a Buffer instance\');if(e>i||e<o)throw new RangeError(\'"value" argument is out of bounds\');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function U(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Y(t,e,n,r,i){return i||N(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(t,e,n,r,23,4),n+4}function q(t,e,n,r,i){return i||N(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(t,e,n,r,52,8),n+8}function z(t){if(t=F(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function F(t){return t.trim?t.trim():t.replace(/^\\s+|\\s+$/g,"")}function X(t){return t<16?"0"+t.toString(16):t.toString(16)}function J(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function V(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function $(t){return Q.toByteArray(z(t))}function H(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function G(t){return t!==t}var Q=n(23),Z=n(27),K=n(24);e.Buffer=s,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:r(),e.kMaxLength=i(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,e,n){return a(null,t,e,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,e,n){return h(null,t,e,n)},s.allocUnsafe=function(t){return f(null,t)},s.allocUnsafeSlow=function(t){return f(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,e){if(!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!K(t))throw new TypeError(\'"list" argument must be an Array of Buffers\');if(0===t.length)return s.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=s.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!s.isBuffer(o))throw new TypeError(\'"list" argument must be an Array of Buffers\');o.copy(r,i),i+=o.length}return r},s.byteLength=m,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)w(this,e,e+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?L(this,0,t):v.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,e,n,r,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,a=n-e,u=Math.min(o,a),h=this.slice(r,i),f=t.slice(e,n),l=0;l<u;++l)if(h[l]!==f[l]){o=h[l],a=f[l];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},s.prototype.indexOf=function(t,e,n){return _(this,t,e,n,!0)},s.prototype.lastIndexOf=function(t,e,n){return _(this,t,e,n,!1)},s.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return x(this,t,e,n);case"utf8":case"utf-8":return S(this,t,e,n);case"ascii":return E(this,t,e,n);case"latin1":case"binary":return T(this,t,e,n);case"base64":return R(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;s.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var r;if(s.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=s.prototype;else{var i=e-t;r=new s(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},s.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},s.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},s.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},s.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},s.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},s.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),Z.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),Z.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),Z.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),Z.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;j(this,t,e,n,i,0)}var o=1,s=0;for(this[e]=255&t;++s<n&&(o*=256);)this[e+s]=t/o&255;return e+n},s.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;j(this,t,e,n,i,0)}var o=n-1,s=1;for(this[e+o]=255&t;--o>=0&&(s*=256);)this[e+o]=t/s&255;return e+n},s.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},s.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},s.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},s.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},s.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},s.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);j(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},s.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);j(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},s.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},s.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},s.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},s.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},s.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},s.prototype.writeFloatLE=function(t,e,n){return Y(this,t,e,!0,n)},s.prototype.writeFloatBE=function(t,e,n){return Y(this,t,e,!1,n)},s.prototype.writeDoubleLE=function(t,e,n){return q(this,t,e,!0,n)},s.prototype.writeDoubleBE=function(t,e,n){return q(this,t,e,!1,n)},s.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},s.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=s.isBuffer(t)?t:J(new s(t,r).toString()),u=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%u]}return this};var et=/[^+\\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},function(t,e,n){(function(t){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===y(t)}function r(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function s(t){return"number"==typeof t}function a(t){return"string"==typeof t}function u(t){return"symbol"==typeof t}function h(t){return void 0===t}function f(t){return"[object RegExp]"===y(t)}function l(t){return"object"==typeof t&&null!==t}function c(t){return"[object Date]"===y(t)}function p(t){return"[object Error]"===y(t)||t instanceof Error}function d(t){return"function"==typeof t}function g(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function y(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=r,e.isNull=i,e.isNullOrUndefined=o,e.isNumber=s,e.isString=a,e.isSymbol=u,e.isUndefined=h,e.isRegExp=f,e.isObject=l,e.isDate=c,e.isError=p,e.isFunction=d,e.isPrimitive=g,e.isBuffer=t.isBuffer}).call(e,n(4).Buffer)},function(t,e,n){(function(e){"use strict";function n(t,n,r,i){if("function"!=typeof t)throw new TypeError(\'"callback" argument must be a function\');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=n:t.exports=e.nextTick}).call(e,n(3))},function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e,n){return s(t,e,n)}var o=n(4),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=o:(r(o,e),e.Buffer=i),r(s,i),i.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return s(t,e,n)},i.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=s(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},i.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return s(t)},i.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,a,u,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var f=new Error(\'Uncaught, unspecified "error" event. (\'+e+")");throw f.context=e,f}if(n=this._events[t],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(o(n))for(a=Array.prototype.slice.call(arguments,1),h=n.slice(),i=h.length,u=0;u<i;u++)h[u].apply(this,a);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){(function(e,r,i){"use strict";function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){M(e,t)}}function s(t){return O.from(t)}function a(t){return O.isBuffer(t)||t instanceof D}function u(){}function h(t,e){L=L||n(1),t=t||{},this.objectMode=!!t.objectMode,e instanceof L&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){v(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function f(t){return L=L||n(1),I.call(f,this)||this instanceof L?(this._writableState=new h(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),void B.call(this)):new f(t)}function l(t,e){var n=new Error("write after end");t.emit("error",n),A(e,n)}function c(t,e,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),A(r,o),i=!1),i}function p(t,e,n){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=O.from(e,n)),e}function d(t,e,n,r,i,o){if(!n){var s=p(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else g(t,e,!1,a,r,i,o);return u}function g(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function y(t,e,n,r,i){--e.pendingcb,n?(A(i,r),A(T,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),T(t,e))}function m(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function v(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(m(n),e)y(t,n,r,e,i);else{var o=x(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||b(t,n),r?k(w,t,n,o,i):w(t,n,o,i)}}function w(t,e,n,r){n||_(t,e),e.pendingcb--,r(),T(t,e)}function _(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function b(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,u=!0;n;)i[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;i.allBuffers=u,g(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e)}else{for(;n;){var h=n.chunk,f=n.encoding,l=n.callback,c=e.objectMode?1:h.length;if(g(t,e,!1,c,h,f,l),n=n.next,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=n,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),T(t,e)})}function E(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,A(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function T(t,e){var n=x(e);return n&&(E(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}function R(t,e,n){e.ending=!0,T(t,e),n&&(e.finished?A(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function M(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}var A=n(6);t.exports=f;var L,k=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:A;f.WritableState=h;var P=n(5);P.inherits=n(2);var C={deprecate:n(38)},B=n(16),O=n(7).Buffer,D=i.Uint8Array||function(){},j=n(15);P.inherits(f,B),h.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(h.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var I;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(I=Function.prototype[Symbol.hasInstance],Object.defineProperty(f,Symbol.hasInstance,{value:function(t){return!!I.call(this,t)||t&&t._writableState instanceof h}})):I=function(t){return t instanceof this},f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},f.prototype.write=function(t,e,n){var r=this._writableState,i=!1,o=a(t)&&!r.objectMode;return o&&!O.isBuffer(t)&&(t=s(t)),"function"==typeof e&&(n=e,e=null),o?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=u),r.ended?l(this,n):(o||c(this,r,t,n))&&(r.pendingcb++,i=d(this,r,o,t,e,n)),i},f.prototype.cork=function(){var t=this._writableState;t.corked++},f.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||b(this,t))},f.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},f.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"));\n},f.prototype._writev=null,f.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||R(this,r,n)},Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),f.prototype.destroy=j.destroy,f.prototype._undestroy=j.undestroy,f.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,n(3),n(37).setImmediate,function(){return this}())},function(t,e,n){e=t.exports=n(13),e.Stream=e,e.Readable=e,e.Writable=n(9),e.Duplex=n(1),e.Transform=n(14),e.PassThrough=n(32)},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=Math.round(e*(t[0]*n-r)),s=Math.round(e*(t[1]*n-i));return[o,s]}function i(t,e,n){1==t?e.id=n.readVarint():2==t?o(n,e):3==t?e.type=n.readVarint():4==t&&s(n,e)}function o(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var r=e.keys[t.readVarint()],i=e.values[t.readVarint()];e.properties[r]=i}}function s(t,e){for(var n=t.readVarint()+t.pos,r=1,i=0,o=0,s=0,a=[],u=void 0;t.pos<n;){if(!i){var h=t.readVarint();r=7&h,i=h>>3}i--,1===r||2===r?(o+=t.readSVarint(),s+=t.readSVarint(),1===r&&(u&&a.push(u),u=[]),u.push([o,s])):7===r&&u&&u.push(u[0])}u&&a.push(u),e.geometry=a}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(20),h=function(){this.type=0,this.properties={}};h.prototype.loadGeoJSON=function(t){this.source=t,this.id=t.id||null,this.properties=t.properties},h.prototype.loadPbf=function(t,e,n,r,o){var s={keys:r,values:o,properties:{}};t.readFields(i,s,e),this.extent=n,this.id=s.id,this.type=s.type,this.properties=s.properties,this.geometry=s.geometry},h.prototype.clone=function(){var t=new h;return a(t,this),t.geometry=this.geometry.slice(0),t},h.prototype.project=function(t){var e=this.source.geometry,n=e.type,r=e.coordinates;if("Point"===n)this.type=1,this.geometry=[u.projectPoint(r)];else if("MultiPoint"===n)this.type=1,this.geometry=u.project(r);else if("LineString"===n)this.type=2,this.geometry=[u.project(r,t)];else if("MultiLineString"===n||"Polygon"===n){this.type="Polygon"===n?3:2,this.geometry=[];for(var i=0,o=r.length;i<o;i++){var s=u.project(r[i],t);"Polygon"===n&&(s.outer=0===i),this.geometry.push(s)}}else{if("MultiPolygon"!==n)throw new Error("RawDataProvider: Input data is not a valid GeoJSON object.");this.type=3,this.geometry=[];for(var a=0,h=r.length;a<h;a++)for(var f=0,l=r[a].length;f<l;f++){var c=u.project(r[a][f],t);c.outer=0===f,this.geometry.push(c)}}},h.prototype.calcBBox=function(){if(this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0),1===this.type)for(var t=0,e=this.geometry.length;t<e;t++){var n=this.geometry[t];this.minX=Math.min(n[0],this.minX),this.minY=Math.min(n[1],this.minY),this.maxX=Math.max(n[0],this.maxX),this.maxY=Math.max(n[1],this.maxY)}else for(var r=0,i=this.geometry.length;r<i;r++)for(var o=0,s=this.geometry[r].length;o<s;o++){var a=this.geometry[r][o];this.minX=Math.min(a[0],this.minX),this.minY=Math.min(a[1],this.minY),this.maxX=Math.max(a[0],this.maxX),this.maxY=Math.max(a[1],this.maxY)}},h.prototype.clip=function(t,e,n,r){var i=this.type;if(1!==i){var o=3===i,s=u.clip(this.geometry,t,n,0,o);s=u.clip(s,e,r,1,o),this.geometry=s}},h.prototype.simplify=function(t){var e=this.type;1!==e&&(this.geometry=u.simplify(e,this.geometry,t))},h.prototype.transform=function(t,e,n,i){var o=this.type,s=this.geometry,a=1<<t;if(1===o)for(var u=0,h=s.length;u<h;u++)s[u]=r(s[u],i,a,e,n);else for(var f=0,l=s.length;f<l;f++)for(var c=s[f],p=0,d=c.length;p<d;p++)c[p]=r(c[p],i,a,e,n)},h.prototype.toGeoJSON=function(t,e,n){function r(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n[1]+s)/i;t[e]=[360*(n[0]+o)/i-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}var i=this.extent*Math.pow(2,n),o=this.extent*t,s=this.extent*e,a=this.geometry,h=["Unknown","Point","LineString","Polygon"],f=h[this.type];switch(this.type){case 1:for(var l=[],c=0;c<a.length;c++)l[c]=a[c][0];a=l,r(a);break;case 2:for(var p=0;p<a.length;p++)r(a[p]);break;case 3:a=u.classifyRings(a);for(var d=0;d<a.length;d++)for(var g=0;g<a[d].length;g++)r(a[d][g])}1===a.length?a=a[0]:f="Multi"+f;var y={type:"Feature",geometry:{type:f,coordinates:a},properties:this.properties};return"id"in this&&(y.id=this.id),y},t.exports=h},function(t,e,n){"use strict";function r(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e.features.push(n.pos):3===t?e.keys.push(n.readString()):4===t&&e.values.push(i(n))}function i(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}var o=n(11),s=function(t){this.version=1,this.name=t||null,this.extent=4096,this.features=[]};s.prototype.loadPbf=function(t,e){var n={keys:[],values:[],features:[]};t.readFields(r,n,e),this.version=n.version,this.name=n.name,this.extent=n.extent;for(var i=t.pos,s=0,a=n.features.length;s<a;s++){t.pos=n.features[s];var u=new o;u.loadPbf(t,t.readVarint()+t.pos,n.extent,n.keys,n.values),this.features.push(u)}t.pos=i},s.prototype.addFeature=function(t){this.features.push(t)},t.exports=s},function(t,e,n){(function(e,r){"use strict";function i(t){return I.from(t)}function o(t){return I.isBuffer(t)||t instanceof U}function s(t,e,n){return"function"==typeof t.prependListener?t.prependListener(e,n):void(t._events&&t._events[e]?O(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n))}function a(t,e){B=B||n(1),t=t||{},this.objectMode=!!t.objectMode,e instanceof B&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new F,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(z||(z=n(17).StringDecoder),this.decoder=new z(t.encoding),this.encoding=t.encoding)}function u(t){return B=B||n(1),this instanceof u?(this._readableState=new a(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),void j.call(this)):new u(t)}function h(t,e,n,r,o){var s=t._readableState;if(null===e)s.reading=!1,g(t,s);else{var a;o||(a=l(s,e)),a?t.emit("error",a):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===I.prototype||(e=i(e)),r?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):f(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?f(t,s,e,!1):v(t,s)):f(t,s,e,!1))):r||(s.reading=!1)}return c(s)}function f(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&y(t)),v(t,e)}function l(t,e){var n;return o(e)||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function c(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function p(t){return t>=W?t=W:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function d(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=p(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function g(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,y(t)}}function y(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(q("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?C(m,t):m(t))}function m(t){q("emit readable"),t.emit("readable"),E(t)}function v(t,e){e.readingMore||(e.readingMore=!0,C(w,t,e))}function w(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(q("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function _(t){return function(){var e=t._readableState;q("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&D(t,"data")&&(e.flowing=!0,E(t))}}function b(t){q("readable nexttick read 0"),t.read(0)}function x(t,e){e.resumeScheduled||(e.resumeScheduled=!0,C(S,t,e))}function S(t,e){e.reading||(q("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),E(t),e.flowing&&!e.reading&&t.read(0)}function E(t){var e=t._readableState;for(q("flow",e.flowing);e.flowing&&null!==t.read(););}function T(t,e){if(0===e.length)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=R(t,e.buffer,e.decoder),n}function R(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?M(t,e):A(t,e),r}function M(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(i+=s===o.length?o:o.slice(0,t),t-=s,0===t){s===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++r}return e.length-=r,i}function A(t,e){var n=I.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),t-=s,0===t){s===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++i}return e.length-=i,n}function L(t){var e=t._readableState;if(e.length>0)throw new Error(\'"endReadable()" called on non-empty stream\');e.endEmitted||(e.ended=!0,C(k,e,t))}function k(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function P(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}var C=n(6);t.exports=u;var B,O=n(30);u.ReadableState=a;var D=(n(8).EventEmitter,function(t,e){return t.listeners(e).length}),j=n(16),I=n(7).Buffer,U=e.Uint8Array||function(){},N=n(5);N.inherits=n(2);var Y=n(42),q=void 0;q=Y&&Y.debuglog?Y.debuglog("stream"):function(){};var z,F=n(33),X=n(15);N.inherits(u,j);var J=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),u.prototype.destroy=X.destroy,u.prototype._undestroy=X.undestroy,u.prototype._destroy=function(t,e){this.push(null),e(t)},u.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=I.from(t,e),e=""),n=!0),h(this,t,e,!1,n)},u.prototype.unshift=function(t){return h(this,t,null,!0,!1)},u.prototype.isPaused=function(){return this._readableState.flowing===!1},u.prototype.setEncoding=function(t){return z||(z=n(17).StringDecoder),this._readableState.decoder=new z(t),this._readableState.encoding=t,this};var W=8388608;u.prototype.read=function(t){q("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return q("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?L(this):y(this),null;if(t=d(t,e),0===t&&e.ended)return 0===e.length&&L(this),null;var r=e.needReadable;q("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,q("length less than watermark",r)),e.ended||e.reading?(r=!1,q("reading or ended",r)):r&&(q("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=d(n,e)));var i;return i=t>0?T(t,e):null,null===i?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&L(this)),null!==i&&this.emit("data",i),i},u.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},u.prototype.pipe=function(t,e){function n(t,e){q("onunpipe"),t===c&&e&&e.hasUnpiped===!1&&(e.hasUnpiped=!0,o())}function i(){q("onend"),t.end()}function o(){q("cleanup"),t.removeListener("close",h),t.removeListener("finish",f),t.removeListener("drain",y),t.removeListener("error",u),t.removeListener("unpipe",n),c.removeListener("end",i),c.removeListener("end",l),c.removeListener("data",a),m=!0,!p.awaitDrain||t._writableState&&!t._writableState.needDrain||y()}function a(e){q("ondata"),v=!1;var n=t.write(e);!1!==n||v||((1===p.pipesCount&&p.pipes===t||p.pipesCount>1&&P(p.pipes,t)!==-1)&&!m&&(q("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,v=!0),c.pause())}function u(e){q("onerror",e),l(),t.removeListener("error",u),0===D(t,"error")&&t.emit("error",e)}function h(){t.removeListener("finish",f),l()}function f(){q("onfinish"),t.removeListener("close",h),l()}function l(){q("unpipe"),c.unpipe(t)}var c=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=t;break;case 1:p.pipes=[p.pipes,t];break;default:p.pipes.push(t)}p.pipesCount+=1,q("pipe count=%d opts=%j",p.pipesCount,e);var d=(!e||e.end!==!1)&&t!==r.stdout&&t!==r.stderr,g=d?i:l;p.endEmitted?C(g):c.once("end",g),t.on("unpipe",n);var y=_(c);t.on("drain",y);var m=!1,v=!1;return c.on("data",a),s(t,"error",u),t.once("close",h),t.once("finish",f),t.emit("pipe",c),p.flowing||(q("pipe resume"),c.resume()),t},u.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=P(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},u.prototype.on=function(t,e){var n=j.prototype.on.call(this,t,e);if("data"===t)this._readableState.flowing!==!1&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&y(this):C(b,this))}return n},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var t=this._readableState;return t.flowing||(q("resume"),t.flowing=!0,x(this,t)),this},u.prototype.pause=function(){return q("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(q("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(q("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){if(q("wrapped data"),e.decoder&&(i=e.decoder.write(i)),(!e.objectMode||null!==i&&void 0!==i)&&(e.objectMode||i&&i.length)){var o=r.push(i);o||(n=!0,t.pause())}});for(var i in t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<J.length;o++)t.on(J[o],r.emit.bind(r,J[o]));return r._read=function(e){q("wrapped _read",e),n&&(n=!1,t.resume())},r},u._fromList=T}).call(e,function(){return this}(),n(3))},function(t,e,n){"use strict";function r(t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState=new r(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t,n){s(e,t,n)}):s(e)})}function s(t,e,n){if(e)return t.emit("error",e);null!==n&&void 0!==n&&t.push(n);var r=t._writableState,i=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=o;var a=n(1),u=n(5);u.inherits=n(2),u.inherits(o,a),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var n=this;a.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";function r(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?void(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||s(o,this,t)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),void this._destroy(t||null,function(t){!e&&t?(s(o,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}))}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(t,e){t.emit("error",e)}var s=n(6);t.exports={destroy:r,undestroy:i}},function(t,e,n){t.exports=n(8).EventEmitter},function(t,e,n){"use strict";function r(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(t){var e=r(t);if("string"!=typeof e&&(v.isEncoding===w||!w(t)))throw new Error("Unknown encoding: "+t);return e||t}function o(t){this.encoding=i(t);var e;switch(this.encoding){case"utf16le":this.text=c,this.end=p,e=4;break;case"utf8":this.fillLast=h,e=4;break;case"base64":this.text=d,this.end=g,e=3;break;default:return this.write=y,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=v.allocUnsafe(e)}function s(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:-1}function a(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n?0:(i=s(e[r]),i>=0?(i>0&&(t.lastNeed=i-2),i):--r<n?0:(i=s(e[r]),i>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0))}function u(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"ï¿½".repeat(n);if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"ï¿½".repeat(n+1);if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"ï¿½".repeat(n+2)}}function h(t){var e=this.lastTotal-this.lastNeed,n=u(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function f(t,e){var n=a(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"ï¿½".repeat(this.lastTotal-this.lastNeed):e}function c(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function p(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function d(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function g(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function y(t){return t.toString(this.encoding)}function m(t){return t&&t.length?this.write(t):""}var v=n(7).Buffer,w=v.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),void 0===e)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=l,o.prototype.text=f,o.prototype.fillLast=function(t){return this.lastNeed<=t.length?(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),void(this.lastNeed-=t.length))}},function(t,e,n){function r(t){if(t&&!u(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function s(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var a=n(4).Buffer,u=a.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},h=e.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};h.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=e.charCodeAt(e.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),e+=t.toString(this.encoding,0,i);var i=e.length-1,r=e.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,i)}return e},h.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},h.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},function(t,e,n){"use strict";function r(t,e,n){if(3===t){var r=new i;r.loadPbf(n,n.readVarint()+n.pos),e[r.name]=r}}var i=n(12),o=function(t,e,n,r){this.layers={},"undefined"!=typeof e&&(this.parent=t,this.children=[],this.z=e,this.x=n,this.y=r,this.defaultLayer=new i("DEFAULT"),this.layers={DEFAULT:this.defaultLayer},t?(t.children.push(this),1&n?(this.minX=t.midX,this.maxX=t.maxX):(this.minX=t.minX,this.maxX=t.midX),1&r?(this.minY=t.midY,this.maxY=t.maxY):(this.minY=t.minY,this.maxY=t.midY),this.midX=(this.minX+this.maxX)/2,this.midY=(this.minY+this.maxY)/2):(this.minX=this.minY=0,this.maxX=this.maxY=1,this.midX=this.midY=.5))};o.prototype.loadPbf=function(t,e){t.readFields(r,this.layers,e)},t.exports=o},function(t,e){"use strict";function n(t){var e=Math.sin(t[1]*Math.PI/180),n=t[0]/360+.5,r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r=r<0?0:r>1?1:r,[n,r,0]}function r(t,e){for(var r=[],i=0,o=t.length;i<o;i++)r.push(n(t[i]));return e&&(h(r,e),f(r)),r}function i(t,e,n){return[n,(n-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function o(t,e,n){return[(n-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],n,1]}function s(t,e,n,r,i){return e.length&&(e.area=n,e.dist=r,void 0!==i&&(e.outer=i),t.push(e)),[]}function a(t,e,n,r,a){for(var u=[],h=0===r?i:o,f=0,l=t.length;f<l;f++){for(var c=t[f],p=c.area,d=c.dist,g=c.outer,y=c.length,m=void 0,v=null,w=0,_=0,b=[],x=0;x<y-1;x++)m=v||c[x],v=c[x+1],w=_||m[r],_=v[r],w<e?_>n?(b.push(h(m,v,e),h(m,v,n)),a||(b=s(u,b,p,d,g))):_>=e&&b.push(h(m,v,e)):w>n?_<e?(b.push(h(m,v,n),h(m,v,e)),a||(b=s(u,b,p,d,g))):_<=n&&b.push(h(m,v,n)):(b.push(m),_<e?(b.push(h(m,v,e)),a||(b=s(u,b,p,d,g))):_>n&&(b.push(h(m,v,n)),a||(b=s(u,b,p,d,g))));m=c[y-1],w=m[r],w>=e&&w<=n&&b.push(m);var S=b[b.length-1];a&&S&&(b[0][0]!==S[0]||b[0][1]!==S[1])&&b.push(b[0]),s(u,b,p,d,g)}return u}function u(t,e,n){var r=e[0],i=e[1],o=n[0],s=n[1],a=t[0],u=t[1],h=o-r,f=s-i;if(0!==h||0!==f){var l=((a-r)*h+(u-i)*f)/(h*h+f*f);l>1?(r=o,i=s):l>0&&(r+=h*l,i+=f*l)}return h=a-r,f=u-i,h*h+f*f}function h(t,e){var n=e*e,r=t.length,i=0,o=r-1,s=[],a=void 0,h=void 0,f=void 0,l=void 0;for(t[i][2]=1,t[o][2]=1;o;){for(h=0,a=i+1;a<o;a++)f=u(t[a],t[i],t[o]),f>h&&(l=a,h=f);h>n?(t[l][2]=h,s.push(i),s.push(l),i=l):(o=s.pop(),i=s.pop())}}function f(t){for(var e,n,r=0,i=0,o=0;o<t.length-1;o++)e=n||t[o],n=t[o+1],r+=e[0]*n[1]-n[0]*e[1],i+=Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1]);t.area=Math.abs(r/2),t.dist=i}function l(t,e,n){for(var r=[],i=n*n,o=0,s=e.length;o<s;o++){var a=e[o];if(!(2===t&&a.dist<n||3===t&&a.area<i)){for(var u=[],h=0,f=a.length;h<f;h++){var l=a[h];l[2]>i&&u.push(l)}3===t&&c(u,a.outer),r.push(u)}}return r}function c(t,e){var n=p(t);n<0===e&&t.reverse()}function p(t){for(var e,n,r=0,i=0,o=t.length,s=o-1;i<o;s=i++)e=t[i],n=t[s],r+=(n[0]-e[0])*(e[1]+n[1]);return r}function d(t){var e=t.length;if(e<=1)return[t];for(var n=[],r=void 0,i=void 0,o=0;o<e;o++){var s=p(t[o]);0!==s&&(void 0===i&&(i=s<0),i===s<0?(r&&n.push(r),r=[t[o]]):r.push(t[o]))}return r&&n.push(r),n}t.exports={projectPoint:n,project:r,clip:a,calcPointImportance:h,calcSize:f,simplify:l,rewind:c,classifyRings:d}},function(t,e,n){"use strict";function r(t,e,n){return 32*((1<<t)*n+e)+t}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(19),s=n(12),a=n(11),u={maxZoom:14,depth:10,tolerance:3,extent:4096,buffer:64},h=function(t){this.options=i({},u,t);var e=1<<this.options.maxZoom;this.minTolerance=this.options.tolerance/(e*this.options.extent),this.tiles={},this.root=this.createTile(null,0,0,0)};h.prototype.createTile=function(t,e,n,i){var s=new o(t,e,n,i),a=r(e,n,i);return this.tiles[a]=s,s},h.prototype.getTile=function(t,e,n){var i=r(t,e,n);return this.tiles[i]},h.prototype.insert=function(t){if(t.geometry){var e=new a;e.loadGeoJSON(t),e.project(this.minTolerance),e.calcBBox(),this.insert_(this.root,this.options.depth,e)}},h.prototype.insert_=function(t,e,n){var r=n.minX,i=n.minY,o=n.maxX,s=n.maxY,a=t.midX,u=t.midY;if(e&&(o<a||r>=a)&&(s<u||i>=u)){var h=t.z+1,f=r>=a?(t.x<<1)+1:t.x<<1,l=i>=u?(t.y<<1)+1:t.y<<1,c=this.getTile(h,f,l);c||(c=this.createTile(t,h,f,l)),this.insert_(c,e-1,n)}else t.defaultLayer.addFeature(n)},h.prototype.featuresInTile=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=1<<t,o=this.options.tolerance/(i*this.options.extent),s=this.options.buffer/(i*this.options.extent),a=[],u=void 0,h=void 0,f=void 0,l=void 0,c=this.getTile(t,e,n),p=void 0;if(c){u=c.minX,h=c.minY,f=c.maxX,l=c.maxY,p=c.parent;for(var d=[c];d.length;){var g=d.pop();g.defaultLayer.features.length>0&&(a=a.concat(g.defaultLayer.features)),g.children.length>0&&(d=d.concat(g.children))}}else{u=e/i,f=(e+1)/i,h=n/i,l=(n+1)/i;for(var y=t,m=e,v=n;!p;)y-=1,m>>=1,v>>=1,p=this.getTile(y,m,v)}for(var w=[];p;){for(var _=0,b=p.defaultLayer.features.length;_<b;_++){var x=p.defaultLayer.features[_];x.minX>f||x.maxX<u||x.minY>l||x.maxY<h||w.push(x)}p=p.parent}var S=[];if(r.clip||r.simplify||r.transform){for(var E=0,T=a.length;E<T;E++){var R=a[E].clone();r.simplify&&R.simplify(o),r.transform&&R.transform(t,e,n,this.options.extent),S.push(R)}for(var M=0,A=w.length;M<A;M++){var L=w[M].clone();r.clip&&L.clip(u-s,h-s,f+s,l+s),r.simplify&&L.simplify(o),r.transform&&L.transform(t,e,n,this.options.extent),S.push(L)}}else S=a.concat(w);return S},h.Tile=o,h.Layer=s,h.Feature=a,t.exports=h},function(t,e,n){"use strict";function r(t,e,n,r){var i=Math.min(1,Math.max(0,.5-Math.log(Math.tan(Math.PI/4+Math.PI/2*t/180))/Math.PI/2)),o=Math.floor(i*Math.pow(2,n)*r),s=e/360+.5,a=Math.floor(s*Math.pow(2,n)*r);return[a,o]}function i(t,e,n,r){var i=t/(Math.pow(2,n)*r),o=360*(1===i?1:i%1)-180,s=e/(Math.pow(2,n)*r),a=s<=0?90:s>=1?-90:180/Math.PI*(2*Math.atan(Math.exp(Math.PI*(1-2*s)))-Math.PI/2);return[a,o]}function o(t,e){return s(t,e)}var s=n(26);t.exports={latLngToPixel:r,pixelToLatLng:i,parseCSV:o}},function(t,e){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function i(t){var e,r,i,o,s,a=t.length;o=n(t),s=new f(3*a/4-o),r=o>0?a-4:a;var u=0;for(e=0;e<r;e+=4)i=h[t.charCodeAt(e)]<<18|h[t.charCodeAt(e+1)]<<12|h[t.charCodeAt(e+2)]<<6|h[t.charCodeAt(e+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=255&i;return 2===o?(i=h[t.charCodeAt(e)]<<2|h[t.charCodeAt(e+1)]>>4,s[u++]=255&i):1===o&&(i=h[t.charCodeAt(e)]<<10|h[t.charCodeAt(e+1)]<<4|h[t.charCodeAt(e+2)]>>2,s[u++]=i>>8&255,s[u++]=255&i),s}function o(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function s(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(o(r));return i.join("")}function a(t){for(var e,n=t.length,r=n%3,i="",o=[],a=16383,h=0,f=n-r;h<f;h+=a)o.push(s(t,h,h+a>f?f:h+a));return 1===r?(e=t[n-1],i+=u[e>>2],i+=u[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=u[e>>10],i+=u[e>>4&63],i+=u[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=r,e.toByteArray=i,e.fromByteArray=a;for(var u=[],h=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,p=l.length;c<p;++c)u[c]=l[c],\nh[l.charCodeAt(c)]=c;h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e,r){var i,o,s,a;s=n(29),a=n(41),o=n(18).StringDecoder,t.exports=function(){var t,n,o,s,a,u;if(3===arguments.length){if(s=arguments[0],a=arguments[1],t=arguments[2],"function"!=typeof t)throw Error("Invalid callback argument: "+JSON.stringify(t));if("string"!=typeof s&&!e.isBuffer(arguments[0]))return t(Error("Invalid data argument: "+JSON.stringify(s)))}else 2===arguments.length?("string"==typeof arguments[0]||e.isBuffer(arguments[0])?s=arguments[0]:a=arguments[0],"function"==typeof arguments[1]?t=arguments[1]:a=arguments[1]):1===arguments.length&&("function"==typeof arguments[0]?t=arguments[0]:a=arguments[0]);return null==a&&(a={}),u=new i(a),null!=s&&r.nextTick(function(){return u.write(s),u.end()}),t&&(n=!1,o=a.objname?{}:[],u.on("readable",function(){var t,e;for(e=[];t=u.read();)a.objname?e.push(o[t[0]]=t[1]):e.push(o.push(t));return e}),u.on("error",function(e){return n=!0,t(e)}),u.on("end",function(){if(!n)return t(null,o)})),u},i=function(t){var e,n,r,i,a,u,h,f,l,c,p,d,g,y,m,v,w,_,b;null==t&&(t={}),t.objectMode=!0,this.options={};for(_ in t)b=t[_],this.options[_]=b;return s.Transform.call(this,this.options),null==(e=this.options).rowDelimiter&&(e.rowDelimiter=null),"string"==typeof this.options.rowDelimiter&&(this.options.rowDelimiter=[this.options.rowDelimiter]),null==(n=this.options).delimiter&&(n.delimiter=","),null==(c=this.options).quote&&(c.quote=\'"\'),null==(p=this.options).escape&&(p.escape=\'"\'),null==(d=this.options).columns&&(d.columns=null),null==(g=this.options).comment&&(g.comment=""),null==(y=this.options).objname&&(y.objname=!1),null==(m=this.options).trim&&(m.trim=!1),null==(v=this.options).ltrim&&(v.ltrim=!1),null==(w=this.options).rtrim&&(w.rtrim=!1),null==(r=this.options).auto_parse&&(r.auto_parse=!1),null==(i=this.options).auto_parse_date&&(i.auto_parse_date=!1),null==(a=this.options).relax&&(a.relax=!1),null==(u=this.options).relax_column_count&&(u.relax_column_count=!1),null==(h=this.options).skip_empty_lines&&(h.skip_empty_lines=!1),null==(f=this.options).max_limit_on_data_read&&(f.max_limit_on_data_read=128e3),null==(l=this.options).skip_lines_with_empty_values&&(l.skip_lines_with_empty_values=!1),this.lines=0,this.count=0,this.skipped_line_count=0,this.empty_line_count=0,this.is_int=/^(\\-|\\+)?([1-9]+[0-9]*)$/,this.is_float=function(t){return t-parseFloat(t)+1>=0},this._={},this._.decoder=new o,this._.quoting=!1,this._.commenting=!1,this._.field=null,this._.nextChar=null,this._.closingQuote=0,this._.line=[],this._.chunks=[],this._.rawBuf="",this._.buf="",this.options.rowDelimiter&&(this._.rowDelimiterLength=Math.max.apply(Math,this.options.rowDelimiter.map(function(t){return t.length}))),this},a.inherits(i,s.Transform),t.exports.Parser=i,i.prototype._transform=function(t,n,r){var i;t instanceof e&&(t=this._.decoder.write(t));try{return this.__write(t,!1),r()}catch(t){return i=t,this.emit("error",i)}},i.prototype._flush=function(t){var e;try{return this.__write(this._.decoder.end(),!0),this._.quoting?void this.emit("error",new Error("Quoted field not terminated at line "+(this.lines+1))):(this._.line.length>0&&this.__push(this._.line),t())}catch(t){return e=t,this.emit("error",e)}},i.prototype.__push=function(t){var e,n,r,i,o,s,a;if(!this.options.skip_lines_with_empty_values||""!==t.join("").trim()){if(a=null,this.options.columns===!0)return this.options.columns=t,void(s="");if("function"==typeof this.options.columns)return this.options.columns=this.options.columns(t),void(s="");if(!this._.line_length&&t.length>0&&(this._.line_length=this.options.columns?this.options.columns.length:t.length),1===t.length&&""===t[0])this.empty_line_count++;else if(t.length!==this._.line_length){if(!this.options.relax_column_count)throw null!=this.options.columns?Error("Number of columns on line "+this.lines+" does not match header"):Error("Number of columns is inconsistent on line "+this.lines);this.skipped_line_count++}else this.count++;if(null!=this.options.columns){for(o={},n=r=0,i=t.length;r<i;n=++r)e=t[n],this.options.columns[n]!==!1&&(o[this.options.columns[n]]=e);a=this.options.objname?[o[this.options.objname],o]:o}else a=t;if(!(this.count<this.options.from||this.count>this.options.to))return this.options.raw?(this.push({raw:this._.rawBuf,row:a}),this._.rawBuf=""):this.push(a)}},i.prototype.__write=function(t,e){var n,r,i,o,s,a,u,h,f,l,c,p,d,g,y,m,v,w,_,b,x,S,E,T,R,M,A;for(g=function(t){return function(e){return"function"==typeof t.is_int?t.is_int(e):t.is_int.test(e)}}(this),d=function(t){return function(e){return"function"==typeof t.is_float?t.is_float(e):t.is_float.test(e)}}(this),i=function(t){return function(e){var n;return t.options.auto_parse?(g(e)?e=parseInt(e):d(e)?e=parseFloat(e):t.options.auto_parse_date&&(n=Date.parse(e),isNaN(n)||(e=new Date(n))),e):e}}(this),m=this.options.trim||this.options.ltrim,M=this.options.trim||this.options.rtrim,t=this._.buf+t,y=t.length,a=0,0===this.lines&&65279===t.charCodeAt(0)&&a++;a<y&&(e||(E=t.substr(a,y-a),!(!this.options.rowDelimiter&&a+3>y||!this._.commenting&&y-a<this.options.comment.length&&this.options.comment.substr(0,y-a)===E||this.options.rowDelimiter&&y-a<this._.rowDelimiterLength&&this.options.rowDelimiter.some(function(t){return t.substr(0,y-a)===E})||this.options.rowDelimiter&&this._.quoting&&y-a<this.options.quote.length+this._.rowDelimiterLength&&this.options.rowDelimiter.some(function(t){return function(e){return(t.options.quote+e).substr(0,y-a)===E}}(this))||y-a<=this.options.delimiter.length&&this.options.delimiter.substr(0,y-a)===E||y-a<=this.options.escape.length&&this.options.escape.substr(0,y-a)===E)));)if(o=this._.nextChar?this._.nextChar:t.charAt(a),this._.nextChar=y>a+1?t.charAt(a+1):"",this.options.raw&&(this._.rawBuf+=o),null==this.options.rowDelimiter&&(v=a,R=null,this._.quoting||"\\n"!==o&&"\\r"!==o?!this._.quoting&&o===this.options.quote||"\\n"!==this._.nextChar&&"\\r"!==this._.nextChar||(R=this._.nextChar,v+=2,this.raw&&(rawBuf+=this._.nextChar)):(R=o,v+=1),R&&("\\r"===R&&"\\n"===t.charAt(v)&&(R+="\\n"),this.options.rowDelimiter=[R],this._.rowDelimiterLength=R.length)),this._.commenting||o!==this.options.escape||(s=this.options.escape===this.options.quote,h=this._.nextChar===this.options.escape,l=this._.nextChar===this.options.quote,s&&null==this._.field&&!this._.quoting||!h&&!l)){if(!this._.commenting&&o===this.options.quote)if(this._.quoting){if(r=this.options.rowDelimiter&&this.options.rowDelimiter.some(function(e){return t.substr(a+1,e.length)===e}),n=t.substr(a+1,this.options.delimiter.length)===this.options.delimiter,f=this._.nextChar===this.options.comment,!this._.nextChar||r||n||f){this._.quoting=!1,this._.closingQuote=this.options.quote.length,a++,e&&a===y&&(this._.line.push(i(this._.field||"")),this._.field=null);continue}if(!this.options.relax)throw Error("Invalid closing quote at line "+(this.lines+1)+"; found "+JSON.stringify(this._.nextChar)+" instead of delimiter "+JSON.stringify(this.options.delimiter));this._.quoting=!1,this._.field=""+this.options.quote+this._.field}else{if(!this._.field){this._.quoting=!0,a++;continue}if(null!=this._.field&&!this.options.relax)throw Error("Invalid opening quote at line "+(this.lines+1))}if(c=this.options.rowDelimiter&&this.options.rowDelimiter.some(function(e){return t.substr(a,e.length)===e}),c&&(p=this.options.rowDelimiter.filter(function(e){return t.substr(a,e.length)===e})[0].length),(c||e&&a===y-1)&&this.lines++,A=!1,this._.commenting||this._.quoting||!this.options.comment||t.substr(a,this.options.comment.length)!==this.options.comment?this._.commenting&&c&&(A=!0,this._.commenting=!1):this._.commenting=!0,u=t.substr(a,this.options.delimiter.length)===this.options.delimiter,this._.commenting||this._.quoting||!u&&!c)this._.commenting||this._.quoting||" "!==o&&"\\t"!==o?this._.commenting?a++:(null==this._.field&&(this._.field=""),this._.field+=o,a++):(null==this._.field&&(this._.field=""),m&&!this._.field||(this._.field+=o),a++);else{if(c&&0===this._.line.length&&null==this._.field&&(A||this.options.skip_empty_lines)){a+=p,this._.nextChar=t.charAt(a);continue}if(M&&(this._.closingQuote||(this._.field=null!=(w=this._.field)?w.trimRight():void 0)),this._.line.push(i(this._.field||"")),this._.closingQuote=0,this._.field=null,u&&(a+=this.options.delimiter.length,this._.nextChar=t.charAt(a),e&&!this._.nextChar&&(c=!0,this._.line.push(""))),c){this.__push(this._.line),this._.line=[],a+=p,this._.nextChar=t.charAt(a);continue}}if(!this._.commenting&&(null!=(_=this._.field)?_.length:void 0)>this.options.max_limit_on_data_read)throw Error("Delimiter not found in the file "+JSON.stringify(this.options.delimiter));if(!this._.commenting&&(null!=(b=this._.line)?b.length:void 0)>this.options.max_limit_on_data_read)throw Error("Row delimiter not found in the file "+JSON.stringify(this.options.rowDelimiter))}else a++,o=this._.nextChar,this._.nextChar=t.charAt(a+1),null==this._.field&&(this._.field=""),this._.field+=o,this.options.raw&&(this._.rawBuf+=o),a++;if(e){if(null!=this._.field&&(M&&(this._.closingQuote||(this._.field=null!=(x=this._.field)?x.trimRight():void 0)),this._.line.push(i(this._.field||"")),this._.field=null),(null!=(S=this._.field)?S.length:void 0)>this.options.max_limit_on_data_read)throw Error("Delimiter not found in the file "+JSON.stringify(this.options.delimiter));if(0===y&&this.lines++,this._.line.length>this.options.max_limit_on_data_read)throw Error("Row delimiter not found in the file "+JSON.stringify(this.options.rowDelimiter))}for(this._.buf="",T=[];a<y;)this._.buf+=t.charAt(a),T.push(a++);return T}}).call(e,n(4).Buffer,n(3))},function(t,e,n){(function(e){var r,i;r=n(18).StringDecoder,i=n(25),t.exports=function(t,n){var o,s,a;return null==n&&(n={}),a=n.objname?{}:[],t instanceof e&&(o=new r,t=o.write(t)),s=new i.Parser(n),s.push=function(t){return n.objname?a[t[0]]=t[1]:a.push(t)},s.__write(t,!1),t instanceof e&&s.__write(t.end(),!0),s._flush(function(){}),a}}).call(e,n(4).Buffer)},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,h=u>>1,f=-7,l=n?i-1:0,c=n?-1:1,p=t[e+l];for(l+=c,o=p&(1<<-f)-1,p>>=-f,f+=a;f>0;o=256*o+t[e+l],l+=c,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=r;f>0;s=256*s+t[e+l],l+=c,f-=8);if(0===o)o=1-h;else{if(o===u)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,r),o-=h}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,h=8*o-i-1,f=(1<<h)-1,l=f>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+l>=1?c/u:c*Math.pow(2,1-l),e*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(e*u-1)*Math.pow(2,i),s+=l):(a=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,h+=i;h>0;t[n+p]=255&s,p+=d,s/=256,h-=8);t[n+p-d]|=128*g}},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return g[d]=r,p(d),d++}function i(t){delete g[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function s(t){if(y)setTimeout(s,0,t);else{var e=g[t];if(e){y=!0;try{o(e)}finally{i(t),y=!1}}}}function a(){p=function(t){e.nextTick(function(){s(t)})}}function u(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function h(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&s(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),p=function(n){t.postMessage(e+n,"*")}}function f(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;s(e)},p=function(e){t.port2.postMessage(e)}}function l(){var t=m.documentElement;p=function(e){var n=m.createElement("script");n.onreadystatechange=function(){s(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function c(){p=function(t){setTimeout(s,0,t)}}if(!t.setImmediate){var p,d=1,g={},y=!1,m=t.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(t);v=v&&v.setTimeout?v:t,"[object process]"==={}.toString.call(t.process)?a():u()?h():t.MessageChannel?f():m&&"onreadystatechange"in m.createElement("script")?l():c(),v.setImmediate=r,v.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),n(3))},function(t,e,n){function r(){i.call(this)}t.exports=r;var i=n(8).EventEmitter,o=n(2);o(r,i),r.Readable=n(10),r.Writable=n(36),r.Duplex=n(31),r.Transform=n(35),r.PassThrough=n(34),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&h.pause&&h.pause()}function r(){h.readable&&h.resume&&h.resume()}function o(){f||(f=!0,t.end())}function s(){f||(f=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){h.removeListener("data",n),t.removeListener("drain",r),h.removeListener("end",o),h.removeListener("close",s),h.removeListener("error",a),t.removeListener("error",a),h.removeListener("end",u),h.removeListener("close",u),t.removeListener("close",u)}var h=this;h.on("data",n),t.on("drain",r),t._isStdio||e&&e.end===!1||(h.on("end",o),h.on("close",s));var f=!1;return h.on("error",a),t.on("error",a),h.on("end",u),h.on("close",u),t.on("close",u),t.emit("pipe",h),t}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return this instanceof r?void i.call(this,t):new r(t)}t.exports=r;var i=n(14),o=n(5);o.inherits=n(2),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){t.copy(e,n)}var o=n(7).Buffer;t.exports=function(){function t(){r(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var e=o.allocUnsafe(t>>>0),n=this.head,r=0;n;)i(n.data,e,r),r+=n.data.length,n=n.next;return e},t}()},function(t,e,n){t.exports=n(10).PassThrough},function(t,e,n){t.exports=n(10).Transform},function(t,e,n){t.exports=n(9)},function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(28),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e){(function(e){function n(t,e){function n(){if(!i){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}if(r("noDeprecation"))return t;var i=!1;return n}function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(e,function(){return this}())},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,n){(function(t,r){function i(t,n){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,n,r){if(t.customInspect&&n&&R(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return w(i)||(i=u(t,i,r)),i}var o=h(t,n);if(o)return o;var s=Object.keys(n),g=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),T(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(R(n)){var y=n.name?": "+n.name:"";return t.stylize("[Function"+y+"]","special")}if(x(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return t.stylize(Date.prototype.toString.call(n),"date");if(T(n))return f(n)}var m="",v=!1,_=["{","}"];if(d(n)&&(v=!0,_=["[","]"]),R(n)){var b=n.name?": "+n.name:"";m=" [Function"+b+"]"}if(x(n)&&(m=" "+RegExp.prototype.toString.call(n)),E(n)&&(m=" "+Date.prototype.toUTCString.call(n)),T(n)&&(m=" "+f(n)),0===s.length&&(!v||0==n.length))return _[0]+m+_[1];if(r<0)return x(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var S;return S=v?l(t,n,r,g,s):s.map(function(e){return c(t,n,r,g,e,v)}),t.seen.pop(),p(S,m,_)}function h(t,e){if(b(e))return t.stylize("undefined","undefined");if(w(e)){var n="\'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\')+"\'";return t.stylize(n,"string")}return v(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)P(e,String(s))?o.push(c(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\\d+$/)||o.push(c(t,e,n,r,i,!0))}),o}function c(t,e,n,r,i,o){var s,a,h;if(h=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},h.get?a=h.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):h.set&&(a=t.stylize("[Setter]","special")),P(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(h.value)<0?(a=y(n)?u(t,h.value,null):u(t,h.value,n-1),a.indexOf("\\n")>-1&&(a=o?a.split("\\n").map(function(t){return"  "+t}).join("\\n").substr(2):"\\n"+a.split("\\n").map(function(t){return"   "+t}).join("\\n"))):a=t.stylize("[Circular]","special")),b(s)){if(o&&i.match(/^\\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\').replace(/(^"|"$)/g,"\'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\\n")>=0&&r++,t+e.replace(/\\u001b\\[\\d\\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\\n ")+" "+t.join(",\\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return null==t}function v(t){return"number"==typeof t}function w(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function b(t){return void 0===t}function x(t){return S(t)&&"[object RegExp]"===A(t)}function S(t){return"object"==typeof t&&null!==t}function E(t){return S(t)&&"[object Date]"===A(t)}function T(t){return S(t)&&("[object Error]"===A(t)||t instanceof Error)}function R(t){return"function"==typeof t}function M(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function A(t){return Object.prototype.toString.call(t)}function L(t){return t<10?"0"+t.toString(10):t.toString(10)}function k(){var t=new Date,e=[L(t.getHours()),L(t.getMinutes()),L(t.getSeconds())].join(":");return[t.getDate(),D[t.getMonth()],e].join(" ")}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var C=/%[sdj%]/g;e.format=function(t){if(!w(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(C,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),a=r[n];n<o;a=r[++n])s+=y(a)||!S(a)?" "+a:" "+i(a);return s},e.deprecate=function(n,i){function o(){if(!s){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),s=!0}return n.apply(this,arguments)}if(b(t.process))return function(){return e.deprecate(n,i).apply(this,arguments)};if(r.noDeprecation===!0)return n;var s=!1;return o};var B,O={};e.debuglog=function(t){if(b(B)&&(B=r.env.NODE_DEBUG||""),t=t.toUpperCase(),!O[t])if(new RegExp("\\\\b"+t+"\\\\b","i").test(B)){var n=r.pid;O[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,r)}}else O[t]=function(){};return O[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=g,e.isNull=y,e.isNullOrUndefined=m,e.isNumber=v,e.isString=w,e.isSymbol=_,e.isUndefined=b,e.isRegExp=x,e.isObject=S,e.isDate=E,e.isError=T,e.isFunction=R,e.isPrimitive=M,e.isBuffer=n(40);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",k(),e.format.apply(e,arguments))},e.inherits=n(39),e._extend=function(t,e){if(!e||!S(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(e,function(){return this}(),n(3))},function(t,e){}]);',n.p+"fc6629aa367ae44fe09b.worker.js");
}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<t.length;n++)e(t[n])}function i(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t,e,n){var r=t;return f(e)?(n=e,"string"==typeof t&&(r={uri:t})):r=p(e,{uri:t}),r.callback=n,r}function a(t,e,n){return e=o(t,e,n),s(e)}function s(t){function e(){4===l.readyState&&setTimeout(o,0)}function n(){var t=void 0;if(t=l.response?l.response:l.responseText||u(l),b)try{t=JSON.parse(t)}catch(t){}return t}function r(t){return clearTimeout(d),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,c(t,w)}function o(){if(!p){var e;clearTimeout(d),e=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var r=w,i=null;return 0!==e?(r={body:n(),statusCode:e,method:y,headers:{},url:v,rawRequest:l},l.getAllResponseHeaders&&(r.headers=h(l.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),c(i,r,r.body)}}if("undefined"==typeof t.callback)throw new Error("callback argument missing");var s=!1,c=function(e,n,r){s||(s=!0,t.callback(e,n,r))},l=t.xhr||null;l||(l=t.cors||t.useXDR?new a.XDomainRequest:new a.XMLHttpRequest);var f,p,d,v=l.url=t.uri||t.url,y=l.method=t.method||"GET",g=t.body||t.data,m=l.headers=t.headers||{},_=!!t.sync,b=!1,w={body:void 0,headers:{},statusCode:0,method:y,url:v,rawRequest:l};if("json"in t&&t.json!==!1&&(b=!0,m.accept||m.Accept||(m.Accept="application/json"),"GET"!==y&&"HEAD"!==y&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),g=JSON.stringify(t.json===!0?g:t.json))),l.onreadystatechange=e,l.onload=o,l.onerror=r,l.onprogress=function(){},l.onabort=function(){p=!0},l.ontimeout=r,l.open(y,v,!_,t.username,t.password),_||(l.withCredentials=!!t.withCredentials),!_&&t.timeout>0&&(d=setTimeout(function(){if(!p){p=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)}},t.timeout)),l.setRequestHeader)for(f in m)m.hasOwnProperty(f)&&l.setRequestHeader(f,m[f]);else if(t.headers&&!i(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(g||null),l}function u(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function c(){}var l=n(97),f=n(28),h=n(104),p=n(118);t.exports=a,a.XMLHttpRequest=l.XMLHttpRequest||c,a.XDomainRequest="withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:l.XDomainRequest,r(["get","put","post","patch","head","delete"],function(t){a["delete"===t?"del":t]=function(e,n,r){return n=o(e,n,r),n.method=t.toUpperCase(),s(n)}})},function(t,e){function n(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t}t.exports=n;var r=Object.prototype.hasOwnProperty}]);